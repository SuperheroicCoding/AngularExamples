<mat-toolbar color="primary">
  <mat-toolbar-row>
    <div>Neural-Networks!</div>
  </mat-toolbar-row>
</mat-toolbar>
<div class="card-container">
  <mat-card appRaiseCard class="data-card">
    <mat-card-title>A simple Perceptron</mat-card-title>
    <mat-card-subtitle>
      We are using a simple perceptron model with 2 inputs (x and y coordinates).
      <br>
      The learned classes for the given points have the simple definition x > y.
      <br>
      The learning rate starts with 0.3 and is slowly reduced with each learned data point.
      <br>
      Click left to add add points of class1.
      <br>
      Click right to add add points of class2.
    </mat-card-subtitle>
    <mat-card-content>
      <app-data-view
        [points]="points"
        [perceptron]="perceptron"
        (dataViewClicked)="addPoint($event)">
        [canvasWidth]="width"
        [canvasHeight]="height"
      </app-data-view>
    </mat-card-content>
    <div>
    </div>
  </mat-card>
  <mat-card appRaiseCard class="actions-card">
    <mat-card-title>
      Actions
    </mat-card-title>
    <mat-card-subtitle>Train, create data, reset</mat-card-subtitle>
    <mat-card-content>
      <button mat-raised-button color="accent" (click)="train()">Train 10 Points</button>
      <button mat-raised-button color="accent" (click)="testAgainstNewData()">Test against new data
      </button>
      <button mat-raised-button color="accent" (click)="resetPerceptron()">Reset Perceptron
      </button>
      <mat-slide-toggle matTooltip="Each 30ms we learn 10 random point" color="primary"
                        [ngModel]="autoLearning$ | async"
                        (ngModelChange)="toggleAutoLearning($event)">Auto-learning {{(autoLearning$ | async)? 'enabled'
        : 'disabled'}}
      </mat-slide-toggle>
      <button mat-raised-button
              color="accent"
              (click)="clearPoints()">
        Clear Points
      </button>
    </mat-card-content>
  </mat-card>
  <mat-card appRaiseCard class="perceptron-card">
    <mat-card-title>Perceptron</mat-card-title>
    <mat-card-subtitle>Here we show the current perceptron with its last inputs and outputs</mat-card-subtitle>
    <mat-card-content>
      <div>Learnrate: {{learnRate}}, learned data points: {{learnedDataPoints}}</div>

      <app-perceptron [perceptron]="perceptron"></app-perceptron>
    </mat-card-content>
  </mat-card>
</div>

