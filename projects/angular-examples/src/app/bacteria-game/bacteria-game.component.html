<mat-card>
  <mat-card-header>
    <mat-card-title>Bacteria Game</mat-card-title>
    <mat-card-subtitle>Try to eat the other players bacteria. Orange use WASD and Blue use arrow keys to direct your bacteria</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div *ngIf="state$ | async; let state" class="statistics">
      <span>{{'Game time: ' + state.timePassed}}</span>
      <span>{{'FPS: ' + (fps$ | async)}}</span>
      <div *ngFor="let player of (players$ | async); ">Player {{player.id + 1}}: {{player.bacterias.length}}bacterias
      </div>
    </div>
    <canvas #canvasElement id="canvasElement" width="{{width}}" height="{{height}}">
    </canvas>
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button
            (click)="startGame()"
            [disabled]="isRunning$ | async"
    >
      Start
    </button>
    <button mat-raised-button
            (click)="resetGame()"
            [disabled]="!(isRunning$ | async)"
    >
      Reset
    </button>
  </mat-card-actions>
</mat-card>
<ng-template #loading>
  <mat-spinner>Loading</mat-spinner>
</ng-template>
