(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+aSf":function(n,t,a){"use strict";a.r(t);var e=a("CcnG"),i=function(){},o=a("NcP4"),l=a("lzlj"),r=a("FVSy"),s=a("zBr1"),c=a("p0ib"),h=a("Womt"),u=a("67Y/"),d=Math.PI/2,p=function(){function n(n){this.zone=n,this.mouseup$=new e.m,this.mousedown$=new e.m}return n.prototype.ngOnInit=function(){this.activateLook$=Object(c.a)(this.mousedown$.pipe(Object(u.a)(function(n){return n.stopPropagation(),n.preventDefault(),!0})),this.mouseup$.pipe(Object(u.a)(function(n){return n.stopPropagation(),n.preventDefault(),!1})))},n.prototype.ngOnDestroy=function(){this.renderer.dispose()},n.prototype.ngAfterContentInit=function(){this.clock=new h.d,this.scene=new h.o,this.scene.fog=new h.f(13421772,.002);var n=this.webGlCanvas.nativeElement;this.width=n.clientWidth,this.height=n.clientHeight,this.camera=new h.k(75,this.width/this.height,.1,1e3),this.camera.rotation.x=-Math.PI/5,this.camera.position.z=-.6,this.camera.position.y=1.86,this.camera.position.x=10,this.renderer=new h.v({canvas:n,antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.BasicShadowMap,this.renderer.setSize(this.width,this.height),this.controls=new THREE.OrbitControls(this.camera,n);var t=new h.a(16777215);this.scene.add(t);var a=new h.r(11184810,.75,200,.79,2);a.position.x=3,a.position.y=2,this.scene.add(a);var e=this.createLight(16716049);e.position.y=3,this.pointLight=e;var i=new h.g(new h.q(.2,8,8));new h.h({color:16716049}),i.name="sphere",i.position.set(e.position.x,e.position.y,e.position.z),this.pointLightSphere=i,this.pointLight.add(i),this.scene.add(e);var o=new h.b(1,1,1),l=new h.i({color:6689245,specular:39168,shininess:30,flatShading:!0});this.cube=new h.g(o,l),this.cube.castShadow=!0,this.cube.receiveShadow=!0,this.cube.position.y=.75,this.scene.add(this.cube),this.plane=this.createMandlebrotPlane(),this.plane.rotation.x=-d,this.plane.rotation.z=-.85*Math.PI,this.plane.translateX(7.5),this.plane.translateY(.5),this.plane.scale.setLength(.7),this.plane.receiveShadow=!0,this.scene.add(this.plane),this.lastFrameTime=0,this.camera.lookAt(this.cube.position),this.animate(0)},n.prototype.createLight=function(n){var t=new h.n(n);return t.castShadow=!0,t.shadow.camera.near=1,t.shadow.camera.far=60,t.shadow.bias=-.005,t},n.prototype.animate=function(n){var t=this;this.zone.runOutsideAngular(function(){t.resize();var a=t.clock.getDelta();t.cube.rotation.x+=.5*a,t.cube.rotation.y+=.5*a,t.pointLight.position.x=3*Math.sin(7e-4*n),t.pointLight.position.y=3+2*Math.cos(5e-4*n),t.pointLight.position.z=3*Math.cos(3e-4*n);var e=new h.e(.5*(Math.cos(3e-4*n)+1),.5*(Math.sin(5e-4*n)+1),.5*(Math.cos(7e-4*n)+1));t.pointLight.color.set(e),t.pointLightSphere.material.color.set(e),t.renderer.render(t.scene,t.camera),requestAnimationFrame(function(n){return t.animate(n)})})},n.prototype.createCheckerBoard=function(n){void 0===n&&(n=20);for(var t=new h.m(100,100,n,n),a=[new h.i({color:13421820,specular:39168,shininess:15,flatShading:!0}),new h.i({color:4473956,specular:39168,shininess:10,flatShading:!0})],e=0;e<n;e++)for(var i=0;i<n;i++){var o=2*(e*n+i);t.faces[o].materialIndex=t.faces[o+1].materialIndex=(e+i)%2}return new h.g(t,a)},n.prototype.createMandlebrotPlane=function(){return new h.g(new h.m(100,100,1,1),this.createMandelbrotMaterial())},n.prototype.createMandelbrotMaterial=function(){var n=h.t.merge([h.s.lights,{zoom:{type:"f",value:.05}}]);return new h.p({uniforms:n,vertexShader:"\n  precision highp float;\n  varying vec3 vPos;\n  varying vec2 vMandelbrotPos;\n  varying vec3 vNormal;\n  uniform float zoom;\n  void main () {\n    vPos = (modelViewMatrix * vec4(position, 1.0)).xyz;\n \n    vNormal = vec3(0.,1.,0.);\n    vMandelbrotPos = position.xy * zoom; \n        \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n  }\n",fragmentShader:'\n  struct PointLight {\n    vec3 color;\n    vec3 position; // light position, in camera coordinates\n    float distance; // used for attenuation purposes. Since\n                  // we\'re writing our own shader, it can\n                  // really be anything we want (as long as\n                  // we assign it to our light in its\n                  // "distance" field\n    float decay;\n  };\n  uniform PointLight pointLights[NUM_POINT_LIGHTS];\n  precision highp float;\n  varying vec3 vPos;\n  varying vec3 vNormal;\n  varying vec2 vMandelbrotPos;\n   \n  void main () {\n   \n    vec2 fractal = vMandelbrotPos.xy;\n    for (int i = 0; i < 35; i++) {\n      fractal = vMandelbrotPos.xy + vec2(\n        fractal.x * fractal.x - fractal.y * fractal.y,\n          2.0 * fractal.x * fractal.y\n        );\n      // interpolate fractal color over position\n       gl_FragColor = vec4(fractal, 0, 1);\n      // if outside of fractal, use greyish\n      if (length(fractal) > 2.5) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.);\n      }\n    }\n    \n    vec4 addedLights = vec4(0.0,0.0,0.0, 1.0);\n    for(int l = 0; l < NUM_POINT_LIGHTS; l++) {\n      vec3 lightDirection = normalize(vPos - pointLights[l].position);\n      addedLights.rgb += clamp(dot(-lightDirection, vNormal), 0.0, 1.0) * pointLights[l].color;\n    }\n    gl_FragColor = mix(gl_FragColor, addedLights, addedLights);\n  }\n',lights:!0})},n.prototype.resize=function(){var n=this.webGlCanvas.nativeElement,t=Math.min(n.parentElement.clientWidth,1024),a=n.parentElement.clientHeight;t===this.width&&a===this.height||(this.renderer.setSize(t,a,!0),this.camera.aspect=t/a,this.camera.updateProjectionMatrix(),this.width=t,this.height=a)},n}(),m=e.Ma({encapsulation:0,styles:[["mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:stretch;height:calc(100vh - 250px)}canvas[_ngcontent-%COMP%]{flex:1 1 100%;max-width:1024px}"]],data:{}});function g(n){return e.hb(0,[e.db(402653184,1,{webGlCanvas:0}),(n()(),e.Oa(1,0,null,null,13,"mat-card",[["appRaiseCard",""],["class","mat-card"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,a){var i=!0;return"mouseenter"===t&&(i=!1!==e.Ya(n,3).addRaisedClass()&&i),"mouseleave"===t&&(i=!1!==e.Ya(n,3).unraise()&&i),i},l.b,l.a)),e.Na(2,49152,null,0,r.a,[],null,null),e.Na(3,540672,null,0,s.a,[e.k],null,null),(n()(),e.Oa(4,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e.Na(5,16384,null,0,r.j,[],null,null),(n()(),e.fb(-1,null,[" Example for three.js. "])),(n()(),e.Oa(7,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),e.Na(8,16384,null,0,r.i,[],null,null),(n()(),e.fb(-1,null,[" Just some objects, lights and a plane with a custom mandelbrot shader. "])),(n()(),e.Oa(10,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.Na(11,16384,null,0,r.d,[],null,null),(n()(),e.Oa(12,0,[[1,0],["webGlCanvas",1]],null,0,"canvas",[],null,[[null,"mouseup"],[null,"mousedown"]],function(n,t,a){var e=!0,i=n.component;return"mouseup"===t&&(e=!1!==i.mouseup$.emit(a)&&e),"mousedown"===t&&(e=!1!==i.mousedown$.emit(a)&&e),e},null,null)),(n()(),e.Oa(13,0,null,1,1,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),e.Na(14,16384,null,0,r.e,[],null,null)],null,null)}var v=e.Ka("app-web-gl",p,function(n){return e.hb(0,[(n()(),e.Oa(0,0,null,null,1,"app-web-gl",[],null,null,null,g,m)),e.Na(1,1294336,null,0,p,[e.x],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),f=a("Ip0R"),w=a("gIcY"),b=a("M2Lx"),W=a("Wf4p"),y=a("eDkP"),M=a("Fzqc"),x=a("SMsm"),P=a("t/Na"),L=a("ZYjt"),S=a("uGex"),C=a("o6Sk"),N=a("dWZg"),O=a("UodH"),z=a("de3e"),j=a("/VYK"),k=a("seP3"),I=a("b716"),_=a("8mMr"),G=a("4c35"),E=a("qAlS"),F=a("v9Dh"),Y=a("LC5p"),D=a("0/Q6"),H=a("Nsh5"),T=a("r43C"),$=a("kWGw"),A=a("La40"),R=a("w+lc"),V=a("/dO6"),q=a("Blfk"),B=a("PCNd"),J=a("ZYCi"),K=a("YSh2");a.d(t,"WebGlModuleNgFactory",function(){return U});var U=e.La(i,[],function(n){return e.Va([e.Wa(512,e.j,e.Aa,[[8,[o.a,v]],[3,e.j],e.v]),e.Wa(4608,f.m,f.l,[e.s,[2,f.v]]),e.Wa(4608,w.v,w.v,[]),e.Wa(4608,b.b,b.b,[]),e.Wa(4608,W.d,W.d,[]),e.Wa(4608,y.c,y.c,[y.i,y.e,e.j,y.h,y.f,e.p,e.x,f.d,M.b]),e.Wa(5120,x.d,x.a,[[3,x.d],[2,P.c],L.c,[2,f.d]]),e.Wa(5120,S.a,S.b,[y.c]),e.Wa(4608,L.f,W.e,[[2,W.i],[2,W.n]]),e.Wa(1073742336,f.c,f.c,[]),e.Wa(1073742336,C.a,C.a,[]),e.Wa(1073742336,w.s,w.s,[]),e.Wa(1073742336,w.h,w.h,[]),e.Wa(1073742336,M.a,M.a,[]),e.Wa(1073742336,W.n,W.n,[[2,W.f]]),e.Wa(1073742336,N.b,N.b,[]),e.Wa(1073742336,W.x,W.x,[]),e.Wa(1073742336,O.c,O.c,[]),e.Wa(1073742336,b.c,b.c,[]),e.Wa(1073742336,z.c,z.c,[]),e.Wa(1073742336,j.c,j.c,[]),e.Wa(1073742336,k.d,k.d,[]),e.Wa(1073742336,I.b,I.b,[]),e.Wa(1073742336,_.b,_.b,[]),e.Wa(1073742336,G.g,G.g,[]),e.Wa(1073742336,E.b,E.b,[]),e.Wa(1073742336,y.g,y.g,[]),e.Wa(1073742336,F.d,F.d,[]),e.Wa(1073742336,x.c,x.c,[]),e.Wa(1073742336,r.h,r.h,[]),e.Wa(1073742336,W.o,W.o,[]),e.Wa(1073742336,W.v,W.v,[]),e.Wa(1073742336,Y.a,Y.a,[]),e.Wa(1073742336,D.c,D.c,[]),e.Wa(1073742336,W.t,W.t,[]),e.Wa(1073742336,S.d,S.d,[]),e.Wa(1073742336,H.h,H.h,[]),e.Wa(1073742336,T.b,T.b,[]),e.Wa(1073742336,$.b,$.b,[]),e.Wa(1073742336,A.j,A.j,[]),e.Wa(1073742336,R.b,R.b,[]),e.Wa(1073742336,V.c,V.c,[]),e.Wa(1073742336,q.b,q.b,[]),e.Wa(1073742336,B.a,B.a,[]),e.Wa(1073742336,J.o,J.o,[[2,J.t],[2,J.l]]),e.Wa(1073742336,i,i,[]),e.Wa(256,V.a,{separatorKeyCodes:[K.f]},[]),e.Wa(1024,J.j,function(){return[[{path:"",component:p}]]},[])])})}}]);