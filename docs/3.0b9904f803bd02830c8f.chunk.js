webpackJsonp([3],{lVUo:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=t("LMZF"),o=function(){},i=t("911F"),a=t("SMsG"),r=t("YXpL"),u=t("V8+5"),s=t("pvRN"),c=t("Ioj9"),d=function(){function n(n,l){this.x=n,this.y=l}return n.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.magFast=function(){return this.x*this.x+this.y*this.y},n.prototype.unit=function(){return this.scalar(1/this.mag())},n.prototype.scalar=function(l){return new n(this.x*l,this.y*l)},n.prototype.setMag=function(n){return this.unit().scalar(n)},n.prototype.dot=function(n){return n.x*this.x+n.y*this.y},n.prototype.add=function(l,t){return new n(this.x+l,this.y+t)},n.prototype.addVec=function(l){return new n(this.x+l.x,this.y+l.y)},n.prototype.fastDist=function(n){return Math.abs(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},n.prototype.dist=function(n){return Math.sqrt(this.fastDist(n))},n}(),h=t("M0QU"),_=function(){function n(){this.onAddObject=new e.m,this.onReadyToPaint=new e.m,this.frameRate=0,this.time=1,this.maxR=2}return n.prototype.ngAfterContentInit=function(){var n=this;this.scetch=new h(function(l){return n.initP5(l)},this.p5Canvas.nativeElement)},n.prototype.onClick=function(n){this.onAddObject.emit(new d(n.offsetX,n.offsetY))},n.prototype.initP5=function(n){var l,t=this;n.preload=function(){l=n.loadImage("assets/wood.jpeg")},n.setup=function(){n.createCanvas(t.width,t.height,"webgl"),n.frameRate(60)},n.draw=function(){var e=n.frameCount,o=n.frameRate();if(o){e%30==0&&(t.frameRate=o);var i=Math.floor(1e3/o);t.time+=i}n.colorMode("hsl"),n.ambientLight(0,0,80);var a=-2*(n.mouseY/n.height-.5),r=2*(n.mouseX/n.width-.5),u=360*n.noise(.001*t.time+5e3),s=100*n.noise(.001*t.time+3e4);n.directionalLight(u,s,50,r,a,.25),n.camera(0,0,0),n.orbitControl(),n.background(0),n.push();var c=n.createVector(n.mouseX-n.width/2,n.mouseY-n.height/2);c.setMag(500),n.translate(c.x,c.y,30),n.fill(u,s,50),n.pop(),t.drawAreaFrame(n),t.circles&&t.circles.length&&(n.push(),n.translate(-n.width/2,-n.height/2),t.circles.forEach(function(e){n.texture(l),t.drawCircle(e,t.time,n)}),n.pop()),t.onReadyToPaint.emit(0)}},n.prototype.drawAreaFrame=function(n){var l=n.width/2;n.push(),n.translate(-l-10,0,10),n.cylinder(.5,n.height+20),n.pop(),n.push(),n.translate(l+10,0,10),n.cylinder(.5,n.height+20),n.pop(),n.push();var t=n.height/2;n.translate(0,-t-10,10),n.rotateZ(n.PI/2),n.cylinder(.5,n.width+20),n.pop(),n.push(),n.translate(0,t+10,10),n.rotateZ(n.PI/2),n.cylinder(.5,n.width+20),n.pop()},n.prototype.drawCircle=function(n,l,t){t.push();var e=n.pos,o=e.x,i=e.y;t.translate(Math.floor(o),Math.floor(i),10),t.rotate(n.pos.magFast(),t.createVector(o,i,0));var a=n.r;this.maxR=Math.max(this.maxR,a);var r=t.floor(t.map(a,1,this.maxR,4,24)),u=t.floor(t.map(a,1,this.maxR,4,16));t.sphere(a,r,u),t.pop()},n}(),p=e._1({encapsulation:0,styles:[["[_nghost-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 600px;flex:0 0 600px}"]],data:{}});function f(n){return e._24(2,[e._20(402653184,1,{p5Canvas:0}),(n()(),e._3(1,0,[[1,0],["p5Canvas",1]],null,1,"div",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onClick(t)&&e),e},null,null)),(n()(),e._22(-1,null,["\n"])),(n()(),e._22(-1,null,["\n"])),(n()(),e._3(4,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e._22(5,null,["",""])),(n()(),e._22(-1,null,["\n"]))],null,function(n,l){n(l,5,0,l.component.frameRate)})}var m=t("Un6q"),g=t("ESfO"),b=t("ghl+"),y=t("8Xfy"),v=t("ulOE"),C=t("Lpd/"),w=t("j5BN"),x=t("0nO6"),F=t("SlD5"),M=function(){function n(n){this.poissonConfig=n,this.playChanged=new e.m,this.onReset=new e.m,this.play=!1,this.subscriptions=[]}return n.prototype.ngOnInit=function(){var n=this;this.subscriptions.push(this.poissonConfig.r$.subscribe(function(l){return n.radius=l})),this.subscriptions.push(this.poissonConfig.k$.subscribe(function(l){return n.k=l})),this.subscriptions.push(this.poissonConfig.iterationsPerFrame$.subscribe(function(l){return n.iterationsPerFrame=l}))},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()})},n.prototype.radiusChanged=function(n){n&&this.poissonConfig.r$.next(n)},n.prototype.kChanged=function(n){n&&this.poissonConfig.k$.next(n)},n.prototype.iterationsPerFrameChanged=function(n){n&&this.poissonConfig.iterationsPerFrame$.next(n)},n.prototype.emitPlay=function(){this.playChanged.emit(this.play)},n.prototype.togglePlay=function(){this.play=!this.play,this.emitPlay()},n.prototype.reset=function(){this.play=!1,this.emitPlay(),this.onReset.emit(!0)},n}(),P=t("eoFs"),S=(t("GQSG"),5),j=function(){return function(){this.k$=new P.a(15),this.iterationsPerFrame$=new P.a(10),this.r$=new P.a(15),this.w=S/Math.sqrt(2)}}(),k=e._1({encapsulation:0,styles:[[""]],data:{}});function R(n){return e._24(0,[(n()(),e._3(0,0,null,null,87,"mat-card",[["class","mat-card"]],null,null,null,s.b,s.a)),e._2(1,49152,null,0,c.a,[],null,null),(n()(),e._22(-1,0,["\n  "])),(n()(),e._3(3,0,null,0,12,"mat-card",[["class","mat-card"]],null,null,null,s.b,s.a)),e._2(4,49152,null,0,c.a,[],null,null),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(6,0,null,0,3,"button",[["class","mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.togglePlay()&&e),e},g.d,g.b)),e._2(7,180224,null,0,b.b,[e.k,u.a,y.g],null,null),e._2(8,16384,null,0,b.f,[],null,null),(n()(),e._22(9,0,["",""])),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(11,0,null,0,3,"button",[["class","mat-raised-button"],["color","accent"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.reset()&&e),e},g.d,g.b)),e._2(12,180224,null,0,b.b,[e.k,u.a,y.g],{color:[0,"color"]},null),e._2(13,16384,null,0,b.f,[],null,null),(n()(),e._22(-1,0,["Reset"])),(n()(),e._22(-1,0,["\n  "])),(n()(),e._22(-1,0,["\n  "])),(n()(),e._3(17,0,null,0,69,"mat-card",[["class","mat-card"]],null,null,null,s.b,s.a)),e._2(18,49152,null,0,c.a,[],null,null),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(20,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e._2(21,16384,null,0,c.h,[],null,null),(n()(),e._22(-1,null,["Configs"])),(n()(),e._22(-1,0,["\n\n    "])),(n()(),e._3(24,0,null,0,19,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,v.b,v.a)),e._2(25,7389184,null,7,C.a,[e.k,e.h,[2,w.h]],null,null),e._20(335544320,1,{_control:0}),e._20(335544320,2,{_placeholderChild:0}),e._20(335544320,3,{_labelChild:0}),e._20(603979776,4,{_errorChildren:1}),e._20(603979776,5,{_hintChildren:1}),e._20(603979776,6,{_prefixChildren:1}),e._20(603979776,7,{_suffixChildren:1}),(n()(),e._22(-1,1,["\n      "])),(n()(),e._3(34,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","radius"],["matInput",""],["min","5.0"],["name","radius"],["placeholder","Min Radius between points"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e._16(n,35)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e._16(n,35).onTouched()&&o),"compositionstart"===l&&(o=!1!==e._16(n,35)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e._16(n,35)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e._16(n,36).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e._16(n,36).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e._16(n,36).onTouched()&&o),"blur"===l&&(o=!1!==e._16(n,41)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==e._16(n,41)._focusChanged(!0)&&o),"input"===l&&(o=!1!==e._16(n,41)._onInput()&&o),"ngModelChange"===l&&(o=!1!==(i.radius=t)&&o),"ngModelChange"===l&&(o=!1!==i.radiusChanged(t)&&o),o},null,null)),e._2(35,16384,null,0,x.d,[e.B,e.k,[2,x.a]],null,null),e._2(36,16384,null,0,x.o,[e.B,e.k],null,null),e._19(1024,null,x.h,function(n,l){return[n,l]},[x.d,x.o]),e._2(38,671744,null,0,x.m,[[8,null],[8,null],[8,null],[2,x.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e._19(2048,null,x.i,null,[x.m]),e._2(40,16384,null,0,x.j,[x.i],null,null),e._2(41,933888,null,0,F.a,[e.k,u.a,[2,x.i],[2,x.l],[2,x.e],w.b,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),e._19(2048,[[1,4]],C.b,null,[F.a]),(n()(),e._22(-1,1,["\n    "])),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(45,0,null,0,19,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,v.b,v.a)),e._2(46,7389184,null,7,C.a,[e.k,e.h,[2,w.h]],null,null),e._20(335544320,8,{_control:0}),e._20(335544320,9,{_placeholderChild:0}),e._20(335544320,10,{_labelChild:0}),e._20(603979776,11,{_errorChildren:1}),e._20(603979776,12,{_hintChildren:1}),e._20(603979776,13,{_prefixChildren:1}),e._20(603979776,14,{_suffixChildren:1}),(n()(),e._22(-1,1,["\n      "])),(n()(),e._3(55,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","samples"],["matInput",""],["min","1"],["name","samples"],["placeholder","Samples per iteration"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e._16(n,56)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e._16(n,56).onTouched()&&o),"compositionstart"===l&&(o=!1!==e._16(n,56)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e._16(n,56)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e._16(n,57).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e._16(n,57).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e._16(n,57).onTouched()&&o),"blur"===l&&(o=!1!==e._16(n,62)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==e._16(n,62)._focusChanged(!0)&&o),"input"===l&&(o=!1!==e._16(n,62)._onInput()&&o),"ngModelChange"===l&&(o=!1!==(i.k=t)&&o),"ngModelChange"===l&&(o=!1!==i.kChanged(t)&&o),o},null,null)),e._2(56,16384,null,0,x.d,[e.B,e.k,[2,x.a]],null,null),e._2(57,16384,null,0,x.o,[e.B,e.k],null,null),e._19(1024,null,x.h,function(n,l){return[n,l]},[x.d,x.o]),e._2(59,671744,null,0,x.m,[[8,null],[8,null],[8,null],[2,x.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e._19(2048,null,x.i,null,[x.m]),e._2(61,16384,null,0,x.j,[x.i],null,null),e._2(62,933888,null,0,F.a,[e.k,u.a,[2,x.i],[2,x.l],[2,x.e],w.b,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),e._19(2048,[[8,4]],C.b,null,[F.a]),(n()(),e._22(-1,1,["\n    "])),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(66,0,null,0,19,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,v.b,v.a)),e._2(67,7389184,null,7,C.a,[e.k,e.h,[2,w.h]],null,null),e._20(335544320,15,{_control:0}),e._20(335544320,16,{_placeholderChild:0}),e._20(335544320,17,{_labelChild:0}),e._20(603979776,18,{_errorChildren:1}),e._20(603979776,19,{_hintChildren:1}),e._20(603979776,20,{_prefixChildren:1}),e._20(603979776,21,{_suffixChildren:1}),(n()(),e._22(-1,1,["\n      "])),(n()(),e._3(76,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","iterationsPerFrame"],["matInput",""],["min","1"],["name","iterationsPerFrame"],["placeholder","Iterations per frame"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e._16(n,77)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e._16(n,77).onTouched()&&o),"compositionstart"===l&&(o=!1!==e._16(n,77)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e._16(n,77)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e._16(n,78).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e._16(n,78).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e._16(n,78).onTouched()&&o),"blur"===l&&(o=!1!==e._16(n,83)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==e._16(n,83)._focusChanged(!0)&&o),"input"===l&&(o=!1!==e._16(n,83)._onInput()&&o),"ngModelChange"===l&&(o=!1!==(i.iterationsPerFrame=t)&&o),"ngModelChange"===l&&(o=!1!==i.iterationsPerFrameChanged(t)&&o),o},null,null)),e._2(77,16384,null,0,x.d,[e.B,e.k,[2,x.a]],null,null),e._2(78,16384,null,0,x.o,[e.B,e.k],null,null),e._19(1024,null,x.h,function(n,l){return[n,l]},[x.d,x.o]),e._2(80,671744,null,0,x.m,[[8,null],[8,null],[8,null],[2,x.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e._19(2048,null,x.i,null,[x.m]),e._2(82,16384,null,0,x.j,[x.i],null,null),e._2(83,933888,null,0,F.a,[e.k,u.a,[2,x.i],[2,x.l],[2,x.e],w.b,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),e._19(2048,[[15,4]],C.b,null,[F.a]),(n()(),e._22(-1,1,["\n    "])),(n()(),e._22(-1,0,["\n\n  "])),(n()(),e._22(-1,0,["\n"])),(n()(),e._22(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,12,0,"accent"),n(l,38,0,"radius",t.radius),n(l,41,0,"radius","Min Radius between points","number"),n(l,59,0,"samples",t.k),n(l,62,0,"samples","Samples per iteration","number"),n(l,80,0,"iterationsPerFrame",t.iterationsPerFrame),n(l,83,0,"iterationsPerFrame","Iterations per frame","number")},function(n,l){var t=l.component;n(l,6,0,e._16(l,7).disabled||null),n(l,9,0,t.play?"Pause":"Play"),n(l,11,0,e._16(l,12).disabled||null),n(l,24,1,[e._16(l,25)._control.errorState,e._16(l,25)._control.errorState,e._16(l,25)._canLabelFloat,e._16(l,25)._shouldLabelFloat(),e._16(l,25)._hideControlPlaceholder(),e._16(l,25)._control.disabled,e._16(l,25)._control.focused,"primary"==e._16(l,25).color,"accent"==e._16(l,25).color,"warn"==e._16(l,25).color,e._16(l,25)._shouldForward("untouched"),e._16(l,25)._shouldForward("touched"),e._16(l,25)._shouldForward("pristine"),e._16(l,25)._shouldForward("dirty"),e._16(l,25)._shouldForward("valid"),e._16(l,25)._shouldForward("invalid"),e._16(l,25)._shouldForward("pending")]),n(l,34,1,[e._16(l,40).ngClassUntouched,e._16(l,40).ngClassTouched,e._16(l,40).ngClassPristine,e._16(l,40).ngClassDirty,e._16(l,40).ngClassValid,e._16(l,40).ngClassInvalid,e._16(l,40).ngClassPending,e._16(l,41)._isServer,e._16(l,41).id,e._16(l,41).placeholder,e._16(l,41).disabled,e._16(l,41).required,e._16(l,41).readonly,e._16(l,41)._ariaDescribedby||null,e._16(l,41).errorState,e._16(l,41).required.toString()]),n(l,45,1,[e._16(l,46)._control.errorState,e._16(l,46)._control.errorState,e._16(l,46)._canLabelFloat,e._16(l,46)._shouldLabelFloat(),e._16(l,46)._hideControlPlaceholder(),e._16(l,46)._control.disabled,e._16(l,46)._control.focused,"primary"==e._16(l,46).color,"accent"==e._16(l,46).color,"warn"==e._16(l,46).color,e._16(l,46)._shouldForward("untouched"),e._16(l,46)._shouldForward("touched"),e._16(l,46)._shouldForward("pristine"),e._16(l,46)._shouldForward("dirty"),e._16(l,46)._shouldForward("valid"),e._16(l,46)._shouldForward("invalid"),e._16(l,46)._shouldForward("pending")]),n(l,55,1,[e._16(l,61).ngClassUntouched,e._16(l,61).ngClassTouched,e._16(l,61).ngClassPristine,e._16(l,61).ngClassDirty,e._16(l,61).ngClassValid,e._16(l,61).ngClassInvalid,e._16(l,61).ngClassPending,e._16(l,62)._isServer,e._16(l,62).id,e._16(l,62).placeholder,e._16(l,62).disabled,e._16(l,62).required,e._16(l,62).readonly,e._16(l,62)._ariaDescribedby||null,e._16(l,62).errorState,e._16(l,62).required.toString()]),n(l,66,1,[e._16(l,67)._control.errorState,e._16(l,67)._control.errorState,e._16(l,67)._canLabelFloat,e._16(l,67)._shouldLabelFloat(),e._16(l,67)._hideControlPlaceholder(),e._16(l,67)._control.disabled,e._16(l,67)._control.focused,"primary"==e._16(l,67).color,"accent"==e._16(l,67).color,"warn"==e._16(l,67).color,e._16(l,67)._shouldForward("untouched"),e._16(l,67)._shouldForward("touched"),e._16(l,67)._shouldForward("pristine"),e._16(l,67)._shouldForward("dirty"),e._16(l,67)._shouldForward("valid"),e._16(l,67)._shouldForward("invalid"),e._16(l,67)._shouldForward("pending")]),n(l,76,1,[e._16(l,82).ngClassUntouched,e._16(l,82).ngClassTouched,e._16(l,82).ngClassPristine,e._16(l,82).ngClassDirty,e._16(l,82).ngClassValid,e._16(l,82).ngClassInvalid,e._16(l,82).ngClassPending,e._16(l,83)._isServer,e._16(l,83).id,e._16(l,83).placeholder,e._16(l,83).disabled,e._16(l,83).required,e._16(l,83).readonly,e._16(l,83)._ariaDescribedby||null,e._16(l,83).errorState,e._16(l,83).required.toString()])})}var T=function(){function n(n){this.poissonCalc=n,this.width=600,this.height=600,this.play=!1}return n.prototype.ngOnInit=function(){this.setup()},n.prototype.setup=function(){this.poissonCalc.setup(this.width,this.height)},n.prototype.reset=function(){this.setup()},n.prototype.calculate=function(){this.play&&this.poissonCalc.calculate()},n.prototype.addPoint=function(n){this.poissonCalc.addPointForCalculation(n)},n.prototype.setPlay=function(n){this.play=n},n}(),I=t("TO51"),O=t("AP4T"),A=(t("Mp93"),t("3kHg"));O.a.defer=A.a;var D=t("5jKg");O.a.prototype.switchMap=function(n,l){return Object(D.a)(n,l)(this)},t("ivSB");var q=t("80ji");O.a.prototype.takeWhile=function(n){return Object(q.a)(n)(this)};var $=t("dSLC");O.a.prototype.toArray=function(){return Object($.a)()(this)},t("7Wa7");var V=function(){function n(n,l,t){var e=this;this.poissonConfig=n,this.shapeFactory=l,this.random=t,this.grid=[],this.active=[],this.subscriptions=this.poissonConfig.iterationsPerFrame$.subscribe(function(n){return e.iterationsPerFrame=n}).add(this.poissonConfig.k$.subscribe(function(n){return e.k=n})).add(this.poissonConfig.r$.subscribe(function(n){return e.r=n})),this.w=this.poissonConfig.w}return n.prototype.setup=function(n,l){this.width=n,this.height=l,this.rows=Math.floor(this.width/this.w),this.cols=Math.floor(this.height/this.w),this.grid=[],this.active=[],this.grid=new Array(this.rows);for(var t=0;t<this.rows;t++)this.grid[t]=new Array(this.cols);this.foundCirclesSubject&&this.foundCirclesSubject.complete(),this.foundCirclesSubject=new I.a,this.foundCircles$=this.foundCirclesSubject.asObservable().scan(function(n,l){return n.push(l),n},[]),this.activesSubject&&this.activesSubject.complete(),this.activesSubject=new I.a,this.activeVectors$=this.activesSubject.asObservable(),this.calculationCompletedSubject=new I.a,this.linesSubject&&this.linesSubject.complete(),this.lineSubject=new I.a,this.linesSubject=new I.a,this.lines$=this.linesSubject.asObservable(),this.calculationSubject=new I.a,this.initCalculation()},n.prototype.calculate=function(){var n=this;this.lineSubject=new I.a,this.lineSubject.takeUntil(this.calculationCompletedSubject).toArray().subscribe(function(l){return n.linesSubject.next(l)}),this.calculationSubject.next()},n.prototype.initCalculation=function(){var n=this,l=O.a.defer(function(){return O.a.range(0,n.iterationsPerFrame)}).takeWhile(function(l){return n.active.length>0}).do(void 0,void 0,function(){return n.calculationCompletedSubject.next()}),t=O.a.defer(function(){return O.a.of(Math.floor(n.random.randomTo(n.active.length)))}).map(function(l){return{active:n.active[l],randomActiveIndex:l}});this.calculationSubject.switchMap(function(){return l}).switchMap(function(n){return t}).do(this.onNextCalculation.bind(this)).subscribe(function(n){},function(n){return console.error("error calculating",n)},function(){return console.log("Calculation completed")})},n.prototype.onNextCalculation=function(n){for(var l=this,t=n.active,e=n.randomActiveIndex,o=!1,i=this.currentDistanceForPos(t),a=function(n){var e=r.shapeFactory.randomVector().setMag(r.random.random(i,2*i)).addVec(t),a=Math.floor(e.x/r.w),u=Math.floor(e.y/r.w);u>-1&&a>-1&&u<r.cols&&a<r.rows&&!r.getFromGrid(e)&&r.getNeighbours(e,i).every(function(n){if(n){l.lineSubject.next(l.shapeFactory.createLine(e,n.pos));var t=l.currentCircleRadius(e);return e.fastDist(n.pos)-(t*t+n.r*n.r)>=i*i}})&&(o=!0,r.addToGrid(e,r.currentCircleRadius(e)),r.addToActive(e))},r=this,u=0;u<this.k;u++)a();o||this.removeFromActive(e)},n.prototype.getFromGrid=function(n){var l=Math.floor(n.x/this.w),t=Math.floor(n.y/this.w);return this.grid[l][t]},n.prototype.addPointForCalculation=function(n){this.addToGrid(n),this.addToActive(n)},n.prototype.addToGrid=function(n,l){void 0===l&&(l=this.currentCircleRadius(n));var t=Math.floor(n.x/this.w),e=Math.floor(n.y/this.w),o=this.shapeFactory.createCircle(n,l);this.grid[t][e]=o,this.foundCirclesSubject.next(o)},n.prototype.getNeighbours=function(n,l){void 0===l&&(l=this.r);var t=this.w,e=Math.floor(n.x/t),o=Math.floor(n.y/t),i=this.isInDistanceFactory(e,o,l),a=[];return this.grid.forEach(function(n,l){return n.forEach(function(n,t){i(l,t)&&a.push(n)})}),a},n.prototype.currentCircleRadius=function(n){return.2*this.currentDistanceForPos(n)},n.prototype.currentDistanceForPos=function(n){return this.r*(1+2*Math.abs(Math.sin(.01*(n.x+n.y))))},n.prototype.isInDistanceFactory=function(n,l,t){var e=this;return function(o,i){return e.isInDistance(o-n,i-l,t)}},n.prototype.isInDistance=function(n,l,t){var e=this.w*n,o=this.w*l;return t*t>=e*e+o*o},n.prototype.addToActive=function(n){this.active.push(n),this.activesSubject.next(this.active)},n.prototype.removeFromActive=function(n){this.active.splice(n,1),this.activesSubject.next(this.active)},n}(),L=e._1({encapsulation:0,styles:[[".simContent[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}"]],data:{}});function E(n){return e._24(2,[(n()(),e._3(0,0,null,null,21,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,a.b,a.a)),e._2(1,4243456,null,1,r.a,[e.k,u.a],{color:[0,"color"]},null),e._20(603979776,1,{_toolbarRows:1}),(n()(),e._22(-1,0,["\n  "])),(n()(),e._3(4,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),e._2(5,16384,[[1,4]],0,r.c,[],null,null),(n()(),e._22(-1,null,["\n    "])),(n()(),e._3(7,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e._22(-1,null,["Poisson Distribution"])),(n()(),e._22(-1,null,["\n  "])),(n()(),e._22(-1,0,["\n  "])),(n()(),e._3(11,0,null,1,9,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),e._2(12,16384,[[1,4]],0,r.c,[],null,null),(n()(),e._22(-1,null,["\n    "])),(n()(),e._3(14,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e._22(-1,null,["\n      "])),(n()(),e._3(16,0,null,null,1,"span",[["class","mat-subheading-2"]],null,null,null,null,null)),(n()(),e._22(-1,null,["Evenly distribute balls of wood on a plane"])),(n()(),e._3(18,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e._22(-1,null,["\n    "])),(n()(),e._22(-1,null,["\n  "])),(n()(),e._22(-1,0,["\n"])),(n()(),e._22(-1,null,["\n\n"])),(n()(),e._22(-1,null,["\n"])),(n()(),e._3(24,0,null,null,26,"div",[["class","simContent"]],null,null,null,null,null)),(n()(),e._22(-1,null,["\n  "])),(n()(),e._3(26,0,null,null,20,"mat-card",[["class","mat-card"]],null,null,null,s.b,s.a)),e._2(27,49152,null,0,c.a,[],null,null),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(29,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e._2(30,16384,null,0,c.h,[],null,null),(n()(),e._22(-1,null,["Simulation"])),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(33,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),e._2(34,16384,null,0,c.g,[],null,null),(n()(),e._22(-1,null,["Click to add balls as seed"])),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(37,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),e._2(38,16384,null,0,c.g,[],null,null),(n()(),e._22(-1,null,["Watch the lightning. It always comes from your mouse pointer"])),(n()(),e._22(-1,0,["\n    "])),(n()(),e._3(41,0,null,0,4,"app-p5-view",[],null,[[null,"onAddObject"],[null,"onReadyToPaint"]],function(n,l,t){var e=!0,o=n.component;return"onAddObject"===l&&(e=!1!==o.addPoint(t)&&e),"onReadyToPaint"===l&&(e=!1!==o.calculate()&&e),e},f,p)),e._2(42,1097728,null,0,_,[],{width:[0,"width"],height:[1,"height"],circles:[2,"circles"],actives:[3,"actives"]},{onAddObject:"onAddObject",onReadyToPaint:"onReadyToPaint"}),e._18(131072,m.b,[e.h]),e._18(131072,m.b,[e.h]),(n()(),e._22(-1,null,["\n    "])),(n()(),e._22(-1,0,["\n  "])),(n()(),e._22(-1,null,["\n  "])),(n()(),e._3(48,0,null,null,1,"app-sim-controls",[],null,[[null,"playChanged"],[null,"onReset"]],function(n,l,t){var e=!0,o=n.component;return"playChanged"===l&&(e=!1!==o.setPlay(t)&&e),"onReset"===l&&(e=!1!==o.reset()&&e),e},R,k)),e._2(49,245760,null,0,M,[j],null,{playChanged:"playChanged",onReset:"onReset"}),(n()(),e._22(-1,null,["\n"])),(n()(),e._22(-1,null,["\n\n"]))],function(n,l){var t=l.component;n(l,1,0,"primary"),n(l,42,0,t.width,t.height,e._23(l,42,2,e._16(l,43).transform(t.poissonCalc.foundCircles$)),e._23(l,42,3,e._16(l,44).transform(t.poissonCalc.activeVectors$))),n(l,49,0)},function(n,l){n(l,0,0,e._16(l,1)._toolbarRows.length,!e._16(l,1)._toolbarRows.length)})}var G=e.Z("app-poisson",T,function(n){return e._24(0,[(n()(),e._3(0,0,null,null,1,"app-poisson",[],null,null,null,E,L)),e._2(1,114688,null,0,T,[V],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),B=t("l6RC"),U=t("ppgG"),H=t("4jwp"),Z=t("OFGE"),N=t("jk5D"),W=t("vgc3"),X=t("9iV4"),Y=t("RyBE"),J=t("gOiy"),Q=function(){function n(n,l){this.pos=n,this.r=l}return n.prototype.getColor=function(n){return{h:365*Math.abs(Math.sin(.03*(n+this.pos.x))),s:100*Math.abs(Math.cos(this.r)),l:50}},n.prototype.getColorString=function(n){var l=this.getColor(n),t=this.hslToRgb(l.h,l.s,l.l);return this.toRGBtoHex(t)},n.prototype.toRGBtoHex=function(n){var l=n.g,t=n.b;return"#"+this.toHex(n.r)+this.toHex(l)+this.toHex(t)},n.prototype.toHex=function(n){var l=Math.floor(n%255).toString(16);return l.length>1?l:"0"+l},n.prototype.hslToRgb=function(n,l,t){var e,o;return n/=60,{r:255*this.hueToRgb(e=2*t-(o=t<=.5?t*(l+1):t+l-t*l),o,n+2),g:255*this.hueToRgb(e,o,n),b:255*this.hueToRgb(e,o,n-2)}},n.prototype.hueToRgb=function(n,l,t){return t<0&&(t+=6),t>=6&&(t-=6),t<1?(l-n)*t+n:t<3?l:t<4?(l-n)*(4-t)+n:n},n}(),K=function(){function n(){}return n.prototype.randomVector=function(){var n=2*Math.random()*Math.PI,l=Math.cos(n),t=Math.sin(n);return new d(l,t).unit()},n.prototype.createVector=function(n,l){return new d(n,l)},n.prototype.createCircle=function(n,l){return new Q(n,l)},n.prototype.createLine=function(n,l){return new function(n,l){this.from=n,this.to=l}(n,l)},n}(),z=t("3Wv1"),nn=t("UHIZ"),ln=t("0cZJ"),tn=t("CZgk"),en=t("dYU3"),on=t("e0rv"),an=t("4+t2"),rn=t("3uJi"),un=t("ZFRd"),sn=t("T2Au"),cn=function(){},dn=function(){};t.d(l,"PoissonModuleNgFactory",function(){return hn});var hn=e._0(o,[],function(n){return e._12([e._13(512,e.j,e.W,[[8,[i.a,G]],[3,e.j],e.v]),e._13(4608,m.m,m.l,[e.s,[2,m.t]]),e._13(4608,x.q,x.q,[]),e._13(6144,B.b,null,[m.d]),e._13(4608,B.c,B.c,[[2,B.b]]),e._13(4608,u.a,u.a,[]),e._13(4608,y.i,y.i,[u.a]),e._13(4608,y.h,y.h,[y.i,e.x,m.d]),e._13(136192,y.d,y.b,[[3,y.d],m.d]),e._13(5120,y.l,y.k,[[3,y.l],[2,y.j],m.d]),e._13(5120,y.g,y.e,[[3,y.g],e.x,u.a]),e._13(4608,U.b,U.b,[]),e._13(4608,w.b,w.b,[]),e._13(5120,H.d,H.b,[[3,H.d],e.x,u.a]),e._13(5120,H.g,H.f,[[3,H.g],u.a,e.x]),e._13(4608,Z.h,Z.h,[H.d,H.g,e.x]),e._13(5120,Z.e,Z.i,[[3,Z.e],m.d]),e._13(4608,Z.m,Z.m,[H.g,m.d]),e._13(5120,Z.f,Z.l,[[3,Z.f],m.d]),e._13(4608,Z.c,Z.c,[Z.h,Z.e,e.j,Z.m,Z.f,e.g,e.p,e.x,m.d]),e._13(5120,Z.j,Z.k,[Z.c]),e._13(5120,N.a,N.b,[Z.c]),e._13(5120,W.d,W.a,[[3,W.d],[2,X.a],Y.c,[2,m.d]]),e._13(5120,J.a,J.b,[Z.c]),e._13(4608,Y.f,w.c,[[2,w.g],[2,w.l]]),e._13(4608,K,K,[]),e._13(4608,j,j,[]),e._13(4608,V,V,[j,K,z.a]),e._13(512,nn.o,nn.o,[[2,nn.t],[2,nn.l]]),e._13(512,m.c,m.c,[]),e._13(512,x.n,x.n,[]),e._13(512,x.f,x.f,[]),e._13(512,B.a,B.a,[]),e._13(256,w.d,!0,[]),e._13(512,w.l,w.l,[[2,w.d]]),e._13(512,u.b,u.b,[]),e._13(512,w.v,w.v,[]),e._13(512,y.a,y.a,[]),e._13(512,b.d,b.d,[]),e._13(512,U.c,U.c,[]),e._13(512,ln.c,ln.c,[]),e._13(512,C.c,C.c,[]),e._13(512,F.b,F.b,[]),e._13(512,r.b,r.b,[]),e._13(512,tn.e,tn.e,[]),e._13(512,H.c,H.c,[]),e._13(512,Z.g,Z.g,[]),e._13(512,N.d,N.d,[]),e._13(512,W.c,W.c,[]),e._13(512,c.f,c.f,[]),e._13(512,w.m,w.m,[]),e._13(512,w.t,w.t,[]),e._13(512,en.c,en.c,[]),e._13(512,w.r,w.r,[]),e._13(512,J.d,J.d,[]),e._13(512,on.h,on.h,[]),e._13(512,an.a,an.a,[]),e._13(512,rn.b,rn.b,[]),e._13(512,un.j,un.j,[]),e._13(512,sn.a,sn.a,[]),e._13(512,cn,cn,[]),e._13(512,dn,dn,[]),e._13(512,o,o,[]),e._13(256,on.a,!1,[]),e._13(1024,nn.j,function(){return[[{path:"",component:T}]]},[])])})}});