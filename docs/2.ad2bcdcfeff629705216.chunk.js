webpackJsonp([2],{"2sx2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("WT6e"),o=function(){return function(){}}(),i=n("INQx"),a=n("GuVZ"),s=n("j06o"),l=n("XHgV"),u=n("Xjw4"),c=n("mu/C"),h=n("1OzB"),p=n("voZO"),d=function(){function t(){}return t.prototype.initCtx=function(t){return this.ctx=t,this},t.prototype.setFillColor=function(t){return this.ctx.fillStyle=t,this},t.prototype.setStrokeColor=function(t){return this.ctx.strokeStyle=t,this},t.prototype.setLineWidth=function(t){return this.ctx.lineWidth=t,this},t.prototype.drawCircle=function(t,e){return this.setFillColor("#009F10").drawPoint(t.pos.x+0,t.pos.y+0,t.r)},t.prototype.drawVec=function(t,e){return this.drawPoint(t.x,t.y,e)},t.prototype.drawPoint=function(t,e,n){return this.drawArc(t,e,n,0,2*Math.PI,!0)},t.prototype.drawLineObj=function(t){return this.drawLine(t.from,t.to)},t.prototype.drawLine=function(t,e){return this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke(),this},t.prototype.drawPath=function(t,e){var n=this;return this.ctx.moveTo(t[0].x,t[0].y),this.ctx.beginPath(),t.forEach(function(t){return n.ctx.lineTo(t.x,t.y)}),this.ctx.closePath(),this.ctx.stroke(),this},t.prototype.drawArc=function(t,e,n,r,o,i){return this.ctx.beginPath(),this.ctx.arc(t,e,n,r,o,i),this.ctx.fill(),this},t.prototype.clear=function(t,e){return this.setFillColor("black").fillRect(0,0,t,e)},t.prototype.fillRect=function(t,e,n,r){return this.ctx.fillRect(t,e,n,r),this},t}(),f=n("Hhif"),b=n("g5jc"),y=n("YaPU"),_=n("GK6M"),v=n("fKB6"),m=n("8eev"),g=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function w(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function j(t){var e=t.err;t.subject.error(e)}var x=function(t){function e(e,n,r,o,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.context=o,this.scheduler=i}return g(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return new e(t,n,o,this,r)}},e.prototype._subscribe=function(t){var n=this.callbackFunc,r=this.args,o=this.scheduler,i=this.subject;if(o)return o.schedule(e.dispatch,0,{source:this,subscriber:t,context:this.context});if(!i){i=this.subject=new m.a;var a=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,o=r.selector,i=r.subject;if(o){var a=Object(_.a)(o).apply(this,e);a===v.a?i.error(v.a.e):(i.next(a),i.complete())}else i.next(e.length<=1?e[0]:e),i.complete()};a.source=this,Object(_.a)(n).apply(this.context,r.concat(a))===v.a&&i.error(v.a.e)}return i.subscribe(t)},e.dispatch=function(t){var e=this,n=t.source,r=t.subscriber,o=t.context,i=n.callbackFunc,a=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new m.a;var u=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var o=t.source,i=o.selector,a=o.subject;if(i){var l=Object(_.a)(i).apply(this,n);l===v.a?e.add(s.schedule(j,0,{err:v.a.e,subject:a})):e.add(s.schedule(w,0,{value:l,subject:a}))}else{var u=n.length<=1?n[0]:n;e.add(s.schedule(w,0,{value:u,subject:a}))}};u.source=n,Object(_.a)(i).apply(o,a.concat(u))===v.a&&l.error(v.a.e)}e.add(l.subscribe(r))},e}(y.a).create;y.a.bindCallback=x;var O=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function C(t){var e=this,n=t.source,r=t.subscriber,o=t.context,i=n,a=i.callbackFunc,s=i.args,l=i.scheduler,u=n.subject;if(!u){u=n.subject=new m.a;var c=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var o=t.source,i=o.selector,a=o.subject,s=n.shift();if(s)e.add(l.schedule(P,0,{err:s,subject:a}));else if(i){var u=Object(_.a)(i).apply(this,n);u===v.a?e.add(l.schedule(P,0,{err:v.a.e,subject:a})):e.add(l.schedule(S,0,{value:u,subject:a}))}else{var c=n.length<=1?n[0]:n;e.add(l.schedule(S,0,{value:c,subject:a}))}};c.source=n,Object(_.a)(a).apply(o,s.concat(c))===v.a&&e.add(l.schedule(P,0,{err:v.a.e,subject:u}))}e.add(u.subscribe(r))}function S(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function P(t){var e=t.err;t.subject.error(e)}var T=function(t){function e(e,n,r,o,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.context=o,this.scheduler=i}return O(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return new e(t,n,o,this,r)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,n=this.args,r=this.scheduler,o=this.subject;if(r)return r.schedule(C,0,{source:this,subscriber:t,context:this.context});if(!o){o=this.subject=new m.a;var i=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,o=r.selector,i=r.subject,a=e.shift();if(a)i.error(a);else if(o){var s=Object(_.a)(o).apply(this,e);s===v.a?i.error(v.a.e):(i.next(s),i.complete())}else i.next(e.length<=1?e[0]:e),i.complete()};i.source=this,Object(_.a)(e).apply(this.context,n.concat(i))===v.a&&o.error(v.a.e)}return o.subscribe(t)},e}(y.a).create;y.a.bindNodeCallback=T;var I=n("tU7f");y.a.combineLatest=I.a;var k=n("Jn0N");y.a.concat=k.a;var F=n("TRG2");y.a.defer=F.a;var M=n("hmXc");y.a.empty=M.a;var R=n("SALZ");y.a.forkJoin=R.a;n("TDKa");var q=n("hl8n");y.a.fromEvent=q.a;var A=n("PoaI");y.a.fromEventPattern=A.a;var D=n("i9s7");y.a.fromPromise=D.a;var E=n("1Q68"),N=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},L=function(t){return t},X=function(t){function e(e,n,r,o,i){t.call(this),this.initialState=e,this.condition=n,this.iterate=r,this.resultSelector=o,this.scheduler=i}return N(e,t),e.create=function(t,n,r,o,i){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||L,t.scheduler):void 0===o||Object(E.a)(o)?new e(t,n,r,L,o):new e(t,n,r,o,i)},e.prototype._subscribe=function(t){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this.condition,o=this.resultSelector,i=this.iterate;;){if(r){var a=void 0;try{a=r(n)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var s=void 0;try{s=o(n)}catch(e){return void t.error(e)}if(t.next(s),t.closed)break;try{n=i(n)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}},e}(y.a).create;y.a.generate=X;var H=n("PIsA"),B=n("tZ2B"),V=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},W=function(t){function e(e,n,r){t.call(this),this.condition=e,this.thenSource=n,this.elseSource=r}return V(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this.condition,n=this.thenSource,r=this.elseSource;return new G(t,e,n,r)},e}(y.a),G=function(t){function e(e,n,r,o){t.call(this,e),this.condition=n,this.thenSource=r,this.elseSource=o,this.tryIf()}return V(e,t),e.prototype.tryIf=function(){var t=this.condition,e=this.thenSource,n=this.elseSource;try{var r=t()?e:n;r?this.add(Object(H.a)(this,r)):this._complete()}catch(t){this._error(t)}},e}(B.a),U=W.create;y.a.if=U;n("bAW0"),n("1q7Z");var $=n("dKE7");y.a.race=$.a;var J=n("Sn/7");y.a.never=J.a;n("lMWm");var Z=n("NV4R"),Y=Z.b;y.a.onErrorResumeNext=Y;var z=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function K(t){var e=t.obj,n=t.keys,r=t.length,o=t.index,i=t.subscriber;if(o!==r){var a=n[o];i.next([a,e[a]]),t.index=o+1,this.schedule(t)}else i.complete()}var Q=function(t){function e(e,n){t.call(this),this.obj=e,this.scheduler=n,this.keys=Object.keys(e)}return z(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this.keys,n=this.scheduler,r=e.length;if(n)return n.schedule(K,0,{obj:this.obj,keys:e,length:r,index:0,subscriber:t});for(var o=0;o<r;o++){var i=e[o];t.next([i,this.obj[i]])}t.complete()},e}(y.a).create;y.a.pairs=Q;n("uX89");var tt=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},et=function(t){function e(e,n){t.call(this),this.resourceFactory=e,this.observableFactory=n}return tt(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e,n=this.resourceFactory,r=this.observableFactory;try{return e=n(),new nt(t,e,r)}catch(e){t.error(e)}},e}(y.a),nt=function(t){function e(e,n,r){t.call(this,e),this.resource=n,this.observableFactory=r,e.add(n),this.tryUse()}return tt(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(Object(H.a)(this,t))}catch(t){this._error(t)}},e}(B.a),rt=et.create;y.a.using=rt;var ot=n("JRsO");y.a.throw=ot.a;var it=n("AFXa");y.a.timer=it.a;n("2Gc2");var at=n("AMGY"),st=n("OVmG"),lt=n("HdCx"),ut=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function ct(t,e){return void 0===e&&(e=null),new _t({method:"GET",url:t,headers:e})}function ht(t,e,n){return new _t({method:"POST",url:t,body:e,headers:n})}function pt(t,e){return new _t({method:"DELETE",url:t,headers:e})}function dt(t,e,n){return new _t({method:"PUT",url:t,body:e,headers:n})}function ft(t,e,n){return new _t({method:"PATCH",url:t,body:e,headers:n})}var bt=Object(lt.a)(function(t,e){return t.response});function yt(t,e){return bt(new _t({method:"GET",url:t,responseType:"json",headers:e}))}var _t=function(t){function e(e){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?(function(){if(at.a.XMLHttpRequest)return new at.a.XMLHttpRequest;if(at.a.XDomainRequest)return new at.a.XDomainRequest;throw new Error("CORS is not supported by your browser")}).call(this):function(){if(at.a.XMLHttpRequest)return new at.a.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(t=e[n],new at.a.ActiveXObject(t))break}catch(t){}return new at.a.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);this.request=n}var n;return ut(e,t),e.prototype._subscribe=function(t){return new vt(t,this.request)},e.create=((n=function(t){return new e(t)}).get=ct,n.post=ht,n.delete=pt,n.put=dt,n.patch=ft,n.getJSON=yt,n),e}(y.a),vt=function(t){function e(e,n){t.call(this,e),this.request=n,this.done=!1;var r=n.headers=n.headers||{};n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in r||at.a.FormData&&n.body instanceof at.a.FormData||"undefined"==typeof n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return ut(e,t),e.prototype.next=function(t){this.done=!0;var e=this.xhr,n=this.request,r=this.destination,o=new mt(t,e,n);r.next(o)},e.prototype.send=function(){var t=this.request,e=this.request,n=e.user,r=e.method,o=e.url,i=e.async,a=e.password,s=e.headers,l=e.body,u=t.createXHR,c=Object(_.a)(u).call(t);if(c===v.a)this.error(v.a.e);else{this.xhr=c,this.setupEvents(c,t);if((n?Object(_.a)(c.open).call(c,r,o,i,n,a):Object(_.a)(c.open).call(c,r,o,i))===v.a)return this.error(v.a.e),null;if(i&&(c.timeout=t.timeout,c.responseType=t.responseType),"withCredentials"in c&&(c.withCredentials=!!t.withCredentials),this.setHeaders(c,s),(l?Object(_.a)(c.send).call(c,l):Object(_.a)(c.send).call(c))===v.a)return this.error(v.a.e),null}return c},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(at.a.FormData&&t instanceof at.a.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.setupEvents=function(t,e){var n=e.progressSubscriber;function r(t){var e=r,n=e.subscriber,o=e.progressSubscriber,i=e.request;o&&o.error(t),n.error(new jt(this,i))}if(t.ontimeout=r,r.request=e,r.subscriber=this,r.progressSubscriber=n,t.upload&&"withCredentials"in t){var o,i;if(n)o=function(t){o.progressSubscriber.next(t)},at.a.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=n;i=function(t){var e=i,n=e.progressSubscriber,r=e.subscriber,o=e.request;n&&n.error(t),r.error(new gt("ajax error",this,o))},t.onerror=i,i.request=e,i.subscriber=this,i.progressSubscriber=n}function a(t){var e=a,n=e.subscriber,r=e.progressSubscriber,o=e.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===i&&(i=s?200:0),200<=i&&i<300?(r&&r.complete(),n.next(t),n.complete()):(r&&r.error(t),n.error(new gt("ajax error "+i,this,o)))}}t.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=n,a.request=e},e.prototype.unsubscribe=function(){var e=this.done,n=this.xhr;!e&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),t.prototype.unsubscribe.call(this)},e}(st.a),mt=function(){return function(t,e,n){this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=wt(this.responseType,e)}}(),gt=function(t){function e(e,n,r){t.call(this,e),this.message=e,this.xhr=n,this.request=r,this.status=n.status,this.responseType=n.responseType||r.responseType,this.response=wt(this.responseType,n)}return ut(e,t),e}(Error);function wt(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var jt=function(t){function e(e,n){t.call(this,"ajax timeout",e,n)}return ut(e,t),e}(gt),xt=_t.create;y.a.ajax=xt;var Ot=n("VwZZ"),Ct=n("e5zT");function St(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,o=0;o<r;o++){var i=e[o];for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t}var Pt=function(t){return t.Object.assign||St}(at.a),Tt=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},It=function(t){function e(e,n){if(e instanceof y.a)t.call(this,n,e);else{if(t.call(this),this.WebSocketCtor=at.a.WebSocket,this._output=new b.b,"string"==typeof e?this.url=e:Pt(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Ct.a}}return Tt(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var n=new e(this,this.destination);return n.operator=t,n},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new Ct.a),this._output=new b.b},e.prototype.multiplex=function(t,e,n){var r=this;return new y.a(function(o){var i=Object(_.a)(t)();i===v.a?o.error(v.a.e):r.next(i);var a=r.subscribe(function(t){var e=Object(_.a)(n)(t);e===v.a?o.error(v.a.e):e&&o.next(t)},function(t){return o.error(t)},function(){return o.complete()});return function(){var t=Object(_.a)(e)();t===v.a?o.error(v.a.e):r.next(t),a.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=r,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(t){return void n.error(t)}var o=new Ot.a(function(){t.socket=null,r&&1===r.readyState&&r.close()});r.onopen=function(e){var i=t.openObserver;i&&i.next(e);var a=t.destination;t.destination=st.a.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var o=t.closingObserver;o&&o.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t._resetState()}),a&&a instanceof Ct.a&&o.add(a.subscribe(t.destination))},r.onerror=function(e){t._resetState(),n.error(e)},r.onclose=function(e){t._resetState();var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=Object(_.a)(t.resultSelector)(e);r===v.a?n.error(v.a.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,n=this.source;if(n)return n.subscribe(t);this.socket||this._connectSocket();var r=new Ot.a;return r.add(this._output.subscribe(t)),r.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),r},e.prototype.unsubscribe=function(){var e=this.source,n=this.socket;n&&1===n.readyState&&(n.close(),this._resetState()),t.prototype.unsubscribe.call(this),e||(this.destination=new Ct.a)},e}(b.a).create;y.a.webSocket=It;var kt=n("+Ku1");y.a.prototype.buffer=function(t){return Object(kt.a)(t)(this)};n("XeQn");var Ft=n("3lw+"),Mt=n("LmY2");y.a.prototype.bufferTime=function(t){var e=arguments.length,n=Ft.a;Object(E.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),Object(Mt.a)(t,r,o,n)(this)};var Rt=n("ZG6d");y.a.prototype.bufferToggle=function(t,e){return Object(Rt.a)(t,e)(this)};var qt=n("JVp8");y.a.prototype.bufferWhen=function(t){return Object(qt.a)(t)(this)};var At=n("HurC");y.a.prototype.catch=At.a,y.a.prototype._catch=At.a;var Dt=n("roJJ");y.a.prototype.combineAll=function(t){return Object(Dt.a)(t)(this)};var Et=n("E4iY");y.a.prototype.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Et.b.apply(void 0,t)(this)};var Nt=n("5M4v");y.a.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Nt.a.apply(void 0,t)(this)};var Lt=n("pi+z");y.a.prototype.concatAll=Lt.a;var Xt=n("z+iw");y.a.prototype.concatMap=Xt.a;var Ht=n("8klI");y.a.prototype.concatMapTo=function(t,e){return Object(Ht.a)(t,e)(this)};var Bt=n("g2pf");y.a.prototype.count=function(t){return Object(Bt.a)(t)(this)};var Vt=n("PlIH");y.a.prototype.dematerialize=function(){return Object(Vt.a)()(this)};var Wt=n("cEYK");y.a.prototype.debounce=function(t){return Object(Wt.a)(t)(this)};var Gt=n("JXyw");y.a.prototype.debounceTime=function(t,e){return void 0===e&&(e=Ft.a),Object(Gt.a)(t,e)(this)};var Ut=n("2ESx");y.a.prototype.defaultIfEmpty=function(t){return void 0===t&&(t=null),Object(Ut.a)(t)(this)};var $t=n("d/lR");y.a.prototype.delay=function(t,e){return void 0===e&&(e=Ft.a),Object($t.a)(t,e)(this)};var Jt=n("I3qP");y.a.prototype.delayWhen=function(t,e){return Object(Jt.a)(t,e)(this)};var Zt=n("jIrX");y.a.prototype.distinct=function(t,e){return Object(Zt.a)(t,e)(this)};var Yt=n("BaTJ");y.a.prototype.distinctUntilChanged=function(t,e){return Object(Yt.a)(t,e)(this)};var zt=n("zBh5");y.a.prototype.distinctUntilKeyChanged=function(t,e){return Object(zt.a)(t,e)(this)};n("PCB2");var Kt=n("uQIq");y.a.prototype.exhaust=function(){return Object(Kt.a)()(this)};var Qt=n("I7Gx");y.a.prototype.exhaustMap=function(t,e){return Object(Qt.a)(t,e)(this)};var te=n("X9xd");y.a.prototype.expand=function(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,Object(te.a)(t,e,n)(this)};var ee=n("IlE6");y.a.prototype.elementAt=function(t,e){return Object(ee.a)(t,e)(this)};n("o53x");var ne=n("DGZn");function re(t){return Object(ne.a)(t)(this)}y.a.prototype.finally=re,y.a.prototype._finally=re;var oe=n("Iixx");y.a.prototype.find=function(t,e){return Object(oe.b)(t,e)(this)};var ie=n("9zYI");y.a.prototype.findIndex=function(t,e){return Object(ie.a)(t,e)(this)};var ae=n("h7+w");y.a.prototype.first=ae.a;var se=n("MNFA");y.a.prototype.groupBy=function(t,e,n,r){return Object(se.a)(t,e,n,r)(this)};var le=n("MKMw");y.a.prototype.ignoreElements=function(){return Object(le.a)()(this)};var ue=n("31jF");y.a.prototype.isEmpty=function(){return Object(ue.a)()(this)};var ce=n("NujX");y.a.prototype.audit=function(t){return Object(ce.a)(t)(this)};var he=n("6Qvr");y.a.prototype.auditTime=function(t,e){return void 0===e&&(e=Ft.a),Object(he.a)(t,e)(this)};var pe=n("BjZW");function de(t){return t(this)}y.a.prototype.last=pe.a,y.a.prototype.let=de,y.a.prototype.letBind=de;var fe=n("syUt");y.a.prototype.every=fe.a;n("owTz");var be=n("xOFB");y.a.prototype.mapTo=function(t){return Object(be.a)(t)(this)};var ye=n("VeP7");y.a.prototype.materialize=function(){return Object(ye.a)()(this)};var _e=n("DcLR");y.a.prototype.max=function(t){return Object(_e.a)(t)(this)};var ve=n("ce/b");n("/nXB");y.a.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return ve.a.apply(void 0,t)(this)};var me=n("yU56");y.a.prototype.mergeAll=me.a;n("F3G9");var ge=n("xsqI");function we(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(ge.a)(t,e,n)(this)}y.a.prototype.flatMapTo=we,y.a.prototype.mergeMapTo=we;var je=n("Pq9x");y.a.prototype.mergeScan=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(je.a)(t,e,n)(this)};var xe=n("Zm8r");y.a.prototype.min=function(t){return Object(xe.a)(t)(this)};var Oe=n("Jwyl");y.a.prototype.multicast=function(t,e){return Object(Oe.a)(t,e)(this)};var Ce=n("zrQW");y.a.prototype.observeOn=function(t,e){return void 0===e&&(e=0),Object(Ce.b)(t,e)(this)},y.a.prototype.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Z.a.apply(void 0,t)(this)};var Se=n("0jhT");y.a.prototype.pairwise=function(){return Object(Se.a)()(this)};var Pe=n("kx6R");y.a.prototype.partition=function(t,e){return Object(Pe.a)(t,e)(this)};var Te=n("RxTE");y.a.prototype.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Te.a.apply(void 0,t)(this)};var Ie=n("pdiX");y.a.prototype.publish=Ie.a;var ke=n("cv1A");y.a.prototype.publishBehavior=function(t){return Object(ke.a)(t)(this)};var Fe=n("VXLd");y.a.prototype.publishReplay=function(t,e,n,r){return Object(Fe.a)(t,e,n,r)(this)};var Me=n("A0Dp");y.a.prototype.publishLast=function(){return Object(Me.a)()(this)};var Re=n("6DZ9");y.a.prototype.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Re.a.apply(void 0,t)(this)};var qe=n("AiJR");y.a.prototype.reduce=qe.a;n("aLsJ");var Ae=n("X9ZD");y.a.prototype.repeatWhen=function(t){return Object(Ae.a)(t)(this)};var De=n("u0oG");y.a.prototype.retry=function(t){return void 0===t&&(t=-1),Object(De.a)(t)(this)};var Ee=n("DXLF");y.a.prototype.retryWhen=function(t){return Object(Ee.a)(t)(this)};var Ne=n("G+Po");y.a.prototype.sample=function(t){return Object(Ne.a)(t)(this)};var Le=n("y/hj");y.a.prototype.sampleTime=function(t,e){return void 0===e&&(e=Ft.a),Object(Le.a)(t,e)(this)};n("cxtG");var Xe=n("N4Ve");y.a.prototype.sequenceEqual=function(t,e){return Object(Xe.a)(t,e)(this)};var He=n("Rf9G");y.a.prototype.share=He.a;var Be=n("Lvyb");y.a.prototype.shareReplay=function(t,e,n){return Object(Be.a)(t,e,n)(this)};var Ve=n("tbb7");y.a.prototype.single=function(t){return Object(Ve.a)(t)(this)};var We=n("M0tu");y.a.prototype.skip=function(t){return Object(We.a)(t)(this)};var Ge=n("zB8R");y.a.prototype.skipLast=function(t){return Object(Ge.a)(t)(this)};n("uxX/");var Ue=n("jBjI");y.a.prototype.skipWhile=function(t){return Object(Ue.a)(t)(this)};var $e=n("OmGl");y.a.prototype.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return $e.a.apply(void 0,t)(this)};var Je=new(function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=function t(){var e=t.handler,n=t.args;"function"==typeof e?e.apply(void 0,n):new Function(""+e)()};return r.handler=t,r.args=e,r},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,n)),n};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",n=function n(r){var o=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&o.runIfPresent(+r.data.slice(e.length))};n.instance=this,t.addEventListener("message",n,!1);var r=function t(){var e=t.messagePrefix,n=t.instance,r=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(e+r,"*"),r};return r.instance=this,r.messagePrefix=e,r},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var n=e.data;t.runIfPresent(n)};var n=function t(){var e=t.channel,n=t.instance.addFromSetImmediateArguments(arguments);return e.port2.postMessage(n),n};return n.channel=e,n.instance=this,n},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,n=e.root.document,r=n.documentElement,o=e.addFromSetImmediateArguments(arguments),i=n.createElement("script");return i.onreadystatechange=function(){e.runIfPresent(o),i.onreadystatechange=null,r.removeChild(i),i=null},r.appendChild(i),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,n),0),n};return t.instance=this,t},t}())(at.a),Ze=n("Ne5x"),Ye=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ze=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Ye(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=Je.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(Je.clearImmediate(n),e.scheduled=void 0)},e}(Ze.a),Ke=n("Z4xk"),Qe=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},tn=new(function(t){function e(){t.apply(this,arguments)}return Qe(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(Ke.a))(ze),en=n("/acl"),nn=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},rn=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=tn),t.call(this),this.source=e,this.delayTime=n,this.scheduler=r,(!Object(en.a)(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=tn)}return nn(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=tn),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(y.a);var on=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new rn(e,this.delay,this.scheduler).subscribe(t)},t}();y.a.prototype.subscribeOn=function(t,e){return void 0===e&&(e=0),function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new on(t,e))}}(t,e)(this)};var an=n("uOuj");function sn(){return Object(an.a)()(this)}y.a.prototype.switch=sn,y.a.prototype._switch=sn;var ln=n("PhKR");y.a.prototype.switchMap=ln.a;var un=n("CiH1");y.a.prototype.switchMapTo=function(t,e){return Object(un.a)(t,e)(this)};var cn=n("JswX");y.a.prototype.take=cn.a;var hn=n("T1Dh");y.a.prototype.takeLast=function(t){return Object(hn.a)(t)(this)};n("qYgd");var pn=n("iMMJ");y.a.prototype.takeWhile=function(t){return Object(pn.a)(t)(this)};var dn=n("Tm/p");y.a.prototype.throttle=function(t,e){return void 0===e&&(e=dn.a),Object(dn.b)(t,e)(this)};var fn=n("EAZM");y.a.prototype.throttleTime=function(t,e,n){return void 0===e&&(e=Ft.a),void 0===n&&(n=dn.a),Object(fn.a)(t,e,n)(this)};var bn=n("nRqp");y.a.prototype.timeInterval=function(t){return void 0===t&&(t=Ft.a),Object(bn.a)(t)(this)};var yn=n("PWlV");y.a.prototype.timeout=function(t,e){return void 0===e&&(e=Ft.a),Object(yn.a)(t,e)(this)};var _n=n("B+N/");y.a.prototype.timeoutWith=function(t,e,n){return void 0===n&&(n=Ft.a),Object(_n.a)(t,e,n)(this)};var vn=n("yudb");y.a.prototype.timestamp=function(t){return void 0===t&&(t=Ft.a),Object(vn.a)(t)(this)};var mn=n("DDro");y.a.prototype.toArray=function(){return Object(mn.a)()(this)};n("EN1B");var gn=n("wCVf");y.a.prototype.window=function(t){return Object(gn.a)(t)(this)};var wn=n("R2W6");y.a.prototype.windowCount=function(t,e){return void 0===e&&(e=0),Object(wn.a)(t,e)(this)};var jn=n("KqOz");y.a.prototype.windowTime=function(t){var e=Ft.a,n=null,r=Number.POSITIVE_INFINITY;return Object(E.a)(arguments[3])&&(e=arguments[3]),Object(E.a)(arguments[2])?e=arguments[2]:Object(en.a)(arguments[2])&&(r=arguments[2]),Object(E.a)(arguments[1])?e=arguments[1]:Object(en.a)(arguments[1])&&(n=arguments[1]),Object(jn.a)(t,n,r,e)(this)};var xn=n("BPBl");y.a.prototype.windowToggle=function(t,e){return Object(xn.a)(t,e)(this)};var On=n("239S");y.a.prototype.windowWhen=function(t){return Object(On.a)(t)(this)};var Cn=n("Y8Mu");y.a.prototype.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Cn.a.apply(void 0,t)(this)};var Sn=n("5NEd");y.a.prototype.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Sn.b.apply(void 0,t)(this)};n("k4y7");var Pn=n("4zOZ");n("NO/a"),n("jhW9"),n("CB8l"),n("pU/0"),n("x6VL"),n("dLk1"),n("oCQ5");var Tn=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},In=(y.a,this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),kn=(b.b,this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fn=(Ke.a,function(t){function e(e,n,r){void 0===r&&(r=e.index+=1),t.call(this,e,n),this.scheduler=e,this.work=n,this.index=r,this.active=!0,this.index=e.index=r}return kn(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(Ze.a)),Mn=(this&&this.__extends,n("f9aG"),n("quu1")),Rn=n("QPaD"),qn=n("tLDX"),An=n("etqZ"),Dn=n("+CnV"),En=n("l5y7"),Nn={asap:tn,queue:Mn.a,animationFrame:Rn.a,async:Ft.a},Ln=(qn.a,Dn.a,An.a,function(){function t(t,e){this.x=t,this.y=e}return t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.magFast=function(){return this.x*this.x+this.y*this.y},t.prototype.unit=function(){return this.scalar(1/this.mag())},t.prototype.scalar=function(e){return new t(this.x*e,this.y*e)},t.prototype.setMag=function(t){return this.unit().scalar(t)},t.prototype.dot=function(t){return t.x*this.x+t.y*this.y},t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t.prototype.addVec=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.fastDist=function(t){return Math.abs(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.dist=function(t){return Math.sqrt(this.fastDist(t))},t}()),Xn=function(){function t(t){this.canvasDrawService=t,this.onAddObject=new r.t,this.onReadyToPaint=new r.t}return t.prototype.ngOnInit=function(){this.draw$=new f.a(0,Nn.animationFrame).pipe(Object(En.skipUntil)(this.onReadyToPaint))},t.prototype.ngAfterContentInit=function(){var t=this,e=this.canvas.nativeElement.getContext("2d");this.canvasDrawService.initCtx(e),setTimeout(function(){return t.onReadyToPaint.emit(0)},1e3),this.draw$.subscribe(this.draw.bind(this))},t.prototype.onClick=function(t){this.onAddObject.emit(new Ln(t.offsetX,t.offsetY))},t.prototype.isInsideDrawArea=function(t){return t.pos.x<=this.width&&t.pos.y<=this.height&&t.pos.x>=0&&t.pos.y>=0},t.prototype.draw=function(t){var e=this;(this.canvasDrawService.setFillColor("black"),this.canvasDrawService.fillRect(0,0,this.width,this.height),this.circles)&&(this.circles.filter(this.isInsideDrawArea.bind(this)).length<this.circles.length&&console.error("Some circles are out of draw area.",this.circles.filter(function(t){return!e.isInsideDrawArea(t)})),this.circles.forEach(function(n){return e.canvasDrawService.drawCircle(n,t)}));this.actives&&(this.canvasDrawService.setFillColor("red"),this.actives.forEach(function(t){return e.canvasDrawService.drawVec(t,2)})),this.lines&&(this.canvasDrawService.setStrokeColor("white"),this.lines.forEach(function(t){return e.canvasDrawService.drawLineObj(t)})),this.onReadyToPaint.emit(t)},t}(),Hn=[["[_nghost-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 500px;flex:0 0 500px;display:-webkit-box;display:-ms-flexbox;display:flex}canvas[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 500px;flex:0 0 500px}"]],Bn=r._19({encapsulation:0,styles:Hn,data:{}});function Vn(t){return r._44(2,[r._40(402653184,1,{canvas:0}),(t()(),r._21(1,0,[[1,0],["canvas",1]],null,1,"canvas",[],[[1,"width",0],[1,"height",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;"click"===e&&(r=!1!==o.onClick(n)&&r);return r},null,null)),(t()(),r._42(-1,null,["\n"])),(t()(),r._42(-1,null,["\n"]))],null,function(t,e){var n=e.component;t(e,1,0,n.width+"px",n.height+"px")})}r._17("app-canvas-view",Xn,function(t){return r._44(0,[(t()(),r._21(0,0,null,null,1,"app-canvas-view",[],null,null,null,Vn,Bn)),r._20(1,1163264,null,0,Xn,[d],null,null)],function(t,e){t(e,1,0)},null)},{width:"width",height:"height",circles:"circles",actives:"actives",lines:"lines"},{onAddObject:"onAddObject",onReadyToPaint:"onReadyToPaint"},[]);var Wn=n("YYA8"),Gn=n("TBIh"),Un=n("Uo70"),$n=n("7DMc"),Jn=n("704W"),Zn=n("BTH+"),Yn=n("gsbp"),zn=n("U/+3"),Kn=5,Qn=function(){return function(){this.k$=new Pn.a(15),this.iterationsPerFrame$=new Pn.a(10),this.r$=new Pn.a(15),this.w=Kn/Math.sqrt(2)}}(),tr=function(){function t(t){this.poissonConfig=t,this.playChanged=new r.t,this.onReset=new r.t,this.play=!1,this.subscriptions=[]}return t.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.poissonConfig.r$.subscribe(function(e){return t.radius=e})),this.subscriptions.push(this.poissonConfig.k$.subscribe(function(e){return t.k=e})),this.subscriptions.push(this.poissonConfig.iterationsPerFrame$.subscribe(function(e){return t.iterationsPerFrame=e}))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.radiusChanged=function(t){t&&this.poissonConfig.r$.next(t)},t.prototype.kChanged=function(t){t&&this.poissonConfig.k$.next(t)},t.prototype.iterationsPerFrameChanged=function(t){t&&this.poissonConfig.iterationsPerFrame$.next(t)},t.prototype.emitPlay=function(){this.playChanged.emit(this.play)},t.prototype.togglePlay=function(){this.play=!this.play,this.emitPlay()},t.prototype.reset=function(){this.play=!1,this.emitPlay(),this.onReset.emit(!0)},t}(),er=[[".configs[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}"]],nr=r._19({encapsulation:0,styles:er,data:{}});function rr(t){return r._44(0,[(t()(),r._21(0,0,null,null,86,"mat-card",[["appRaiseCard",""],["class","mat-card"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var o=!0;"mouseenter"===e&&(o=!1!==r._33(t,2).addRaisedClass()&&o);"mouseleave"===e&&(o=!1!==r._33(t,2).unraise()&&o);return o},c.b,c.a)),r._20(1,49152,null,0,h.a,[],null,null),r._20(2,540672,null,0,p.a,[r.q],null,null),(t()(),r._42(-1,0,["\n  "])),(t()(),r._21(4,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r._20(5,16384,null,0,h.j,[],null,null),(t()(),r._42(-1,null,["Configs"])),(t()(),r._42(-1,0,["\n  "])),(t()(),r._21(8,0,null,0,65,"mat-card-content",[["class","configs mat-card-content"]],null,null,null,null,null)),r._20(9,16384,null,0,h.d,[],null,null),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(11,0,null,null,19,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Wn.b,Wn.a)),r._20(12,7389184,null,7,Gn.a,[r.q,r.j,[2,Un.j]],null,null),r._40(335544320,1,{_control:0}),r._40(335544320,2,{_placeholderChild:0}),r._40(335544320,3,{_labelChild:0}),r._40(603979776,4,{_errorChildren:1}),r._40(603979776,5,{_hintChildren:1}),r._40(603979776,6,{_prefixChildren:1}),r._40(603979776,7,{_suffixChildren:1}),(t()(),r._42(-1,1,["\n      "])),(t()(),r._21(21,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","radius"],["matInput",""],["min","5.0"],["name","radius"],["placeholder","Min Radius between points"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var o=!0,i=t.component;"input"===e&&(o=!1!==r._33(t,22)._handleInput(n.target.value)&&o);"blur"===e&&(o=!1!==r._33(t,22).onTouched()&&o);"compositionstart"===e&&(o=!1!==r._33(t,22)._compositionStart()&&o);"compositionend"===e&&(o=!1!==r._33(t,22)._compositionEnd(n.target.value)&&o);"change"===e&&(o=!1!==r._33(t,23).onChange(n.target.value)&&o);"input"===e&&(o=!1!==r._33(t,23).onChange(n.target.value)&&o);"blur"===e&&(o=!1!==r._33(t,23).onTouched()&&o);"blur"===e&&(o=!1!==r._33(t,28)._focusChanged(!1)&&o);"focus"===e&&(o=!1!==r._33(t,28)._focusChanged(!0)&&o);"input"===e&&(o=!1!==r._33(t,28)._onInput()&&o);"ngModelChange"===e&&(o=!1!==(i.radius=n)&&o);"ngModelChange"===e&&(o=!1!==i.radiusChanged(n)&&o);return o},null,null)),r._20(22,16384,null,0,$n.d,[r.Q,r.q,[2,$n.a]],null,null),r._20(23,16384,null,0,$n.t,[r.Q,r.q],null,null),r._38(1024,null,$n.j,function(t,e){return[t,e]},[$n.d,$n.t]),r._20(25,671744,null,0,$n.o,[[8,null],[8,null],[8,null],[2,$n.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r._38(2048,null,$n.k,null,[$n.o]),r._20(27,16384,null,0,$n.l,[$n.k],null,null),r._20(28,933888,null,0,Jn.b,[r.q,l.a,[2,$n.k],[2,$n.n],[2,$n.g],Un.d,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),r._38(2048,[[1,4]],Gn.b,null,[Jn.b]),(t()(),r._42(-1,1,["\n    "])),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(32,0,null,null,19,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Wn.b,Wn.a)),r._20(33,7389184,null,7,Gn.a,[r.q,r.j,[2,Un.j]],null,null),r._40(335544320,8,{_control:0}),r._40(335544320,9,{_placeholderChild:0}),r._40(335544320,10,{_labelChild:0}),r._40(603979776,11,{_errorChildren:1}),r._40(603979776,12,{_hintChildren:1}),r._40(603979776,13,{_prefixChildren:1}),r._40(603979776,14,{_suffixChildren:1}),(t()(),r._42(-1,1,["\n      "])),(t()(),r._21(42,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","samples"],["matInput",""],["min","1"],["name","samples"],["placeholder","Samples per iteration"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var o=!0,i=t.component;"input"===e&&(o=!1!==r._33(t,43)._handleInput(n.target.value)&&o);"blur"===e&&(o=!1!==r._33(t,43).onTouched()&&o);"compositionstart"===e&&(o=!1!==r._33(t,43)._compositionStart()&&o);"compositionend"===e&&(o=!1!==r._33(t,43)._compositionEnd(n.target.value)&&o);"change"===e&&(o=!1!==r._33(t,44).onChange(n.target.value)&&o);"input"===e&&(o=!1!==r._33(t,44).onChange(n.target.value)&&o);"blur"===e&&(o=!1!==r._33(t,44).onTouched()&&o);"blur"===e&&(o=!1!==r._33(t,49)._focusChanged(!1)&&o);"focus"===e&&(o=!1!==r._33(t,49)._focusChanged(!0)&&o);"input"===e&&(o=!1!==r._33(t,49)._onInput()&&o);"ngModelChange"===e&&(o=!1!==(i.k=n)&&o);"ngModelChange"===e&&(o=!1!==i.kChanged(n)&&o);return o},null,null)),r._20(43,16384,null,0,$n.d,[r.Q,r.q,[2,$n.a]],null,null),r._20(44,16384,null,0,$n.t,[r.Q,r.q],null,null),r._38(1024,null,$n.j,function(t,e){return[t,e]},[$n.d,$n.t]),r._20(46,671744,null,0,$n.o,[[8,null],[8,null],[8,null],[2,$n.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r._38(2048,null,$n.k,null,[$n.o]),r._20(48,16384,null,0,$n.l,[$n.k],null,null),r._20(49,933888,null,0,Jn.b,[r.q,l.a,[2,$n.k],[2,$n.n],[2,$n.g],Un.d,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),r._38(2048,[[8,4]],Gn.b,null,[Jn.b]),(t()(),r._42(-1,1,["\n    "])),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(53,0,null,null,19,"mat-input-container",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Wn.b,Wn.a)),r._20(54,7389184,null,7,Gn.a,[r.q,r.j,[2,Un.j]],null,null),r._40(335544320,15,{_control:0}),r._40(335544320,16,{_placeholderChild:0}),r._40(335544320,17,{_labelChild:0}),r._40(603979776,18,{_errorChildren:1}),r._40(603979776,19,{_hintChildren:1}),r._40(603979776,20,{_prefixChildren:1}),r._40(603979776,21,{_suffixChildren:1}),(t()(),r._42(-1,1,["\n      "])),(t()(),r._21(63,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","iterationsPerFrame"],["matInput",""],["min","1"],["name","iterationsPerFrame"],["placeholder","Iterations per frame"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var o=!0,i=t.component;"input"===e&&(o=!1!==r._33(t,64)._handleInput(n.target.value)&&o);"blur"===e&&(o=!1!==r._33(t,64).onTouched()&&o);"compositionstart"===e&&(o=!1!==r._33(t,64)._compositionStart()&&o);"compositionend"===e&&(o=!1!==r._33(t,64)._compositionEnd(n.target.value)&&o);"change"===e&&(o=!1!==r._33(t,65).onChange(n.target.value)&&o);"input"===e&&(o=!1!==r._33(t,65).onChange(n.target.value)&&o);"blur"===e&&(o=!1!==r._33(t,65).onTouched()&&o);"blur"===e&&(o=!1!==r._33(t,70)._focusChanged(!1)&&o);"focus"===e&&(o=!1!==r._33(t,70)._focusChanged(!0)&&o);"input"===e&&(o=!1!==r._33(t,70)._onInput()&&o);"ngModelChange"===e&&(o=!1!==(i.iterationsPerFrame=n)&&o);"ngModelChange"===e&&(o=!1!==i.iterationsPerFrameChanged(n)&&o);return o},null,null)),r._20(64,16384,null,0,$n.d,[r.Q,r.q,[2,$n.a]],null,null),r._20(65,16384,null,0,$n.t,[r.Q,r.q],null,null),r._38(1024,null,$n.j,function(t,e){return[t,e]},[$n.d,$n.t]),r._20(67,671744,null,0,$n.o,[[8,null],[8,null],[8,null],[2,$n.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r._38(2048,null,$n.k,null,[$n.o]),r._20(69,16384,null,0,$n.l,[$n.k],null,null),r._20(70,933888,null,0,Jn.b,[r.q,l.a,[2,$n.k],[2,$n.n],[2,$n.g],Un.d,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),r._38(2048,[[15,4]],Gn.b,null,[Jn.b]),(t()(),r._42(-1,1,["\n    "])),(t()(),r._42(-1,null,["\n  "])),(t()(),r._42(-1,0,["\n  "])),(t()(),r._21(75,0,null,0,10,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),r._20(76,16384,null,0,h.b,[],null,null),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(78,0,null,null,2,"button",[["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;"click"===e&&(r=!1!==o.togglePlay()&&r);return r},Zn.d,Zn.b)),r._20(79,180224,null,0,Yn.b,[r.q,l.a,zn.h],null,null),(t()(),r._42(80,0,["",""])),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(82,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,o=t.component;"click"===e&&(r=!1!==o.reset()&&r);return r},Zn.d,Zn.b)),r._20(83,180224,null,0,Yn.b,[r.q,l.a,zn.h],{color:[0,"color"]},null),(t()(),r._42(-1,0,["Reset"])),(t()(),r._42(-1,null,["\n  "])),(t()(),r._42(-1,0,["\n"])),(t()(),r._42(-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,25,0,"radius",n.radius);t(e,28,0,"radius","Min Radius between points","number");t(e,46,0,"samples",n.k);t(e,49,0,"samples","Samples per iteration","number");t(e,67,0,"iterationsPerFrame",n.iterationsPerFrame);t(e,70,0,"iterationsPerFrame","Iterations per frame","number");t(e,83,0,"accent")},function(t,e){var n=e.component;t(e,11,1,[r._33(e,12)._control.errorState,r._33(e,12)._control.errorState,r._33(e,12)._canLabelFloat,r._33(e,12)._shouldLabelFloat(),r._33(e,12)._hideControlPlaceholder(),r._33(e,12)._control.disabled,r._33(e,12)._control.focused,r._33(e,12)._shouldForward("untouched"),r._33(e,12)._shouldForward("touched"),r._33(e,12)._shouldForward("pristine"),r._33(e,12)._shouldForward("dirty"),r._33(e,12)._shouldForward("valid"),r._33(e,12)._shouldForward("invalid"),r._33(e,12)._shouldForward("pending")]),t(e,21,1,[r._33(e,27).ngClassUntouched,r._33(e,27).ngClassTouched,r._33(e,27).ngClassPristine,r._33(e,27).ngClassDirty,r._33(e,27).ngClassValid,r._33(e,27).ngClassInvalid,r._33(e,27).ngClassPending,r._33(e,28)._isServer,r._33(e,28).id,r._33(e,28).placeholder,r._33(e,28).disabled,r._33(e,28).required,r._33(e,28).readonly,r._33(e,28)._ariaDescribedby||null,r._33(e,28).errorState,r._33(e,28).required.toString()]),t(e,32,1,[r._33(e,33)._control.errorState,r._33(e,33)._control.errorState,r._33(e,33)._canLabelFloat,r._33(e,33)._shouldLabelFloat(),r._33(e,33)._hideControlPlaceholder(),r._33(e,33)._control.disabled,r._33(e,33)._control.focused,r._33(e,33)._shouldForward("untouched"),r._33(e,33)._shouldForward("touched"),r._33(e,33)._shouldForward("pristine"),r._33(e,33)._shouldForward("dirty"),r._33(e,33)._shouldForward("valid"),r._33(e,33)._shouldForward("invalid"),r._33(e,33)._shouldForward("pending")]),t(e,42,1,[r._33(e,48).ngClassUntouched,r._33(e,48).ngClassTouched,r._33(e,48).ngClassPristine,r._33(e,48).ngClassDirty,r._33(e,48).ngClassValid,r._33(e,48).ngClassInvalid,r._33(e,48).ngClassPending,r._33(e,49)._isServer,r._33(e,49).id,r._33(e,49).placeholder,r._33(e,49).disabled,r._33(e,49).required,r._33(e,49).readonly,r._33(e,49)._ariaDescribedby||null,r._33(e,49).errorState,r._33(e,49).required.toString()]),t(e,53,1,[r._33(e,54)._control.errorState,r._33(e,54)._control.errorState,r._33(e,54)._canLabelFloat,r._33(e,54)._shouldLabelFloat(),r._33(e,54)._hideControlPlaceholder(),r._33(e,54)._control.disabled,r._33(e,54)._control.focused,r._33(e,54)._shouldForward("untouched"),r._33(e,54)._shouldForward("touched"),r._33(e,54)._shouldForward("pristine"),r._33(e,54)._shouldForward("dirty"),r._33(e,54)._shouldForward("valid"),r._33(e,54)._shouldForward("invalid"),r._33(e,54)._shouldForward("pending")]),t(e,63,1,[r._33(e,69).ngClassUntouched,r._33(e,69).ngClassTouched,r._33(e,69).ngClassPristine,r._33(e,69).ngClassDirty,r._33(e,69).ngClassValid,r._33(e,69).ngClassInvalid,r._33(e,69).ngClassPending,r._33(e,70)._isServer,r._33(e,70).id,r._33(e,70).placeholder,r._33(e,70).disabled,r._33(e,70).required,r._33(e,70).readonly,r._33(e,70)._ariaDescribedby||null,r._33(e,70).errorState,r._33(e,70).required.toString()]),t(e,75,0,"end"===r._33(e,76).align),t(e,78,0,r._33(e,79).disabled||null),t(e,80,0,n.play?"Pause":"Play"),t(e,82,0,r._33(e,83).disabled||null)})}r._17("app-sim-controls",tr,function(t){return r._44(0,[(t()(),r._21(0,0,null,null,1,"app-sim-controls",[],null,null,null,rr,nr)),r._20(1,245760,null,0,tr,[Qn],null,null)],function(t,e){t(e,1,0)},null)},{},{playChanged:"playChanged",onReset:"onReset"},[]);var or=n("PQG9"),ir=function(){function t(t,e){this.pos=t,this.r=e}return t.prototype.getColor=function(t){return{h:365*Math.abs(Math.sin(.03*this.pos.x+5)),s:100*Math.abs(Math.cos(this.r)),l:50}},t.prototype.getColorString=function(t){var e=this.getColor(t),n=e.h,r=e.s,o=e.l,i=this.hslToRgb(n,r,o);return this.toRGBtoHex(i)},t.prototype.toRGBtoHex=function(t){var e=t.r,n=t.g,r=t.b;return"#"+this.toHex(e)+this.toHex(n)+this.toHex(r)},t.prototype.toHex=function(t){var e=Math.floor(t%255).toString(16);return e.length>1?e:"0"+e},t.prototype.hslToRgb=function(t,e,n){var r,o;return t/=60,r=2*n-(o=n<=.5?n*(e+1):n+e-n*e),{r:255*this.hueToRgb(r,o,t+2),g:255*this.hueToRgb(r,o,t),b:255*this.hueToRgb(r,o,t-2)}},t.prototype.hueToRgb=function(t,e,n){return n<0&&(n+=6),n>=6&&(n-=6),n<1?(e-t)*n+t:n<3?e:n<4?(e-t)*(4-n)+t:t},t}(),ar=function(){return function(t,e){this.from=t,this.to=e}}(),sr=function(){function t(){}return t.prototype.randomVector=function(){var t=2*Math.random()*Math.PI,e=Math.cos(t),n=Math.sin(t);return new Ln(e,n).unit()},t.prototype.createVector=function(t,e){return new Ln(t,e)},t.prototype.createCircle=function(t,e){return new ir(t,e)},t.prototype.createLine=function(t,e){return new ar(t,e)},t}(),lr=n("wXaZ"),ur=n("YWe0"),cr=function(){function t(t,e,n){var r=this;this.poissonConfig=t,this.shapeFactory=e,this.random=n,this.grid=[],this.active=[],this.subscriptions=this.poissonConfig.iterationsPerFrame$.subscribe(function(t){return r.iterationsPerFrame=t}).add(this.poissonConfig.k$.subscribe(function(t){return r.k=t})).add(this.poissonConfig.r$.subscribe(function(t){return r.r=t})),this.w=this.poissonConfig.w}return t.prototype.setup=function(t,e){this.width=t,this.height=e,this.rows=Math.floor(this.width/this.w),this.cols=Math.floor(this.height/this.w),this.grid=[],this.active=[],this.grid=new Array(this.rows);for(var n=0;n<this.rows;n++)this.grid[n]=new Array(this.cols);this.foundCirclesSubject&&this.foundCirclesSubject.complete(),this.foundCirclesSubject=new b.b,this.foundCircles$=this.foundCirclesSubject.asObservable().pipe(Object(En.scan)(function(t,e){return t.push(e),t},[])),this.activesSubject&&this.activesSubject.complete(),this.activesSubject=new b.b,this.activeVectors$=this.activesSubject.asObservable(),this.calculationCompletedSubject=new b.b,this.linesSubject&&this.linesSubject.complete(),this.lineSubject=new b.b,this.linesSubject=new b.b,this.lines$=this.linesSubject.asObservable(),this.calculationSubject=new b.b,this.initCalculation()},t.prototype.calculate=function(){var t=this;this.lineSubject=new b.b,this.lineSubject.pipe(Object(En.takeUntil)(this.calculationCompletedSubject),Object(En.toArray)()).subscribe(function(e){return t.linesSubject.next(e)}),this.calculationSubject.next()},t.prototype.initCalculation=function(){var t=this,e=Object(F.a)(function(){return y.a.range(0,t.iterationsPerFrame)}).pipe(Object(En.takeWhile)(function(e){return t.active.length>0}),Object(En.tap)(void 0,void 0,function(){return t.calculationCompletedSubject.next()})),n=lr.a.create(function(){return Object(ur.a)(Math.floor(t.random.randomTo(t.active.length)))}).pipe(Object(En.map)(function(e){return{active:t.active[e],randomActiveIndex:e}}));this.calculationSubject.pipe(Object(En.switchMap)(function(){return e}),Object(En.switchMap)(function(t){return n}),Object(En.tap)(this.onNextCalculation.bind(this))).subscribe(function(t){},function(t){return console.error("error calculating",t)},function(){return console.log("Calculation completed")})},t.prototype.onNextCalculation=function(t){for(var e=this,n=t.active,r=t.randomActiveIndex,o=!1,i=this.currentDistanceForPos(n),a=function(t){var r=s.shapeFactory.randomVector().setMag(s.random.random(i,2*i)).addVec(n),a=Math.floor(r.x/s.w),l=Math.floor(r.y/s.w);l>-1&&a>-1&&l<s.cols&&a<s.rows&&!s.getFromGrid(r)&&(s.getNeighbours(r,i).every(function(t){if(t){e.lineSubject.next(e.shapeFactory.createLine(r,t.pos));var n=e.currentCircleRadius(r),o=r.fastDist(t.pos),a=i*i;return o-(n*n+t.r*t.r)>=a}})&&(o=!0,s.addToGrid(r,s.currentCircleRadius(r)),s.addToActive(r)))},s=this,l=0;l<this.k;l++)a();o||this.removeFromActive(r)},t.prototype.getFromGrid=function(t){var e=Math.floor(t.x/this.w),n=Math.floor(t.y/this.w);return this.grid[e][n]},t.prototype.addPointForCalculation=function(t){this.addToGrid(t),this.addToActive(t)},t.prototype.addToGrid=function(t,e){void 0===e&&(e=this.currentCircleRadius(t));var n=Math.floor(t.x/this.w),r=Math.floor(t.y/this.w),o=this.shapeFactory.createCircle(t,e);this.grid[n][r]=o,this.foundCirclesSubject.next(o)},t.prototype.getNeighbours=function(t,e){void 0===e&&(e=this.r);var n=this.w,r=Math.floor(t.x/n),o=Math.floor(t.y/n),i=this.isInDistanceFactory(r,o,e),a=[];return this.grid.forEach(function(t,e){return t.forEach(function(t,n){i(e,n)&&a.push(t)})}),a},t.prototype.currentCircleRadius=function(t){return.2*this.currentDistanceForPos(t)},t.prototype.currentDistanceForPos=function(t){return this.r*(1+2*Math.abs(Math.sin(.01*(t.x+t.y))))},t.prototype.isInDistanceFactory=function(t,e,n){var r=this;return function(o,i){return r.isInDistance(o-t,i-e,n)}},t.prototype.isInDistance=function(t,e,n){var r=this.w*t,o=this.w*e;return n*n>=r*r+o*o},t.prototype.addToActive=function(t){this.active.push(t),this.activesSubject.next(this.active)},t.prototype.removeFromActive=function(t){this.active.splice(t,1),this.activesSubject.next(this.active)},t}(),hr=function(){function t(t){this.poissonCalc=t,this.width=600,this.height=600,this.play=!1}return t.prototype.ngOnInit=function(){this.setup()},t.prototype.setup=function(){this.poissonCalc.setup(this.width,this.height)},t.prototype.reset=function(){this.setup()},t.prototype.calculate=function(){this.play&&this.poissonCalc.calculate()},t.prototype.addPoint=function(t){this.poissonCalc.addPointForCalculation(t)},t.prototype.setPlay=function(t){this.play=t},t}(),pr=[[".simContent[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}mat-card[_ngcontent-%COMP%]{margin-right:1rem}"]],dr=r._19({encapsulation:0,styles:pr,data:{}});function fr(t){return r._44(2,[(t()(),r._21(0,0,null,null,21,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,a.b,a.a)),r._20(1,4243456,null,1,s.a,[r.q,l.a,u.d],{color:[0,"color"]},null),r._40(603979776,1,{_toolbarRows:1}),(t()(),r._42(-1,0,["\n  "])),(t()(),r._21(4,0,null,1,5,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),r._20(5,16384,[[1,4]],0,s.c,[],null,null),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(7,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r._42(-1,null,["Poisson Distribution"])),(t()(),r._42(-1,null,["\n  "])),(t()(),r._42(-1,0,["\n  "])),(t()(),r._21(11,0,null,1,9,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),r._20(12,16384,[[1,4]],0,s.c,[],null,null),(t()(),r._42(-1,null,["\n    "])),(t()(),r._21(14,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),r._42(-1,null,["\n      "])),(t()(),r._21(16,0,null,null,1,"span",[["class","mat-subheading-2"]],null,null,null,null,null)),(t()(),r._42(-1,null,["Evenly distributed circles on a plane"])),(t()(),r._21(18,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._42(-1,null,["\n    "])),(t()(),r._42(-1,null,["\n  "])),(t()(),r._42(-1,0,["\n"])),(t()(),r._42(-1,null,["\n"])),(t()(),r._21(23,0,null,null,33,"div",[["class","simContent"]],null,null,null,null,null)),(t()(),r._42(-1,null,["\n  "])),(t()(),r._21(25,0,null,null,27,"mat-card",[["appRaiseCard",""],["class","mat-card"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var o=!0;"mouseenter"===e&&(o=!1!==r._33(t,27).addRaisedClass()&&o);"mouseleave"===e&&(o=!1!==r._33(t,27).unraise()&&o);return o},c.b,c.a)),r._20(26,49152,null,0,h.a,[],null,null),r._20(27,540672,null,0,p.a,[r.q],null,null),(t()(),r._42(-1,0,["\n    "])),(t()(),r._21(29,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r._20(30,16384,null,0,h.j,[],null,null),(t()(),r._42(-1,null,["Simulation"])),(t()(),r._42(-1,0,["\n    "])),(t()(),r._21(33,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),r._20(34,16384,null,0,h.i,[],null,null),(t()(),r._42(-1,null,["Click to add balls as seed"])),(t()(),r._42(-1,0,["\n    "])),(t()(),r._21(37,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),r._20(38,16384,null,0,h.i,[],null,null),(t()(),r._42(-1,null,["Play with the configs to change behavior"])),(t()(),r._42(-1,0,["\n    "])),(t()(),r._21(41,0,null,0,9,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r._20(42,16384,null,0,h.d,[],null,null),(t()(),r._42(-1,null,["\n      "])),(t()(),r._21(44,0,null,null,5,"app-canvas-view",[],null,[[null,"onAddObject"],[null,"onReadyToPaint"]],function(t,e,n){var r=!0,o=t.component;"onAddObject"===e&&(r=!1!==o.addPoint(n)&&r);"onReadyToPaint"===e&&(r=!1!==o.calculate()&&r);return r},Vn,Bn)),r._20(45,1163264,null,0,Xn,[d],{width:[0,"width"],height:[1,"height"],circles:[2,"circles"],actives:[3,"actives"],lines:[4,"lines"]},{onAddObject:"onAddObject",onReadyToPaint:"onReadyToPaint"}),r._36(131072,u.b,[r.j]),r._36(131072,u.b,[r.j]),r._36(131072,u.b,[r.j]),(t()(),r._42(-1,null,["\n      "])),(t()(),r._42(-1,null,["\n    "])),(t()(),r._42(-1,0,["\n    "])),(t()(),r._42(-1,0,["\n  "])),(t()(),r._42(-1,null,["\n  "])),(t()(),r._21(54,0,null,null,1,"app-sim-controls",[],null,[[null,"playChanged"],[null,"onReset"]],function(t,e,n){var r=!0,o=t.component;"playChanged"===e&&(r=!1!==o.setPlay(n)&&r);"onReset"===e&&(r=!1!==o.reset()&&r);return r},rr,nr)),r._20(55,245760,null,0,tr,[Qn],null,{playChanged:"playChanged",onReset:"onReset"}),(t()(),r._42(-1,null,["\n"])),(t()(),r._42(-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,1,0,"primary"),t(e,45,0,n.width,n.height,r._43(e,45,2,r._33(e,46).transform(n.poissonCalc.foundCircles$)),r._43(e,45,3,r._33(e,47).transform(n.poissonCalc.activeVectors$)),r._43(e,45,4,r._33(e,48).transform(n.poissonCalc.lines$))),t(e,55,0)},function(t,e){t(e,0,0,r._33(e,1)._toolbarRows.length,!r._33(e,1)._toolbarRows.length)})}var br=r._17("app-poisson",hr,function(t){return r._44(0,[(t()(),r._21(0,0,null,null,1,"app-poisson",[],null,null,null,fr,dr)),r._20(1,114688,null,0,hr,[cr],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),yr=n("9Sd6"),_r=n("6sdf"),vr=n("1T37"),mr=n("+j5Y"),gr=n("Mcof"),wr=n("7u3n"),jr=n("z7Rf"),xr=n("ItHS"),Or=n("OE0E"),Cr=n("NwsS"),Sr=n("bfOx"),Pr=n("fTri"),Tr=n("AP/s"),Ir=n("bkcK"),kr=n("ZuzD"),Fr=n("sqmn"),Mr=n("kJ/S"),Rr=n("4rwD"),qr=n("86rF"),Ar=n("6GVX"),Dr=n("JkvL"),Er=n("+76Z"),Nr=n("Bp8q"),Lr=n("fAE3"),Xr=function(){return function(){}}(),Hr=function(){return function(){}}();n.d(e,"PoissonModuleNgFactory",function(){return Br});var Br=r._18(o,[],function(t){return r._29([r._30(512,r.m,r._14,[[8,[i.a,br]],[3,r.m],r.I]),r._30(4608,u.m,u.l,[r.E,[2,u.v]]),r._30(4608,$n.v,$n.v,[]),r._30(6144,yr.b,null,[u.d]),r._30(4608,yr.c,yr.c,[[2,yr.b]]),r._30(4608,l.a,l.a,[]),r._30(4608,zn.j,zn.j,[l.a]),r._30(4608,zn.i,zn.i,[zn.j,r.K,u.d]),r._30(136192,zn.e,zn.c,[[3,zn.e],u.d]),r._30(5120,zn.n,zn.m,[[3,zn.n],[2,zn.k],u.d]),r._30(5120,zn.h,zn.f,[[3,zn.h],r.K,l.a]),r._30(4608,_r.b,_r.b,[]),r._30(4608,Un.d,Un.d,[]),r._30(5120,vr.d,vr.b,[[3,vr.d],r.K,l.a]),r._30(5120,vr.g,vr.f,[[3,vr.g],l.a,r.K]),r._30(4608,mr.i,mr.i,[vr.d,vr.g,r.K,u.d]),r._30(5120,mr.e,mr.k,[[3,mr.e],u.d]),r._30(4608,mr.h,mr.h,[vr.g,u.d]),r._30(5120,mr.f,mr.n,[[3,mr.f],u.d]),r._30(4608,mr.c,mr.c,[mr.i,mr.e,r.m,mr.h,mr.f,r.g,r.A,r.K,u.d]),r._30(5120,mr.l,mr.m,[mr.c]),r._30(4608,gr.d,gr.d,[l.a]),r._30(135680,gr.a,gr.a,[gr.d,r.K]),r._30(5120,wr.b,wr.c,[mr.c]),r._30(5120,jr.d,jr.a,[[3,jr.d],[2,xr.a],Or.c,[2,u.d]]),r._30(5120,Cr.a,Cr.b,[mr.c]),r._30(4608,Or.f,Un.e,[[2,Un.i],[2,Un.n]]),r._30(4608,d,d,[]),r._30(4608,sr,sr,[]),r._30(4608,Qn,Qn,[]),r._30(4608,cr,cr,[Qn,sr,or.a]),r._30(512,Sr.o,Sr.o,[[2,Sr.t],[2,Sr.l]]),r._30(512,u.c,u.c,[]),r._30(512,Pr.a,Pr.a,[]),r._30(512,$n.s,$n.s,[]),r._30(512,$n.h,$n.h,[]),r._30(512,yr.a,yr.a,[]),r._30(256,Un.f,!0,[]),r._30(512,Un.n,Un.n,[[2,Un.f]]),r._30(512,l.b,l.b,[]),r._30(512,Un.y,Un.y,[]),r._30(512,zn.a,zn.a,[]),r._30(512,Yn.c,Yn.c,[]),r._30(512,_r.c,_r.c,[]),r._30(512,Tr.c,Tr.c,[]),r._30(512,Gn.c,Gn.c,[]),r._30(512,Jn.c,Jn.c,[]),r._30(512,s.b,s.b,[]),r._30(512,Ir.g,Ir.g,[]),r._30(512,vr.c,vr.c,[]),r._30(512,mr.g,mr.g,[]),r._30(512,gr.c,gr.c,[]),r._30(512,wr.e,wr.e,[]),r._30(512,jr.c,jr.c,[]),r._30(512,h.h,h.h,[]),r._30(512,Un.p,Un.p,[]),r._30(512,Un.w,Un.w,[]),r._30(512,kr.a,kr.a,[]),r._30(512,Fr.c,Fr.c,[]),r._30(512,Un.u,Un.u,[]),r._30(512,Cr.d,Cr.d,[]),r._30(512,Mr.h,Mr.h,[]),r._30(512,Rr.b,Rr.b,[]),r._30(512,qr.b,qr.b,[]),r._30(512,Ar.j,Ar.j,[]),r._30(512,Dr.b,Dr.b,[]),r._30(512,Er.b,Er.b,[]),r._30(512,Nr.b,Nr.b,[]),r._30(512,Lr.a,Lr.a,[]),r._30(512,Xr,Xr,[]),r._30(512,Hr,Hr,[]),r._30(512,o,o,[]),r._30(256,wr.a,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[]),r._30(256,Mr.a,!1,[]),r._30(1024,Sr.j,function(){return[[{path:"",component:hr}]]},[])])})},EN1B:function(t,e){}});