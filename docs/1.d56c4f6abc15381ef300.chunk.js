webpackJsonp([1],{"/ZX7":function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var utils=__webpack_require__("SYVJ"),acorn=__webpack_require__("OVyL");module.exports=function(){function BaseFunctionNode(t,e,n,i,r){if(_classCallCheck(this,BaseFunctionNode),this.calledFunctions=[],this.calledFunctionsArguments={},this.initVariables=[],this.readVariables=[],this.writeVariables=[],this.addFunction=null,this.isRootKernel=!1,this.isSubKernel=!1,this.parent=null,this.debug=null,this.prototypeOnly=null,this.constants=null,this.output=null,n&&(n.hasOwnProperty("debug")&&(this.debug=n.debug),n.hasOwnProperty("prototypeOnly")&&(this.prototypeOnly=n.prototypeOnly),n.hasOwnProperty("constants")&&(this.constants=n.constants),n.hasOwnProperty("output")&&(this.output=n.output),n.hasOwnProperty("loopMaxIterations")&&(this.loopMaxIterations=n.loopMaxIterations)),!e)throw"jsFunction, parameter is missing";if(this.jsFunctionString=e.toString(),!utils.isFunctionString(this.jsFunctionString))throw console.error("jsFunction, to string conversion check failed: not a function?",this.jsFunctionString),"jsFunction, to string conversion check failed: not a function?";if(this.jsFunction=utils.isFunction(e)?e:null,this.functionName=t||e&&e.name||utils.getFunctionNameFromString(this.jsFunctionString),!this.functionName)throw"jsFunction, missing name argument or value";if(this.paramNames=utils.getParamNamesFromString(this.jsFunctionString),i){if(Array.isArray(i)){if(i.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+i.length+","+this.paramNames.length+")";this.paramTypes=i}else if("object"===("undefined"==typeof i?"undefined":_typeof(i))){var s=Object.keys(i);if(i.hasOwnProperty("returns")&&(this.returnType=i.returns,s.splice(s.indexOf("returns"),1)),s.length>0&&s.length!==this.paramNames.length)throw"Invalid argument type array length, against function length -> ("+s.length+","+this.paramNames.length+")";this.paramTypes=this.paramNames.map(function(t){return i.hasOwnProperty(t)?i[t]:"float"})}}else this.paramTypes=[];this.returnType||(this.returnType=r||"float")}return _createClass(BaseFunctionNode,[{key:"isIdentifierConstant",value:function(t){return!!this.constants&&this.constants.hasOwnProperty(t)}},{key:"setAddFunction",value:function(t){return this.addFunction=t,this}},{key:"getJsFunction",value:function getJsFunction(){if(this.jsFunction)return this.jsFunction;if(this.jsFunctionString)return this.jsFunction=eval(this.jsFunctionString),this.jsFunction;throw"Missing jsFunction, and jsFunctionString parameter"}},{key:"astMemberExpressionUnroll",value:function(t,e){if("Identifier"===t.type)return t.name;if("ThisExpression"===t.type)return"this";if("MemberExpression"===t.type&&t.object&&t.property)return t.object.hasOwnProperty("name")&&"_"===t.object.name[0]?this.astMemberExpressionUnroll(t.property,e):this.astMemberExpressionUnroll(t.object,e)+"."+this.astMemberExpressionUnroll(t.property,e);if(t.hasOwnProperty("expressions")){var n=t.expressions[0];if("Literal"===n.type&&0===n.value&&2===t.expressions.length)return this.astMemberExpressionUnroll(t.expressions[1])}throw this.astErrorOutput("Unknown CallExpression_unroll",t,e)}},{key:"getJsAST",value:function(t){if(this.jsFunctionAST)return this.jsFunctionAST;if(null===(t=t||acorn))throw"Missing JS to AST parser";var e=t.parse("var "+this.functionName+" = "+this.jsFunctionString+";",{locations:!0});if(null===e)throw"Failed to parse JS code";var n=e.body[0].declarations[0].init;return this.jsFunctionAST=n,n}},{key:"getFunctionString",value:function(){return this.generate(),this.functionString}},{key:"setFunctionString",value:function(t){this.functionString=t}},{key:"getParamType",value:function(t){var e=this.paramNames.indexOf(t);if(-1===e)return null;if(!this.parent)return null;if(this.paramTypes[e])return this.paramTypes[e];for(var n=this.parent.calledFunctionsArguments[this.functionName],i=0;i<n.length;i++){var r=n[i];if(null!==r[e])return this.paramTypes[e]=r[e].type}return null}},{key:"getUserParamName",value:function(t){var e=this.paramNames.indexOf(t);if(-1===e)return null;if(!this.parent)return null;for(var n=this.parent.calledFunctionsArguments[this.functionName],i=0;i<n.length;i++){var r=n[i];if(null!==r[e])return r[e].name}return null}},{key:"generate",value:function(t){throw new Error("generate not defined on BaseFunctionNode")}},{key:"astErrorOutput",value:function(t,e,n){return console.error(utils.getAstString(this.jsFunctionString,e)),console.error(t,e,n),t}},{key:"astDebuggerStatement",value:function(t,e,n){return e}}]),BaseFunctionNode}()},"0LW3":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.exports=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.nodeMap={},this.nativeFunctions={},this.gpu=e,this.rootKernel=null,this.Node=null}return i(t,[{key:"addNativeFunction",value:function(t,e){this.nativeFunctions[t]=e}},{key:"addFunction",value:function(t,e,n,i,r){this.addFunctionNode(new this.Node(t,e,n,i,r).setAddFunction(this.addFunction.bind(this)))}},{key:"addFunctions",value:function(t,e){if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFunction(null,t[n],e);else for(var i in t)this.addFunction(i,t[i],e)}},{key:"addNativeFunctions",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.addNativeFunction(e,t[e])}},{key:"addFunctionNode",value:function(t){this.nodeMap[t.functionName]=t,t.isRootKernel&&(this.rootKernel=t)}},{key:"traceFunctionCalls",value:function(t,e,n){e=e||[];var i=this.nodeMap[t=t||"kernel"];if(i){var r=e.indexOf(t);if(-1===r){e.push(t),n&&(i.parent=n),i.getFunctionString();for(var s=0;s<i.calledFunctions.length;++s)this.traceFunctionCalls(i.calledFunctions[s],e,i)}else{var a=e.splice(r,1)[0];e.push(a)}}return this.nativeFunctions[t]&&(e.indexOf(t)>=0||e.push(t)),e}},{key:"addKernel",value:function(t,e,n,i){var r=new this.Node("kernel",t,e,i);return r.setAddFunction(this.addFunction.bind(this)),r.paramNames=n,r.paramTypes=i,r.isRootKernel=!0,this.addFunctionNode(r),r}},{key:"addSubKernel",value:function(t,e,n,i){var r=new this.Node(null,t,e,n,i);return r.setAddFunction(this.addFunction.bind(this)),r.isSubKernel=!0,this.addFunctionNode(r),r}},{key:"getPrototypeString",value:function(t){return this.getPrototypes(t).join("\n")}},{key:"getPrototypes",value:function(t){return this.rootKernel.generate(),this.getPrototypesFromFunctionNames(t?this.traceFunctionCalls(t,[]).reverse():Object.keys(this.nodeMap))}},{key:"getStringFromFunctionNames",value:function(t){for(var e=[],n=0;n<t.length;++n)this.nodeMap[t[n]]&&e.push(this.nodeMap[t[n]].getFunctionString());return e.join("\n")}},{key:"getPrototypesFromFunctionNames",value:function(t,e){for(var n=[],i=0;i<t.length;++i){var r=t[i],s=this.nodeMap[r];s?n.push(s.getFunctionPrototypeString(e)):this.nativeFunctions[r]&&n.push(this.nativeFunctions[r])}return n}},{key:"getPrototypeStringFromFunctionNames",value:function(t,e){return this.getPrototypesFromFunctionNames(t,e).toString()}},{key:"getString",value:function(t,e){return void 0===e&&(e={}),this.getStringFromFunctionNames(t?this.traceFunctionCalls(t,[],e).reverse():Object.keys(this.nodeMap),e)}},{key:"polyfillStandardFunctions",value:function(){throw new Error("polyfillStandardFunctions not defined on base function builder")}}]),t}()},"1Yz+":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("lvn5"),s=n("SYVJ"),a=n("JhzQ");t.exports=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i._fnBody=s.getFunctionBodyFromString(t),i._fn=null,i.run=null,i._canvasCtx=null,i._imageData=null,i._colorData=null,i._kernelString=null,i.thread={x:0,y:0,z:0},i.run=(function(){return this.run=null,this.build.apply(this,arguments),this.run.apply(this,arguments)}).bind(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"validateOptions",value:function(){if(!this.output||0===this.output.length){if(1!==arguments.length)throw"Auto dimensions only supported for kernels with only one input";var t=s.getArgumentType(arguments[0]);if("Array"===t)this.output=s.getDimensions(t);else{if("Texture"!==t)throw"Auto dimensions not supported for input type: "+t;this.output=arguments[0].output}}}},{key:"build",value:function(){this.setupParams(arguments);for(var t=this.threadDim=s.clone(this.output);t.length<3;)t.push(1);if(this.graphical){var e=this.getCanvas();e.width=t[0],e.height=t[1],this._canvasCtx=e.getContext("2d"),this._imageData=this._canvasCtx.createImageData(t[0],t[1]),this._colorData=new Uint8ClampedArray(t[0]*t[1]*4)}var n=this.getKernelString();this.debug&&(console.log("Options:"),console.dir(this),console.log("Function output:"),console.log(n)),this.kernelString=n,this.run=new Function([],n).bind(this)()}},{key:"color",value:function(t,e,n,i){"undefined"==typeof i&&(i=1),t=Math.floor(255*t),e=Math.floor(255*e),n=Math.floor(255*n),i=Math.floor(255*i);var r=this.thread.x+(this.output[1]-this.thread.y-1)*this.output[0];this._colorData[4*r+0]=t,this._colorData[4*r+1]=e,this._colorData[4*r+2]=n,this._colorData[4*r+3]=i}},{key:"getKernelString",value:function(){var t=this;if(null!==this._kernelString)return this._kernelString;for(var e=this.functionBuilder,n=this.threadDim||(this.threadDim=s.clone(this.output));n.length<3;)n.push(1);if(e.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations},this.paramNames,this.paramTypes),e.addFunctions(this.functions,{constants:this.constants,output:this.output}),null!==this.subKernels){this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[];for(var i=0;i<this.subKernels.length;i++){var r=this.subKernels[i];e.addSubKernel(r,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations}),this.subKernelOutputVariableNames.push(r.name+"Result")}}else if(null!==this.subKernelProperties)for(var a in this.subKernelOutputVariableNames=[],this.subKernelProperties)if(this.subKernelProperties.hasOwnProperty(a)){var o=this.subKernelProperties[a];e.addSubKernel(o),this.subKernelOutputVariableNames.push(o.name+"Result")}var l=e.getPrototypes(),u=l.shift();return this._kernelString="\n\t\tvar LOOP_MAX = "+this._getLoopMaxString()+";\n\t\tvar _this = this;\n  "+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"  var "+t+" = null;\n"}).join(""))+"\n    return function ("+this.paramNames.map(function(t){return"user_"+t}).join(", ")+") {\n    var ret = new Array("+n[2]+");\n  "+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"  "+t+"Z = new Array("+n[2]+");\n"}).join(""))+"\n    for (this.thread.z = 0; this.thread.z < "+n[2]+"; this.thread.z++) {\n      ret[this.thread.z] = new Array("+n[1]+");\n  "+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"    "+t+"Z[this.thread.z] = new Array("+n[1]+");\n"}).join(""))+"\n      for (this.thread.y = 0; this.thread.y < "+n[1]+"; this.thread.y++) {\n        ret[this.thread.z][this.thread.y] = new Array("+n[0]+");\n  "+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"      "+t+"Z[this.thread.z][this.thread.y] = new Array("+n[0]+");\n"}).join(""))+"\n        for (this.thread.x = 0; this.thread.x < "+n[0]+"; this.thread.x++) {\n          var kernelResult;\n          "+u+"\n          ret[this.thread.z][this.thread.y][this.thread.x] = kernelResult;\n"+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"        "+t+"Z[this.thread.z][this.thread.y][this.thread.x] = "+t+";\n"}).join(""))+"\n          }\n        }\n      }\n      \n      if (this.graphical) {\n        this._imageData.data.set(this._colorData);\n        this._canvasCtx.putImageData(this._imageData, 0, 0);\n        return;\n      }\n      \n      if (this.output.length === 1) {\n        ret = ret[0][0];\n"+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"    "+t+" = "+t+"Z[0][0];\n"}).join(""))+"\n      \n    } else if (this.output.length === 2) {\n      ret = ret[0];\n      "+(null===this.subKernelOutputVariableNames?"":this.subKernelOutputVariableNames.map(function(t){return"    "+t+" = "+t+"Z[0];\n"}).join(""))+"\n    }\n    \n    "+(null===this.subKernelOutputVariableNames?"return ret;\n":null!==this.subKernels?"var result = [\n        "+this.subKernelOutputVariableNames.map(function(t){return""+t}).join(",\n")+"\n      ];\n      result.result = ret;\n      return result;\n":"return {\n        result: ret,\n        "+Object.keys(this.subKernelProperties).map(function(e,n){return e+": "+t.subKernelOutputVariableNames[n]}).join(",\n")+"\n      };")+"\n    "+(l.length>0?l.join("\n"):"")+"\n    }.bind(this);"}},{key:"toString",value:function(){return a(this)}},{key:"precompileKernelObj",value:function(t){return{threadDim:this.threadDim||(this.threadDim=s.clone(this.output))}}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+";\n":" 1000;\n"}}],[{key:"compileKernel",value:function(t){for(var e=t.threadDim;e.length<3;)e.push(1)}}]),e}()},"2/uh":function(t,e,n){"use strict";var i=n("AyxQ"),r=n("jqjZ"),s=n("SYVJ"),a=n("Hj5S"),o=n("Yt3q"),l=n("7D8Y"),u=n("2mYk"),h=n("1Yz+"),c=n("3tM2"),p=n("kEol"),d=n("9ebt"),f=n("cUbN"),m=n("YBLF");i.alias=r,i.utils=s,i.Texture=o,i.Input=a,i.input=function(t,e){return new a(t,e)},i.CPUFunctionBuilder=l,i.CPUFunctionNode=u,i.CPUKernel=h,i.CPURunner=c,i.WebGLFunctionBuilder=p,i.WebGLFunctionNode=d,i.WebGLKernel=f,i.WebGLRunner=m,t.exports=i,"undefined"!=typeof window&&(window.GPU=i)},"2mYk":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("/ZX7"),s=n("SYVJ");t.exports=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"generate",value:function(){return this.debug&&console.log(this),this.functionStringArray=this.astGeneric(this.getJsAST(),[],this),this.functionString=this.functionStringArray.join("").trim(),this.functionString}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"astGeneric",value:function(t,e,n){if(null===t)throw this.astErrorOutput("NULL ast",t,n);if(Array.isArray(t)){for(var i=0;i<t.length;i++)this.astGeneric(t[i],e,n);return e}switch(t.type){case"FunctionDeclaration":return this.astFunctionDeclaration(t,e,n);case"FunctionExpression":return this.astFunctionExpression(t,e,n);case"ReturnStatement":return this.astReturnStatement(t,e,n);case"Literal":return this.astLiteral(t,e,n);case"BinaryExpression":return this.astBinaryExpression(t,e,n);case"Identifier":return this.astIdentifierExpression(t,e,n);case"AssignmentExpression":return this.astAssignmentExpression(t,e,n);case"ExpressionStatement":return this.astExpressionStatement(t,e,n);case"EmptyStatement":return this.astEmptyStatement(t,e,n);case"BlockStatement":return this.astBlockStatement(t,e,n);case"IfStatement":return this.astIfStatement(t,e,n);case"BreakStatement":return this.astBreakStatement(t,e,n);case"ContinueStatement":return this.astContinueStatement(t,e,n);case"ForStatement":return this.astForStatement(t,e,n);case"WhileStatement":return this.astWhileStatement(t,e,n);case"VariableDeclaration":return this.astVariableDeclaration(t,e,n);case"VariableDeclarator":return this.astVariableDeclarator(t,e,n);case"ThisExpression":return this.astThisExpression(t,e,n);case"SequenceExpression":return this.astSequenceExpression(t,e,n);case"UnaryExpression":return this.astUnaryExpression(t,e,n);case"UpdateExpression":return this.astUpdateExpression(t,e,n);case"LogicalExpression":return this.astLogicalExpression(t,e,n);case"MemberExpression":return this.astMemberExpression(t,e,n);case"CallExpression":return this.astCallExpression(t,e,n);case"ArrayExpression":return this.astArrayExpression(t,e,n);case"DebuggerStatement":return this.astDebuggerStatement(t,e,n)}throw this.astErrorOutput("Unknown ast type : "+t.type,t,n)}},{key:"astFunctionDeclaration",value:function(t,e,n){return this.addFunction&&this.addFunction(null,s.getAstString(this.jsFunctionString,t)),e}},{key:"astFunctionExpression",value:function(t,e,n){if(!n.isRootKernel){e.push("function"),n.kernalAst=t,e.push(" "),e.push(n.functionName),e.push("(");for(var i=0;i<n.paramNames.length;++i){var r=n.paramNames[i];i>0&&e.push(", "),e.push(" "),e.push("user_"),e.push(r)}e.push(") {\n")}for(var s=0;s<t.body.body.length;++s)this.astGeneric(t.body.body[s],e,n),e.push("\n");return n.isRootKernel||e.push("}\n"),e}},{key:"astReturnStatement",value:function(t,e,n){return n.isRootKernel?(e.push("kernelResult = "),this.astGeneric(t.argument,e,n),e.push(";")):n.isSubKernel?(e.push(n.functionName+"Result = "),this.astGeneric(t.argument,e,n),e.push(";"),e.push("return "+n.functionName+"Result;")):(e.push("return "),this.astGeneric(t.argument,e,n),e.push(";")),e}},{key:"astLiteral",value:function(t,e,n){if(isNaN(t.value))throw this.astErrorOutput("Non-numeric literal not supported : "+t.value,t,n);return e.push(t.value),e}},{key:"astBinaryExpression",value:function(t,e,n){return e.push("("),this.astGeneric(t.left,e,n),e.push(t.operator),this.astGeneric(t.right,e,n),e.push(")"),e}},{key:"astIdentifierExpression",value:function(t,e,n){if("Identifier"!==t.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",t,n);switch(t.name){case"gpu_threadX":e.push("threadId.x");break;case"gpu_threadY":e.push("threadId.y");break;case"gpu_threadZ":e.push("threadId.z");break;case"gpu_outputX":e.push("uOutputDim.x");break;case"gpu_outputY":e.push("uOutputDim.y");break;case"gpu_outputZ":e.push("uOutputDim.z");break;default:if(this.constants&&this.constants.hasOwnProperty(t.name))e.push("constants_"+t.name);else{var i=n.getUserParamName(t.name);e.push(null!==i?"user_"+i:"user_"+t.name)}}return e}},{key:"astForStatement",value:function(t,e,n){if("ForStatement"!==t.type)throw this.astErrorOutput("Invalid for statment",t,n);if(t.test&&"BinaryExpression"===t.test.type){if(("Identifier"===t.test.right.type||"Literal"===t.test.right.type)&&"<"===t.test.operator&&!1===this.isIdentifierConstant(t.test.right.name)){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),e.push("for ("),this.astGeneric(t.init,e,n),";"!==e[e.length-1]&&e.push(";"),this.astGeneric(t.test.left,e,n),e.push(t.test.operator),e.push("LOOP_MAX"),e.push(";"),this.astGeneric(t.update,e,n),e.push(")"),e.push("{\n"),e.push("if ("),this.astGeneric(t.test.left,e,n),e.push(t.test.operator),this.astGeneric(t.test.right,e,n),e.push(") {\n"),"BlockStatement"===t.body.type)for(var i=0;i<t.body.body.length;i++)this.astGeneric(t.body.body[i],e,n);else this.astGeneric(t.body,e,n);return e.push("} else {\n"),e.push("break;\n"),e.push("}\n"),e.push("}\n"),e}if(t.init.declarations){var r=JSON.parse(JSON.stringify(t.init.declarations)),s=t.update.argument;if(!Array.isArray(r)||r.length<1)throw console.log(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(r.length>1){for(var a=null,o=0;o<r.length;o++){var l=r[o];l.id.name===s.name?(a=l,r.splice(o,1)):(e.push("var "),this.astGeneric(l,e,n),e.push(";"))}e.push("for (let "),this.astGeneric(a,e,n),e.push(";")}else e.push("for ("),this.astGeneric(t.init,e,n);return this.astGeneric(t.test,e,n),e.push(";"),this.astGeneric(t.update,e,n),e.push(")"),this.astGeneric(t.body,e,n),e}}throw this.astErrorOutput("Invalid for statement",t,n)}},{key:"astWhileStatement",value:function(t,e,n){if("WhileStatement"!==t.type)throw this.astErrorOutput("Invalid while statment",t,n);return e.push("for (let i = 0; i < LOOP_MAX; i++) {"),e.push("if ("),this.astGeneric(t.test,e,n),e.push(") {\n"),this.astGeneric(t.body,e,n),e.push("} else {\n"),e.push("break;\n"),e.push("}\n"),e.push("}\n"),e}},{key:"astAssignmentExpression",value:function(t,e,n){return this.astGeneric(t.left,e,n),e.push(t.operator),this.astGeneric(t.right,e,n),e}},{key:"astEmptyStatement",value:function(t,e,n){return e}},{key:"astBlockStatement",value:function(t,e,n){e.push("{\n");for(var i=0;i<t.body.length;i++)this.astGeneric(t.body[i],e,n);return e.push("}\n"),e}},{key:"astExpressionStatement",value:function(t,e,n){return this.astGeneric(t.expression,e,n),e.push(";\n"),e}},{key:"astVariableDeclaration",value:function(t,e,n){e.push("var ");for(var i=0;i<t.declarations.length;i++)i>0&&e.push(","),this.astGeneric(t.declarations[i],e,n);return e.push(";"),e}},{key:"astVariableDeclarator",value:function(t,e,n){return this.astGeneric(t.id,e,n),null!==t.init&&(e.push("="),this.astGeneric(t.init,e,n)),e}},{key:"astIfStatement",value:function(t,e,n){return e.push("if ("),this.astGeneric(t.test,e,n),e.push(")"),"BlockStatement"===t.consequent.type?this.astGeneric(t.consequent,e,n):(e.push(" {\n"),this.astGeneric(t.consequent,e,n),e.push("\n}\n")),t.alternate&&(e.push("else "),"BlockStatement"===t.alternate.type?this.astGeneric(t.alternate,e,n):(e.push(" {\n"),this.astGeneric(t.alternate,e,n),e.push("\n}\n"))),e}},{key:"astBreakStatement",value:function(t,e,n){return e.push("break;\n"),e}},{key:"astContinueStatement",value:function(t,e,n){return e.push("continue;\n"),e}},{key:"astLogicalExpression",value:function(t,e,n){return e.push("("),this.astGeneric(t.left,e,n),e.push(t.operator),this.astGeneric(t.right,e,n),e.push(")"),e}},{key:"astUpdateExpression",value:function(t,e,n){return t.prefix?(e.push(t.operator),this.astGeneric(t.argument,e,n)):(this.astGeneric(t.argument,e,n),e.push(t.operator)),e}},{key:"astUnaryExpression",value:function(t,e,n){return t.prefix?(e.push(t.operator),this.astGeneric(t.argument,e,n)):(this.astGeneric(t.argument,e,n),e.push(t.operator)),e}},{key:"astThisExpression",value:function(t,e,n){return e.push("_this"),e}},{key:"astMemberExpression",value:function(t,e,n){if(t.computed)if("Identifier"===t.object.type)this.astGeneric(t.object,e,n),e.push("["),this.astGeneric(t.property,e,n),e.push("]");else{this.astGeneric(t.object,e,n);var i=e.pop();e.push("]["),this.astGeneric(t.property,e,n),e.push(i)}else{var r=this.astMemberExpressionUnroll(t);switch("Identifier"===t.property.type&&t.computed&&(r="user_"+r),0===r.indexOf("this")&&(r="_"+r),r){case"_this.output.x":e.push(this.output[0]);break;case"_this.output.y":e.push(this.output[1]);break;case"_this.output.z":e.push(this.output[2]);break;default:e.push(r)}}return e}},{key:"astSequenceExpression",value:function(t,e,n){for(var i=0;i<t.expressions.length;i++)i>0&&e.push(","),this.astGeneric(t.expressions,e,n);return e}},{key:"astCallExpression",value:function(t,e,n){if(t.callee){var i=this.astMemberExpressionUnroll(t.callee);n.calledFunctions.indexOf(i)<0&&n.calledFunctions.push(i),n.hasOwnProperty("funcName")||(n.calledFunctionsArguments[i]=[]);var r=[];n.calledFunctionsArguments[i].push(r),e.push(i),e.push("(");for(var s=0;s<t.arguments.length;++s){var a=t.arguments[s];if(s>0&&e.push(", "),this.astGeneric(a,e,n),"Identifier"===a.type){var o=n.paramNames.indexOf(a.name);r.push(-1===o?null:{name:a.name,type:n.paramTypes[o]})}else r.push(null)}return e.push(")"),e}throw this.astErrorOutput("Unknown CallExpression",t,n)}},{key:"astArrayExpression",value:function(t,e,n){var i=t.elements.length;e.push("new Float32Array(");for(var r=0;r<i;++r)r>0&&e.push(", "),this.astGeneric(t.elements[r],e,n);return e.push(")"),e}},{key:"astDebuggerStatement",value:function(t,e,n){return e.push("debugger;"),e}}],[{key:"astFunctionPrototype",value:function(t,e,n){if(n.isRootKernel||n.isSubKernel)return e;e.push(n.returnType),e.push(" "),e.push(n.functionName),e.push("(");for(var i=0;i<n.paramNames.length;++i)i>0&&e.push(", "),e.push(n.paramTypes[i]),e.push(" "),e.push("user_"),e.push(n.paramNames[i]);return e.push(");\n"),e}}]),e}()},"3PQs":function(t,e,n){"use strict";var i=n("SYVJ");t.exports=function(t){var e=function(){return t.run.apply(t,arguments)};return i.allPropertiesOf(t).forEach(function(n){"_"===n[0]&&"_"===n[1]||("function"==typeof t[n]?e[n]="add"===n.substring(0,3)||"set"===n.substring(0,3)?function(){return t[n].apply(t,arguments),e}:t[n].bind(t):(e.__defineGetter__(n,function(){return t[n]}),e.__defineSetter__(n,function(e){t[n]=e})))}),e.kernel=t,e}},"3XFn":function(t,e,n){"use strict";t.exports="precision highp float;\nprecision highp int;\nprecision highp sampler2D;\n\nattribute highp vec2 aPos;\nattribute highp vec2 aTexCoord;\n\nvarying highp vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"},"3tM2":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n("SYVJ");var r=n("IoVc"),s=n("1Yz+"),a=n("7D8Y");t.exports=function(t){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new a,t));return n.Kernel=s,n.kernel=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"getMode",value:function(){return"cpu"}}]),e}()},"7D8Y":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("0LW3"),s=n("2mYk");t.exports=function(t){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.Node=s,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"polyfillStandardFunctions",value:function(){}}]),e}()},"8Nae":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)}return i(t,null,[{key:"isCanvas",value:function(t){return null!==t&&t.nodeName&&t.getContext&&"CANVAS"===t.nodeName.toUpperCase()}},{key:"isCanvasSupported",value:function(){return s}},{key:"initCanvas",value:function(){if(!s)return null;var t=document.createElement("canvas");return t.width=2,t.height=2,t}},{key:"isWebGl",value:function(t){return t&&"function"==typeof t.getExtension}},{key:"isWebGlSupported",value:function(){return o}},{key:"isWebGlDrawBuffersSupported",value:function(){return l}},{key:"initWebGlDefaultOptions",value:function(){return{alpha:!1,depth:!1,antialias:!1}}},{key:"initWebGl",value:function(e){if(("undefined"!=typeof s||null===e)&&!s)return null;if(!t.isCanvas(e))throw new Error("Invalid canvas object - "+e);var n=e.getContext("experimental-webgl",t.initWebGlDefaultOptions())||e.getContext("webgl",t.initWebGlDefaultOptions());return n&&(n.OES_texture_float=n.getExtension("OES_texture_float"),n.OES_texture_float_linear=n.getExtension("OES_texture_float_linear"),n.OES_element_index_uint=n.getExtension("OES_element_index_uint")),n}}]),t}(),s="undefined"!=typeof document&&r.isCanvas(document.createElement("canvas")),a=r.initWebGl(r.initCanvas()),o=r.isWebGl(a),l=o&&Boolean(a.getExtension("WEBGL_draw_buffers"));o?(r.OES_texture_float=a.OES_texture_float,r.OES_texture_float_linear=a.OES_texture_float_linear,r.OES_element_index_uint=a.OES_element_index_uint):(r.OES_texture_float=!1,r.OES_texture_float_linear=!1,r.OES_element_index_uint=!1),t.exports=r},"9ebt":function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("/ZX7"),s=n("SYVJ"),a=/decode32\(\s+encode32\(/g,o=/encode32\(\s+decode32\(/g;t.exports=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"generate",value:function(){return this.debug&&console.log(this),this.prototypeOnly?e.astFunctionPrototype(this.getJsAST(),[],this).join("").trim():(this.functionStringArray=this.astGeneric(this.getJsAST(),[],this),this.functionString=this.functionStringArray.join("").trim().replace(a,"((").replace(o,"(("),this.functionString)}},{key:"astGeneric",value:function(t,e,n){if(null===t)throw this.astErrorOutput("NULL ast",t,n);if(Array.isArray(t)){for(var i=0;i<t.length;i++)this.astGeneric(t[i],e,n);return e}switch(t.type){case"FunctionDeclaration":return this.astFunctionDeclaration(t,e,n);case"FunctionExpression":return this.astFunctionExpression(t,e,n);case"ReturnStatement":return this.astReturnStatement(t,e,n);case"Literal":return this.astLiteral(t,e,n);case"BinaryExpression":return this.astBinaryExpression(t,e,n);case"Identifier":return this.astIdentifierExpression(t,e,n);case"AssignmentExpression":return this.astAssignmentExpression(t,e,n);case"ExpressionStatement":return this.astExpressionStatement(t,e,n);case"EmptyStatement":return this.astEmptyStatement(t,e,n);case"BlockStatement":return this.astBlockStatement(t,e,n);case"IfStatement":return this.astIfStatement(t,e,n);case"BreakStatement":return this.astBreakStatement(t,e,n);case"ContinueStatement":return this.astContinueStatement(t,e,n);case"ForStatement":return this.astForStatement(t,e,n);case"WhileStatement":return this.astWhileStatement(t,e,n);case"VariableDeclaration":return this.astVariableDeclaration(t,e,n);case"VariableDeclarator":return this.astVariableDeclarator(t,e,n);case"ThisExpression":return this.astThisExpression(t,e,n);case"SequenceExpression":return this.astSequenceExpression(t,e,n);case"UnaryExpression":return this.astUnaryExpression(t,e,n);case"UpdateExpression":return this.astUpdateExpression(t,e,n);case"LogicalExpression":return this.astLogicalExpression(t,e,n);case"MemberExpression":return this.astMemberExpression(t,e,n);case"CallExpression":return this.astCallExpression(t,e,n);case"ArrayExpression":return this.astArrayExpression(t,e,n);case"DebuggerStatement":return this.astDebuggerStatement(t,e,n)}throw this.astErrorOutput("Unknown ast type : "+t.type,t,n)}},{key:"astFunctionDeclaration",value:function(t,e,n){return this.addFunction&&this.addFunction(null,s.getAstString(this.jsFunctionString,t)),e}},{key:"astFunctionExpression",value:function(t,e,n){if(n.isRootKernel?(e.push("void"),n.kernalAst=t):e.push(n.returnType),e.push(" "),e.push(n.functionName),e.push("("),!n.isRootKernel)for(var i=0;i<n.paramNames.length;++i){var r=n.paramNames[i];switch(i>0&&e.push(", "),n.getParamType(r)){case"Texture":case"Input":case"Array":e.push("sampler2D");break;default:e.push("float")}e.push(" "),e.push("user_"),e.push(r)}e.push(") {\n");for(var s=0;s<t.body.body.length;++s)this.astGeneric(t.body.body[s],e,n),e.push("\n");return e.push("}\n"),e}},{key:"astReturnStatement",value:function(t,e,n){return n.isRootKernel?(e.push("kernelResult = "),this.astGeneric(t.argument,e,n),e.push(";"),e.push("return;")):n.isSubKernel?(e.push(n.functionName+"Result = "),this.astGeneric(t.argument,e,n),e.push(";"),e.push("return "+n.functionName+"Result;")):(e.push("return "),this.astGeneric(t.argument,e,n),e.push(";")),e}},{key:"astLiteral",value:function(t,e,n){if(isNaN(t.value))throw this.astErrorOutput("Non-numeric literal not supported : "+t.value,t,n);return e.push(t.value),Number.isInteger(t.value)&&e.push(".0"),e}},{key:"astBinaryExpression",value:function(t,e,n){return e.push("("),"%"===t.operator?(e.push("mod("),this.astGeneric(t.left,e,n),e.push(","),this.astGeneric(t.right,e,n),e.push(")")):"==="===t.operator?(this.astGeneric(t.left,e,n),e.push("=="),this.astGeneric(t.right,e,n)):"!=="===t.operator?(this.astGeneric(t.left,e,n),e.push("!="),this.astGeneric(t.right,e,n)):(this.astGeneric(t.left,e,n),e.push(t.operator),this.astGeneric(t.right,e,n)),e.push(")"),e}},{key:"astIdentifierExpression",value:function(t,e,n){if("Identifier"!==t.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",t,n);switch(t.name){case"gpu_threadX":e.push("threadId.x");break;case"gpu_threadY":e.push("threadId.y");break;case"gpu_threadZ":e.push("threadId.z");break;case"gpu_outputX":e.push("uOutputDim.x");break;case"gpu_outputY":e.push("uOutputDim.y");break;case"gpu_outputZ":e.push("uOutputDim.z");break;default:if(this.constants&&this.constants.hasOwnProperty(t.name))e.push("constants_"+t.name);else{var i=n.getUserParamName(t.name);e.push(null!==i?"user_"+i:"user_"+t.name)}}return e}},{key:"astForStatement",value:function(t,e,n){if("ForStatement"!==t.type)throw this.astErrorOutput("Invalid for statment",t,n);if(t.test&&"BinaryExpression"===t.test.type){if("Identifier"===t.test.right.type&&"<"===t.test.operator&&!1===this.isIdentifierConstant(t.test.right.name)){if(this.loopMaxIterations||(console.warn("Warning: loopMaxIterations is not set! Using default of 1000 which may result in unintended behavior."),console.warn("Set loopMaxIterations or use a for loop of fixed length to silence this message.")),e.push("for ("),this.astGeneric(t.init,e,n),this.astGeneric(t.test.left,e,n),e.push(t.test.operator),e.push("LOOP_MAX"),e.push(";"),this.astGeneric(t.update,e,n),e.push(")"),e.push("{\n"),e.push("if ("),this.astGeneric(t.test.left,e,n),e.push(t.test.operator),this.astGeneric(t.test.right,e,n),e.push(") {\n"),"BlockStatement"===t.body.type)for(var i=0;i<t.body.body.length;i++)this.astGeneric(t.body.body[i],e,n);else this.astGeneric(t.body,e,n);return e.push("} else {\n"),e.push("break;\n"),e.push("}\n"),e.push("}\n"),e}var r=JSON.parse(JSON.stringify(t.init.declarations)),s=t.update.argument;if(!Array.isArray(r)||r.length<1)throw console.log(this.jsFunctionString),new Error("Error: Incompatible for loop declaration");if(r.length>1){for(var a=null,o=0;o<r.length;o++){var l=r[o];l.id.name===s.name?(a=l,r.splice(o,1)):(e.push("float "),this.astGeneric(l,e,n),e.push(";"))}e.push("for (float "),this.astGeneric(a,e,n),e.push(";")}else e.push("for ("),this.astGeneric(t.init,e,n);return this.astGeneric(t.test,e,n),e.push(";"),this.astGeneric(t.update,e,n),e.push(")"),this.astGeneric(t.body,e,n),e}throw this.astErrorOutput("Invalid for statement",t,n)}},{key:"astWhileStatement",value:function(t,e,n){if("WhileStatement"!==t.type)throw this.astErrorOutput("Invalid while statment",t,n);return e.push("for (float i = 0.0; i < LOOP_MAX; i++) {"),e.push("if ("),this.astGeneric(t.test,e,n),e.push(") {\n"),this.astGeneric(t.body,e,n),e.push("} else {\n"),e.push("break;\n"),e.push("}\n"),e.push("}\n"),e}},{key:"astAssignmentExpression",value:function(t,e,n){if("%="!==t.operator)return this.astGeneric(t.left,e,n),e.push(t.operator),this.astGeneric(t.right,e,n),e;this.astGeneric(t.left,e,n),e.push("="),e.push("mod("),this.astGeneric(t.left,e,n),e.push(","),this.astGeneric(t.right,e,n),e.push(")")}},{key:"astEmptyStatement",value:function(t,e,n){return e}},{key:"astBlockStatement",value:function(t,e,n){e.push("{\n");for(var i=0;i<t.body.length;i++)this.astGeneric(t.body[i],e,n);return e.push("}\n"),e}},{key:"astExpressionStatement",value:function(t,e,n){return this.astGeneric(t.expression,e,n),e.push(";\n"),e}},{key:"astVariableDeclaration",value:function(t,e,n){e.push("float ");for(var i=0;i<t.declarations.length;i++)i>0&&e.push(","),this.astGeneric(t.declarations[i],e,n);return e.push(";"),e}},{key:"astVariableDeclarator",value:function(t,e,n){return this.astGeneric(t.id,e,n),null!==t.init&&(e.push("="),this.astGeneric(t.init,e,n)),e}},{key:"astIfStatement",value:function(t,e,n){return e.push("if ("),this.astGeneric(t.test,e,n),e.push(")"),"BlockStatement"===t.consequent.type?this.astGeneric(t.consequent,e,n):(e.push(" {\n"),this.astGeneric(t.consequent,e,n),e.push("\n}\n")),t.alternate&&(e.push("else "),"BlockStatement"===t.alternate.type?this.astGeneric(t.alternate,e,n):(e.push(" {\n"),this.astGeneric(t.alternate,e,n),e.push("\n}\n"))),e}},{key:"astBreakStatement",value:function(t,e,n){return e.push("break;\n"),e}},{key:"astContinueStatement",value:function(t,e,n){return e.push("continue;\n"),e}},{key:"astLogicalExpression",value:function(t,e,n){return e.push("("),this.astGeneric(t.left,e,n),e.push(t.operator),this.astGeneric(t.right,e,n),e.push(")"),e}},{key:"astUpdateExpression",value:function(t,e,n){return t.prefix?(e.push(t.operator),this.astGeneric(t.argument,e,n)):(this.astGeneric(t.argument,e,n),e.push(t.operator)),e}},{key:"astUnaryExpression",value:function(t,e,n){return t.prefix?(e.push(t.operator),this.astGeneric(t.argument,e,n)):(this.astGeneric(t.argument,e,n),e.push(t.operator)),e}},{key:"astThisExpression",value:function(t,e,n){return e.push("this"),e}},{key:"astMemberExpression",value:function(t,e,n){if(t.computed)if("Identifier"===t.object.type){var i=!1;if(n.paramNames){var r=n.paramNames.indexOf(t.object.name);r>=0&&"float"===n.paramTypes[r]&&(i=!0)}i?(this.astGeneric(t.object,e,n),e.push("[int("),this.astGeneric(t.property,e,n),e.push(")]")):(e.push("get("),this.astGeneric(t.object,e,n),e.push(", vec2("),this.astGeneric(t.object,e,n),e.push("Size[0],"),this.astGeneric(t.object,e,n),e.push("Size[1]), vec3("),this.astGeneric(t.object,e,n),e.push("Dim[0],"),this.astGeneric(t.object,e,n),e.push("Dim[1],"),this.astGeneric(t.object,e,n),e.push("Dim[2]"),e.push("), "),this.astGeneric(t.property,e,n),e.push(")"))}else{this.astGeneric(t.object,e,n);var s=e.pop();e.push(","),this.astGeneric(t.property,e,n),e.push(s)}else{var a=this.astMemberExpressionUnroll(t),o=a.toLowerCase();switch(0===a.indexOf("this.constants.")&&(a="constants_"+a.slice("this.constants.".length)),o){case"this.thread.x":e.push("threadId.x");break;case"this.thread.y":e.push("threadId.y");break;case"this.thread.z":e.push("threadId.z");break;case"this.output.x":e.push(this.output[0]+".0");break;case"this.output.y":e.push(this.output[1]+".0");break;case"this.output.z":e.push(this.output[2]+".0");break;default:e.push(a)}}return e}},{key:"astSequenceExpression",value:function(t,e,n){for(var i=0;i<t.expressions.length;i++)i>0&&e.push(","),this.astGeneric(t.expressions,e,n);return e}},{key:"astCallExpression",value:function(t,e,n){if(t.callee){var i=this.astMemberExpressionUnroll(t.callee);0===i.indexOf("Math.")&&(i=i.slice("Math.".length)),0===i.indexOf("this.")&&(i=i.slice("this.".length)),n.calledFunctions.indexOf(i)<0&&n.calledFunctions.push(i),n.hasOwnProperty("funcName")||(n.calledFunctionsArguments[i]=[]);var r=[];n.calledFunctionsArguments[i].push(r),e.push(i),e.push("(");for(var s=0;s<t.arguments.length;++s){var a=t.arguments[s];if(s>0&&e.push(", "),this.astGeneric(a,e,n),"Identifier"===a.type){var o=n.paramNames.indexOf(a.name);r.push(-1===o?null:{name:a.name,type:n.paramTypes[o]})}else r.push(null)}return e.push(")"),e}throw this.astErrorOutput("Unknown CallExpression",t,n)}},{key:"astArrayExpression",value:function(t,e,n){var i=t.elements.length;e.push("float["+i+"](");for(var r=0;r<i;++r)r>0&&e.push(", "),this.astGeneric(t.elements[r],e,n);return e.push(")"),e}},{key:"getFunctionPrototypeString",value:function(){return this.webGlFunctionPrototypeString?this.webGlFunctionPrototypeString:this.webGlFunctionPrototypeString=this.generate()}},{key:"build",value:function(){return this.getFunctionPrototypeString().length>0}}],[{key:"astFunctionPrototype",value:function(t,e,n){if(n.isRootKernel||n.isSubKernel)return e;e.push(n.returnType),e.push(" "),e.push(n.functionName),e.push("(");for(var i=0;i<n.paramNames.length;++i)i>0&&e.push(", "),e.push(n.paramTypes[i]),e.push(" "),e.push("user_"),e.push(n.paramNames[i]);return e.push(");\n"),e}}]),e}()},AyxQ:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("SYVJ"),s=n("YBLF"),a=n("3tM2"),o=n("gNeC"),l=n("H5Po"),u=function(t){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n._canvas=(t=t||{}).canvas||null,n._webGl=t.webGl||null;var i=t.mode,l=void 0;if(r.isWebGlSupported())l=i||"gpu";else{if(i&&"cpu"!==i)throw new Error('A requested mode of "'+i+'" and is not supported');console.warn("Warning: gpu not supported, falling back to cpu support"),l="cpu"}n.kernels=[];var u={canvas:n._canvas,webGl:n._webGl};switch(l){case"cpu":n._runner=new a(u);break;case"webgl":case"gpu":n._runner=new s(u);break;case"webgl-validator":n._runner=new s(u),n._runner.Kernel=o;break;default:throw new Error('"'+i+'" mode is not defined')}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l),i(e,[{key:"createKernel",value:function(t,e){if("undefined"==typeof t)throw"Missing fn parameter";if(!r.isFunction(t)&&"string"!=typeof t)throw"fn parameter not a function";var n=this._runner.buildKernel(t,e||{});return this._canvas||(this._canvas=n.getCanvas()),this._runner.canvas||(this._runner.canvas=n.getCanvas()),this.kernels.push(n),n}},{key:"createKernelMap",value:function(){var t=void 0,e=void 0;"function"==typeof arguments[arguments.length-2]?(t=arguments[arguments.length-2],e=arguments[arguments.length-1]):t=arguments[arguments.length-1],r.isWebGlDrawBuffersSupported()||(this._runner=new a(e));var n=this.createKernel(t,e);if(Array.isArray(arguments[0]))for(var i=arguments[0],s=0;s<i.length;s++)n.addSubKernel(i[s]);else{var o=arguments[0];for(var l in o)o.hasOwnProperty(l)&&n.addSubKernelProperty(l,o[l])}return n}},{key:"combineKernels",value:function(){var t=arguments[arguments.length-2],e=arguments[arguments.length-1];if("cpu"===this.getMode())return e;for(var n=arguments[0].getCanvas(),i=arguments[0].getWebGl(),s=0;s<arguments.length-1;s++)arguments[s].setCanvas(n).setWebGl(i).setOutputToTexture(!0);return function(){e.apply(null,arguments);var n=t.texSize,i=t.getWebGl(),s=t.threadDim,a=void 0;if(t.floatOutput)a=new Float32Array(n[0]*n[1]*4),i.readPixels(0,0,n[0],n[1],i.RGBA,i.FLOAT,a);else{var o=new Uint8Array(n[0]*n[1]*4);i.readPixels(0,0,n[0],n[1],i.RGBA,i.UNSIGNED_BYTE,o),a=new Float32Array(o.buffer)}return a=a.subarray(0,s[0]*s[1]*s[2]),1===t.output.length?a:2===t.output.length?r.splitArray(a,t.output[0]):3===t.output.length?r.splitArray(a,t.output[0]*t.output[1]).map(function(e){return r.splitArray(e,t.output[0])}):void 0}}},{key:"addFunction",value:function(t,e,n){return this._runner.functionBuilder.addFunction(null,t,e,n),this}},{key:"addNativeFunction",value:function(t,e){return this._runner.functionBuilder.addNativeFunction(t,e),this}},{key:"getMode",value:function(){return this._runner.getMode()}},{key:"isWebGlSupported",value:function(){return r.isWebGlSupported()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}}]),e}();Object.assign(u,l),t.exports=u},H5Po:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n("8Nae"),t.exports=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)}return i(t,null,[{key:"validateKernelObj",value:function(t){if(null===t)throw"KernelObj being validated is NULL";if("string"==typeof t){try{t=JSON.parse(t)}catch(t){throw console.error(t),"Failed to convert KernelObj from JSON string"}if(null===t)throw"Invalid (NULL) KernelObj JSON string representation"}if(!0!==t.isKernelObj)throw"Failed missing isKernelObj flag check";return t}},{key:"loadKernelObj",value:function(t,e){t=validateKernelObj(t)}}]),t}()},Hj5S:function(t,e,n){"use strict";t.exports=function t(e,n){if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.value=e,Array.isArray(n)){this.size=[];for(var i=0;i<n.length;i++)this.size[i]=n[i];for(;this.size.length<3;)this.size.push(1)}else this.size=n.z?[n.x,n.y,n.z]:n.y?[n.x,n.y,1]:[n.x,1,1]}},IoVc:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("SYVJ"),s=n("3PQs");t.exports=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.kernel=(n=n||{}).kernel,this.canvas=n.canvas,this.webGl=n.webGl,this.fn=null,this.functionBuilder=e,this.fnString=null,this.endianness=r.systemEndianness(),this.functionBuilder.polyfillStandardFunctions()}return i(t,[{key:"textureToArray",value:function(t){return this.createKernel(function(t){return t[this.thread.z][this.thread.y][this.thread.x]})(t)}},{key:"deleteTexture",value:function(t){this.webGl.deleteTexture(t.texture)}},{key:"buildPromiseKernel",value:function(){throw new Error("not yet implemented")}},{key:"getMode",value:function(){throw new Error('"mode" not implemented on BaseRunner')}},{key:"buildKernel",value:function(t,e){e=Object.assign({},e||{});var n=t.toString();return e.functionBuilder||(e.functionBuilder=this.functionBuilder),e.canvas||(e.canvas=this.canvas),e.webGl||(e.webGl=this.webgl),s(new this.Kernel(n,e))}}]),t}()},JhzQ:function(t,e,n){"use strict";var i=n("SYVJ"),r=n("3PQs");t.exports=function(t,e){return"() => {\n    "+r.toString()+";\n    const utils = {\n      allPropertiesOf: function "+i.allPropertiesOf.toString()+",\n      clone: function "+i.clone.toString()+",\n      /*splitArray: function "+i.splitArray.toString()+",\n      getArgumentType: function "+i.getArgumentType.toString()+",\n      getOutput: function "+i.getOutput.toString()+",\n      dimToTexSize: function "+i.dimToTexSize.toString()+",\n      copyFlatten: function "+i.copyFlatten.toString()+",\n      flatten: function "+i.flatten.toString()+",\n      systemEndianness: '"+i.systemEndianness()+"',\n      initWebGl: function "+i.initWebGl.toString()+",\n      isArray: function "+i.isArray.toString()+"*/\n    };\n    class "+(e||"Kernel")+" {\n      constructor() {        \n        this.argumentsLength = 0;\n        this._canvas = null;\n        this._webGl = null;\n        this.built = false;\n        this.program = null;\n        this.paramNames = "+JSON.stringify(t.paramNames)+";\n        this.paramTypes = "+JSON.stringify(t.paramTypes)+";\n        this.texSize = "+JSON.stringify(t.texSize)+";\n        this.output = "+JSON.stringify(t.output)+";\n        this._kernelString = `"+t._kernelString+"`;\n        this.output = "+JSON.stringify(t.output)+";\n\t\t    this.run = function() {\n          this.run = null;\n          this.build();\n          return this.run.apply(this, arguments);\n        }.bind(this);\n        this.thread = {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n      }\n      setCanvas(canvas) { this._canvas = canvas; return this; }\n      setWebGl(webGl) { this._webGl = webGl; return this; }\n      "+t.build.toString()+"\n      run () { "+t.kernelString+" }\n      getKernelString() { return this._kernelString; }\n    };\n    return kernelRunShortcut(new Kernel());\n  };"}},KVNd:function(t,e,n){"use strict";var i=n("SYVJ"),r=n("3PQs");t.exports=function(t,e){return"() => {\n    "+r.toString()+";\n    const utils = {\n      allPropertiesOf: function "+i.allPropertiesOf.toString()+",\n      clone: function "+i.clone.toString()+",\n      splitArray: function "+i.splitArray.toString()+",\n      getArgumentType: function "+i.getArgumentType.toString()+",\n      getDimensions: function "+i.getDimensions.toString()+",\n      dimToTexSize: function "+i.dimToTexSize.toString()+",\n      copyFlatten: function "+i.copyFlatten.toString()+",\n      flatten: function "+i.flatten.toString()+",\n      systemEndianness: '"+i.systemEndianness()+"',\n      initWebGl: function "+i.initWebGl.toString()+",\n      isArray: function "+i.isArray.toString()+"\n    };\n    class "+(e||"Kernel")+" {\n      constructor() {\n        this.argumentsLength = 0;\n        this._canvas = null;\n        this._webGl = null;\n        this.built = false;\n        this.program = null;\n        this.paramNames = "+JSON.stringify(t.paramNames)+";\n        this.paramTypes = "+JSON.stringify(t.paramTypes)+";\n        this.texSize = "+JSON.stringify(t.texSize)+";\n        this.output = "+JSON.stringify(t.output)+";\n        this.compiledFragShaderString = `"+t.compiledFragShaderString+"`;\n\t\t    this.compiledVertShaderString = `"+t.compiledVertShaderString+"`;\n\t\t    this.programUniformLocationCache = {};\n\t\t    this.textureCache = {};\n\t\t    this.subKernelOutputTextures = null;\n      }\n      "+t._getFragShaderString.toString()+"\n      "+t._getVertShaderString.toString()+"\n      validateOptions() {}\n      setupParams() {}\n      setCanvas(canvas) { this._canvas = canvas; return this; }\n      setWebGl(webGl) { this._webGl = webGl; return this; }\n      "+t.getUniformLocation.toString()+"\n      "+t.setupParams.toString()+"\n      "+t.build.toString()+"\n\t\t  "+t.run.toString()+"\n\t\t  "+t._addArgument.toString()+"\n\t\t  "+t.getArgumentTexture.toString()+"\n\t\t  "+t.getTextureCache.toString()+"\n\t\t  "+t.getOutputTexture.toString()+"\n\t\t  "+t.renderOutput.toString()+"\n    };\n    return kernelRunShortcut(new Kernel());\n  };"}},OVyL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"version",function(){return ft}),n.d(e,"parse",function(){return mt}),n.d(e,"parseExpressionAt",function(){return gt}),n.d(e,"tokenizer",function(){return bt}),n.d(e,"parse_dammit",function(){return ct}),n.d(e,"LooseParser",function(){return pt}),n.d(e,"pluginsLoose",function(){return dt}),n.d(e,"addLooseExports",function(){return yt}),n.d(e,"Parser",function(){return M}),n.d(e,"plugins",function(){return G}),n.d(e,"defaultOptions",function(){return I}),n.d(e,"Position",function(){return N}),n.d(e,"SourceLocation",function(){return L}),n.d(e,"getLineInfo",function(){return R}),n.d(e,"Node",function(){return Q}),n.d(e,"TokenType",function(){return m}),n.d(e,"tokTypes",function(){return x}),n.d(e,"keywordTypes",function(){return v}),n.d(e,"TokContext",function(){return et}),n.d(e,"tokContexts",function(){return nt}),n.d(e,"isIdentifierChar",function(){return f}),n.d(e,"isIdentifierStart",function(){return d}),n.d(e,"Token",function(){return rt}),n.d(e,"isNewLine",function(){return w}),n.d(e,"lineBreak",function(){return k}),n.d(e,"lineBreakG",function(){return S}),n.d(e,"nonASCIIwhitespace",function(){return E});var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},r="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:r,6:r+" const class extends export import super"},a="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ae\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",o="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d4-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",l=new RegExp("["+a+"]"),u=new RegExp("["+a+o+"]");a=o=null;var h=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],c=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function p(t,e){for(var n=65536,i=0;i<e.length;i+=2){if((n+=e[i])>t)return!1;if((n+=e[i+1])>=t)return!0}}function d(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&l.test(String.fromCharCode(t)):!1!==e&&p(t,h)))}function f(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&u.test(String.fromCharCode(t)):!1!==e&&(p(t,h)||p(t,c)))))}var m=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function g(t,e){return new m(t,{beforeExpr:!0,binop:e})}var b={beforeExpr:!0},y={startsExpr:!0},v={};function _(t,e){return void 0===e&&(e={}),e.keyword=t,v[t]=new m(t,e)}var x={num:new m("num",y),regexp:new m("regexp",y),string:new m("string",y),name:new m("name",y),eof:new m("eof"),bracketL:new m("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new m("]"),braceL:new m("{",{beforeExpr:!0,startsExpr:!0}),braceR:new m("}"),parenL:new m("(",{beforeExpr:!0,startsExpr:!0}),parenR:new m(")"),comma:new m(",",b),semi:new m(";",b),colon:new m(":",b),dot:new m("."),question:new m("?",b),arrow:new m("=>",b),template:new m("template"),invalidTemplate:new m("invalidTemplate"),ellipsis:new m("...",b),backQuote:new m("`",y),dollarBraceL:new m("${",{beforeExpr:!0,startsExpr:!0}),eq:new m("=",{beforeExpr:!0,isAssign:!0}),assign:new m("_=",{beforeExpr:!0,isAssign:!0}),incDec:new m("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new m("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:g("||",1),logicalAND:g("&&",2),bitwiseOR:g("|",3),bitwiseXOR:g("^",4),bitwiseAND:g("&",5),equality:g("==/!=",6),relational:g("</>",7),bitShift:g("<</>>",8),plusMin:new m("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:g("%",10),star:g("*",10),slash:g("/",10),starstar:new m("**",{beforeExpr:!0}),_break:_("break"),_case:_("case",b),_catch:_("catch"),_continue:_("continue"),_debugger:_("debugger"),_default:_("default",b),_do:_("do",{isLoop:!0,beforeExpr:!0}),_else:_("else",b),_finally:_("finally"),_for:_("for",{isLoop:!0}),_function:_("function",y),_if:_("if"),_return:_("return",b),_switch:_("switch"),_throw:_("throw",b),_try:_("try"),_var:_("var"),_const:_("const"),_while:_("while",{isLoop:!0}),_with:_("with"),_new:_("new",{beforeExpr:!0,startsExpr:!0}),_this:_("this",y),_super:_("super",y),_class:_("class",y),_extends:_("extends",b),_export:_("export"),_import:_("import"),_null:_("null",y),_true:_("true",y),_false:_("false",y),_in:_("in",{beforeExpr:!0,binop:7}),_instanceof:_("instanceof",{beforeExpr:!0,binop:7}),_typeof:_("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:_("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:_("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},k=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(k.source,"g");function w(t){return 10===t||13===t||8232===t||8233===t}var E=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,T=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,A=Object.prototype,O=A.hasOwnProperty,C=A.toString;function F(t,e){return O.call(t,e)}var P=Array.isArray||function(t){return"[object Array]"===C.call(t)},N=function(t,e){this.line=t,this.column=e};N.prototype.offset=function(t){return new N(this.line,this.column+t)};var L=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function R(t,e){for(var n=1,i=0;;){S.lastIndex=i;var r=S.exec(t);if(!(r&&r.index<e))return new N(n,e-i);++n,i=r.index+r[0].length}}var I={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},G={};function D(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var M=function(t,e,n){this.options=t=function(t){var e={};for(var n in I)e[n]=t&&F(t,n)?t[n]:I[n];if(e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),P(e.onToken)){var i=e.onToken;e.onToken=function(t){return i.push(t)}}return P(e.onComment)&&(e.onComment=function(t,e){return function(n,i,r,s,a,o){var l={type:n?"Block":"Line",value:i,start:r,end:s};t.locations&&(l.loc=new L(this,a,o)),t.ranges&&(l.range=[r,s]),e.push(l)}}(e,e.onComment)),e}(t),this.sourceFile=t.sourceFile,this.keywords=D(s[t.ecmaVersion>=6?6:5]);var r="";if(!t.allowReserved){for(var a=t.ecmaVersion;!(r=i[a]);a--);"module"==t.sourceType&&(r+=" await")}this.reservedWords=D(r);var o=(r?r+" ":"")+i.strict;this.reservedWordsStrict=D(o),this.reservedWordsStrictBind=D(o+" "+i.strictBind),this.input=String(e),this.containsEsc=!1,this.loadPlugins(t.plugins),n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(k).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=x.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope()};M.prototype.isKeyword=function(t){return this.keywords.test(t)},M.prototype.isReservedWord=function(t){return this.reservedWords.test(t)},M.prototype.extend=function(t,e){this[t]=e(this[t])},M.prototype.loadPlugins=function(t){for(var e in t){var n=G[e];if(!n)throw new Error("Plugin '"+e+"' not found");n(this,t[e])}},M.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};var j=M.prototype,V=/^(?:'((?:[^']|\.)*)'|"((?:[^"]|\.)*)"|;)/;function U(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=-1}j.strictDirective=function(t){for(;;){T.lastIndex=t,t+=T.exec(this.input)[0].length;var e=V.exec(this.input.slice(t));if(!e)return!1;if("use strict"==(e[1]||e[2]))return!0;t+=e[0].length}},j.eat=function(t){return this.type===t&&(this.next(),!0)},j.isContextual=function(t){return this.type===x.name&&this.value===t},j.eatContextual=function(t){return this.value===t&&this.eat(x.name)},j.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},j.canInsertSemicolon=function(){return this.type===x.eof||this.type===x.braceR||k.test(this.input.slice(this.lastTokEnd,this.start))},j.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},j.semicolon=function(){this.eat(x.semi)||this.insertSemicolon()||this.unexpected()},j.afterTrailingComma=function(t,e){if(this.type==t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},j.expect=function(t){this.eat(t)||this.unexpected()},j.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},j.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},j.checkExpressionErrors=function(t,e){var n=t?t.shorthandAssign:-1;if(!e)return n>=0;n>-1&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns")},j.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},j.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var z=M.prototype;z.parseTopLevel=function(t){var e={};for(t.body||(t.body=[]);this.type!==x.eof;){var n=this.parseStatement(!0,!0,e);t.body.push(n)}return this.next(),this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")};var B={kind:"loop"},K={kind:"switch"};z.isLet=function(){if(this.type!==x.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;T.lastIndex=this.pos;var t=T.exec(this.input),e=this.pos+t[0].length,n=this.input.charCodeAt(e);if(91===n||123==n)return!0;if(d(n,!0)){for(var i=e+1;f(this.input.charCodeAt(i),!0);)++i;var r=this.input.slice(e,i);if(!this.isKeyword(r))return!0}return!1},z.isAsyncFunction=function(){if(this.type!==x.name||this.options.ecmaVersion<8||"async"!=this.value)return!1;T.lastIndex=this.pos;var t=T.exec(this.input),e=this.pos+t[0].length;return!(k.test(this.input.slice(this.pos,e))||"function"!==this.input.slice(e,e+8)||e+8!=this.input.length&&f(this.input.charAt(e+8)))},z.parseStatement=function(t,e,n){var i,r=this.type,s=this.startNode();switch(this.isLet()&&(r=x._var,i="let"),r){case x._break:case x._continue:return this.parseBreakContinueStatement(s,r.keyword);case x._debugger:return this.parseDebuggerStatement(s);case x._do:return this.parseDoStatement(s);case x._for:return this.parseForStatement(s);case x._function:return!t&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1);case x._class:return t||this.unexpected(),this.parseClass(s,!0);case x._if:return this.parseIfStatement(s);case x._return:return this.parseReturnStatement(s);case x._switch:return this.parseSwitchStatement(s);case x._throw:return this.parseThrowStatement(s);case x._try:return this.parseTryStatement(s);case x._const:case x._var:return i=i||this.value,t||"var"==i||this.unexpected(),this.parseVarStatement(s,i);case x._while:return this.parseWhileStatement(s);case x._with:return this.parseWithStatement(s);case x.braceL:return this.parseBlock();case x.semi:return this.parseEmptyStatement(s);case x._export:case x._import:return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===x._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction()&&t)return this.next(),this.parseFunctionStatement(s,!0);var a=this.value,o=this.parseExpression();return r===x.name&&"Identifier"===o.type&&this.eat(x.colon)?this.parseLabeledStatement(s,a,o):this.parseExpressionStatement(s,o)}},z.parseBreakContinueStatement=function(t,e){var n="break"==e;this.next(),this.eat(x.semi)||this.insertSemicolon()?t.label=null:this.type!==x.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(t.label&&n)break}}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},z.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},z.parseDoStatement=function(t){return this.next(),this.labels.push(B),t.body=this.parseStatement(!1),this.labels.pop(),this.expect(x._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(x.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},z.parseForStatement=function(t){if(this.next(),this.labels.push(B),this.enterLexicalScope(),this.expect(x.parenL),this.type===x.semi)return this.parseFor(t,null);var e=this.isLet();if(this.type===x._var||this.type===x._const||e){var n=this.startNode(),i=e?"let":this.value;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),!(this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==n.declarations.length||"var"!==i&&n.declarations[0].init?this.parseFor(t,n):this.parseForIn(t,n)}var r=new U,s=this.parseExpression(!0,r);return this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(s),this.checkLVal(s),this.checkPatternErrors(r,!0),this.parseForIn(t,s)):(this.checkExpressionErrors(r,!0),this.parseFor(t,s))},z.parseFunctionStatement=function(t,e){return this.next(),this.parseFunction(t,!0,!1,e)},z.isFunction=function(){return this.type===x._function||this.isAsyncFunction()},z.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!this.strict&&this.isFunction()),t.alternate=this.eat(x._else)?this.parseStatement(!this.strict&&this.isFunction()):null,this.finishNode(t,"IfStatement")},z.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(x.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},z.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(x.braceL),this.labels.push(K),this.enterLexicalScope();for(var n=!1;this.type!=x.braceR;)if(this.type===x._case||this.type===x._default){var i=this.type===x._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(x.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(!0));return this.exitLexicalScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},z.parseThrowStatement=function(t){return this.next(),k.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var W=[];z.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===x._catch){var e=this.startNode();this.next(),this.expect(x.parenL),e.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(e.param,"let"),this.expect(x.parenR),e.body=this.parseBlock(!1),this.exitLexicalScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(x._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},z.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},z.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(B),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"WhileStatement")},z.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement(!1),this.finishNode(t,"WithStatement")},z.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},z.parseLabeledStatement=function(t,e,n){for(var i=0,r=this.labels;i<r.length;i+=1)r[i].name===e&&this.raise(n.start,"Label '"+e+"' is already declared");for(var s=this.type.isLoop?"loop":this.type===x._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var o=this.labels[a];if(o.statementStart!=t.start)break;o.statementStart=this.start,o.kind=s}return this.labels.push({name:e,kind:s,statementStart:this.start}),t.body=this.parseStatement(!0),("ClassDeclaration"==t.body.type||"VariableDeclaration"==t.body.type&&"var"!=t.body.kind||"FunctionDeclaration"==t.body.type&&(this.strict||t.body.generator))&&this.raiseRecoverable(t.body.start,"Invalid labeled declaration"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},z.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},z.parseBlock=function(t){void 0===t&&(t=!0);var e=this.startNode();for(e.body=[],this.expect(x.braceL),t&&this.enterLexicalScope();!this.eat(x.braceR);){var n=this.parseStatement(!0);e.body.push(n)}return t&&this.exitLexicalScope(),this.finishNode(e,"BlockStatement")},z.parseFor=function(t,e){return t.init=e,this.expect(x.semi),t.test=this.type===x.semi?null:this.parseExpression(),this.expect(x.semi),t.update=this.type===x.parenR?null:this.parseExpression(),this.expect(x.parenR),this.exitLexicalScope(),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"ForStatement")},z.parseForIn=function(t,e){var n=this.type===x._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.expect(x.parenR),this.exitLexicalScope(),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,n)},z.parseVar=function(t,e,n){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(x.eq)?i.init=this.parseMaybeAssign(e):"const"!==n||this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"==i.id.type||e&&(this.type===x._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(x.comma))break}return t},z.parseVarId=function(t,e){t.id=this.parseBindingAtom(e),this.checkLVal(t.id,e,!1)},z.parseFunction=function(t,e,n,i){this.initFunction(t),this.options.ecmaVersion>=6&&!i&&(t.generator=this.eat(x.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&&(t.id="nullableID"===e&&this.type!=x.name?null:this.parseIdent(),t.id&&this.checkLVal(t.id,"var"));var r=this.inGenerator,s=this.inAsync,a=this.yieldPos,o=this.awaitPos,l=this.inFunction;return this.inGenerator=t.generator,this.inAsync=t.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),e||(t.id=this.type==x.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n),this.inGenerator=r,this.inAsync=s,this.yieldPos=a,this.awaitPos=o,this.inFunction=l,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},z.parseFunctionParams=function(t){this.expect(x.parenL),t.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},z.parseClass=function(t,e){this.next(),this.parseClassId(t,e),this.parseClassSuper(t);var n=this.startNode(),i=!1;for(n.body=[],this.expect(x.braceL);!this.eat(x.braceR);)if(!this.eat(x.semi)){var r=this.startNode(),s=this.eat(x.star),a=!1,o=this.type===x.name&&"static"===this.value;this.parsePropertyName(r),r.static=o&&this.type!==x.parenL,r.static&&(s&&this.unexpected(),s=this.eat(x.star),this.parsePropertyName(r)),this.options.ecmaVersion>=8&&!s&&!r.computed&&"Identifier"===r.key.type&&"async"===r.key.name&&this.type!==x.parenL&&!this.canInsertSemicolon()&&(a=!0,this.parsePropertyName(r)),r.kind="method";var l=!1;if(!r.computed){var u=r.key;s||a||"Identifier"!==u.type||this.type===x.parenL||"get"!==u.name&&"set"!==u.name||(l=!0,r.kind=u.name,u=this.parsePropertyName(r)),!r.static&&("Identifier"===u.type&&"constructor"===u.name||"Literal"===u.type&&"constructor"===u.value)&&(i&&this.raise(u.start,"Duplicate constructor in the same class"),l&&this.raise(u.start,"Constructor can't have get/set modifier"),s&&this.raise(u.start,"Constructor can't be a generator"),a&&this.raise(u.start,"Constructor can't be an async method"),r.kind="constructor",i=!0)}this.parseClassMethod(n,r,s,a),l&&(r.value.params.length!==("get"===r.kind?0:1)?this.raiseRecoverable(r.value.start,"get"===r.kind?"getter should have no params":"setter should have exactly one param"):"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"))}return t.body=this.finishNode(n,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},z.parseClassMethod=function(t,e,n,i){e.value=this.parseMethod(n,i),t.body.push(this.finishNode(e,"MethodDefinition"))},z.parseClassId=function(t,e){t.id=this.type===x.name?this.parseIdent():!0===e?this.unexpected():null},z.parseClassSuper=function(t){t.superClass=this.eat(x._extends)?this.parseExprSubscripts():null},z.parseExport=function(t,e){if(this.next(),this.eat(x.star))return this.expectContextual("from"),t.source=this.type===x.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(x._default)){var n;if(this.checkExport(e,"default",this.lastTokStart),this.type===x._function||(n=this.isAsyncFunction())){var i=this.startNode();this.next(),n&&this.next(),t.declaration=this.parseFunction(i,"nullableID",!1,n)}else if(this.type===x._class){var r=this.startNode();t.declaration=this.parseClass(r,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(!0),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))t.source=this.type===x.string?this.parseExprAtom():this.unexpected();else{for(var s=0,a=t.specifiers;s<a.length;s+=1)this.checkUnreserved(a[s].local);t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},z.checkExport=function(t,e,n){t&&(F(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},z.checkPatternExport=function(t,e){var n=e.type;if("Identifier"==n)this.checkExport(t,e.name,e.start);else if("ObjectPattern"==n)for(var i=0,r=e.properties;i<r.length;i+=1)this.checkPatternExport(t,r[i].value);else if("ArrayPattern"==n)for(var s=0,a=e.elements;s<a.length;s+=1){var o=a[s];o&&this.checkPatternExport(t,o)}else"AssignmentPattern"==n?this.checkPatternExport(t,e.left):"ParenthesizedExpression"==n&&this.checkPatternExport(t,e.expression)},z.checkVariableExport=function(t,e){if(t)for(var n=0,i=e;n<i.length;n+=1)this.checkPatternExport(t,i[n].id)},z.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},z.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(x.braceL);!this.eat(x.braceR);){if(n)n=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(t,i.exported.name,i.exported.start),e.push(this.finishNode(i,"ExportSpecifier"))}return e},z.parseImport=function(t){return this.next(),this.type===x.string?(t.specifiers=W,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===x.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},z.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===x.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,"let"),t.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(x.comma))return t}if(this.type===x.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,"let"),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(x.braceL);!this.eat(x.braceR);){if(e)e=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var r=this.startNode();r.imported=this.parseIdent(!0),this.eatContextual("as")?r.local=this.parseIdent():(this.checkUnreserved(r.imported),r.local=r.imported),this.checkLVal(r.local,"let"),t.push(this.finishNode(r,"ImportSpecifier"))}return t};var q=M.prototype;q.toAssignable=function(t,e){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":t.type="ObjectPattern";for(var n=0,i=t.properties;n<i.length;n+=1){var r=i[n];"init"!==r.kind&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,e)}break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e);break;case"AssignmentExpression":if("="!==t.operator){this.raise(t.left.end,"Only '=' operator can be used for specifying default value.");break}t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}return t},q.toAssignableList=function(t,e){var n=t.length;if(n){var i=t[n-1];i&&"RestElement"==i.type?--n:i&&"SpreadElement"==i.type&&(i.type="RestElement",this.toAssignable(i.argument,e),--n),6===this.options.ecmaVersion&&e&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start)}for(var r=0;r<n;r++){var s=t[r];s&&this.toAssignable(s,e)}return t},q.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},q.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==x.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},q.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case x.name:return this.parseIdent();case x.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(x.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case x.braceL:return this.parseObj(!0);default:this.unexpected()}},q.parseBindingList=function(t,e,n){for(var i=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(x.comma),e&&this.type===x.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===x.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===x.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),i.push(a)}return i},q.parseBindingListItem=function(t){return t},q.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(x.eq))return n;var i=this.startNodeAt(t,e);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},q.checkLVal=function(t,e,n){switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(F(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e&&"none"!==e&&(("var"===e&&!this.canDeclareVarName(t.name)||"var"!==e&&!this.canDeclareLexicalName(t.name))&&this.raiseRecoverable(t.start,"Identifier '"+t.name+"' has already been declared"),"var"===e?this.declareVarName(t.name):this.declareLexicalName(t.name));break;case"MemberExpression":e&&this.raiseRecoverable(t.start,(e?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0,r=t.properties;i<r.length;i+=1)this.checkLVal(r[i].value,e,n);break;case"ArrayPattern":for(var s=0,a=t.elements;s<a.length;s+=1){var o=a[s];o&&this.checkLVal(o,e,n)}break;case"AssignmentPattern":this.checkLVal(t.left,e,n);break;case"RestElement":this.checkLVal(t.argument,e,n);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,n);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var X=M.prototype;X.checkPropClash=function(t,e){if(!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n,i=t.key;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===n&&"init"===r&&(e.proto&&this.raiseRecoverable(i.start,"Redefinition of __proto__ property"),e.proto=!0);else{var s=e[n="$"+n];s?("init"===r?this.strict&&s.init||s.get||s.set:s.init||s[r])&&this.raiseRecoverable(i.start,"Redefinition of property"):s=e[n]={init:!1,get:!1,set:!1},s[r]=!0}}},X.parseExpression=function(t,e){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===x.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(x.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r},X.parseMaybeAssign=function(t,e,n){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var i=!1,r=-1,s=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new U,i=!0);var a=this.start,o=this.startLoc;this.type!=x.parenL&&this.type!=x.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(t,e);if(n&&(l=n.call(this,l,a,o)),this.type.isAssign){this.checkPatternErrors(e,!0),i||U.call(e);var u=this.startNodeAt(a,o);return u.operator=this.value,u.left=this.type===x.eq?this.toAssignable(l):l,e.shorthandAssign=-1,this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(t),this.finishNode(u,"AssignmentExpression")}return i&&this.checkExpressionErrors(e,!0),r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),l},X.parseMaybeConditional=function(t,e){var n=this.start,i=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(x.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(x.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r},X.parseExprOps=function(t,e){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)?r:r.start==n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,t)},X.parseExprOp=function(t,e,n,i,r){var s=this.type.binop;if(null!=s&&(!r||this.type!==x._in)&&s>i){var a=this.type===x.logicalOR||this.type===x.logicalAND,o=this.value;this.next();var l=this.start,u=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,s,r),c=this.buildBinary(e,n,t,h,o,a);return this.parseExprOp(c,e,n,i,r)}return t},X.buildBinary=function(t,e,n,i,r,s){var a=this.startNodeAt(t,e);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},X.parseMaybeUnary=function(t,e){var n,i=this.start,r=this.startLoc;if(this.inAsync&&this.isContextual("await"))n=this.parseAwait(t),e=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===x.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):e=!0,n=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(i,r);o.operator=this.value,o.prefix=!1,o.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(o,"UpdateExpression")}}return!e&&this.eat(x.starstar)?this.buildBinary(i,r,n,this.parseMaybeUnary(null,!1),"**",!1):n},X.parseExprSubscripts=function(t){var e=this.start,n=this.startLoc,i=this.parseExprAtom(t),r="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(t)||r)return i;var s=this.parseSubscripts(i,e,n);return t&&"MemberExpression"===s.type&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1)),s},X.parseSubscripts=function(t,e,n,i){for(var r=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd==t.end&&!this.canInsertSemicolon(),s=void 0;;)if((s=this.eat(x.bracketL))||this.eat(x.dot)){var a=this.startNodeAt(e,n);a.object=t,a.property=s?this.parseExpression():this.parseIdent(!0),a.computed=!!s,s&&this.expect(x.bracketR),t=this.finishNode(a,"MemberExpression")}else if(!i&&this.eat(x.parenL)){var o=new U,l=this.yieldPos,u=this.awaitPos;this.yieldPos=0,this.awaitPos=0;var h=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1,o);if(r&&!this.canInsertSemicolon()&&this.eat(x.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=l,this.awaitPos=u,this.parseArrowExpression(this.startNodeAt(e,n),h,!0);this.checkExpressionErrors(o,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos;var c=this.startNodeAt(e,n);c.callee=t,c.arguments=h,t=this.finishNode(c,"CallExpression")}else{if(this.type!==x.backQuote)return t;var p=this.startNodeAt(e,n);p.tag=t,p.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(p,"TaggedTemplateExpression")}},X.parseExprAtom=function(t){var e,n=this.potentialArrowAt==this.start;switch(this.type){case x._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case x._this:var i=this.type===x._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,i);case x.name:var r=this.start,s=this.startLoc,a=this.parseIdent(this.type!==x.name);if(this.options.ecmaVersion>=8&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(x._function))return this.parseFunction(this.startNodeAt(r,s),!1,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(x.arrow))return this.parseArrowExpression(this.startNodeAt(r,s),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===x.name)return a=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(x.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,s),[a],!0)}return a;case x.regexp:var o=this.value;return(e=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},e;case x.num:case x.string:return this.parseLiteral(this.value);case x._null:case x._true:case x._false:return(e=this.startNode()).value=this.type===x._null?null:this.type===x._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case x.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),u;case x.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(x.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case x.braceL:return this.parseObj(!1,t);case x._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case x._class:return this.parseClass(this.startNode(),!1);case x._new:return this.parseNew();case x.backQuote:return this.parseTemplate();default:this.unexpected()}},X.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(e,"Literal")},X.parseParenExpression=function(){this.expect(x.parenL);var t=this.parseExpression();return this.expect(x.parenR),t},X.parseParenAndDistinguishExpression=function(t){var e,n=this.start,i=this.startLoc,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a,o=this.start,l=this.startLoc,u=[],h=!0,c=!1,p=new U,d=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==x.parenR;){if(h?h=!1:this.expect(x.comma),r&&this.afterTrailingComma(x.parenR,!0)){c=!0;break}if(this.type===x.ellipsis){s=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===x.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}this.type!==x.parenL||a||(a=this.start),u.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var m=this.start,g=this.startLoc;if(this.expect(x.parenR),t&&!this.canInsertSemicolon()&&this.eat(x.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),a&&this.unexpected(a),this.yieldPos=d,this.awaitPos=f,this.parseParenArrowList(n,i,u);u.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=f||this.awaitPos,u.length>1?((e=this.startNodeAt(o,l)).expressions=u,this.finishNodeAt(e,"SequenceExpression",m,g)):e=u[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var b=this.startNodeAt(n,i);return b.expression=e,this.finishNode(b,"ParenthesizedExpression")}return e},X.parseParenItem=function(t){return t},X.parseParenArrowList=function(t,e,n){return this.parseArrowExpression(this.startNodeAt(t,e),n)};var Y=[];X.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(x.dot))return t.meta=e,t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty");var n=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,i,!0),t.arguments=this.eat(x.parenL)?this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1):Y,this.finishNode(t,"NewExpression")},X.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===x.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===x.backQuote,this.finishNode(n,"TemplateElement")},X.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:e});for(n.quasis=[i];!i.tail;)this.expect(x.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(x.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")},X.isAsyncProp=function(t){return!(t.computed||"Identifier"!==t.key.type||"async"!==t.key.name||this.type!==x.name&&this.type!==x.num&&this.type!==x.string&&this.type!==x.bracketL||k.test(this.input.slice(this.lastTokEnd,this.start)))},X.parseObj=function(t,e){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(x.braceR);){if(i)i=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var s=this.startNode(),a=void 0,o=void 0,l=void 0,u=void 0;this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(t||e)&&(l=this.start,u=this.startLoc),t||(a=this.eat(x.star))),this.parsePropertyName(s),!t&&this.options.ecmaVersion>=8&&!a&&this.isAsyncProp(s)?(o=!0,this.parsePropertyName(s,e)):o=!1,this.parsePropertyValue(s,t,a,o,l,u,e),this.checkPropClash(s,r),n.properties.push(this.finishNode(s,"Property"))}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},X.parsePropertyValue=function(t,e,n,i,r,s,a){(n||i)&&this.type===x.colon&&this.unexpected(),this.eat(x.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):this.options.ecmaVersion>=6&&this.type===x.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,i)):this.options.ecmaVersion>=5&&!t.computed&&"Identifier"===t.key.type&&("get"===t.key.name||"set"===t.key.name)&&this.type!=x.comma&&this.type!=x.braceR?((n||i||e)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1),t.value.params.length!==("get"===t.kind?0:1)?this.raiseRecoverable(t.value.start,"get"===t.kind?"getter should have no params":"setter should have exactly one param"):"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")):this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?(this.checkUnreserved(t.key),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,t.key):this.type===x.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected()},X.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(x.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(x.bracketR),t.key;t.computed=!1}return t.key=this.type===x.num||this.type===x.string?this.parseExprAtom():this.parseIdent(!0)},X.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},X.parseMethod=function(t,e){var n=this.startNode(),i=this.inGenerator,r=this.inAsync,s=this.yieldPos,a=this.awaitPos,o=this.inFunction;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.inGenerator=n.generator,this.inAsync=n.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(x.parenL),n.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1),this.inGenerator=i,this.inAsync=r,this.yieldPos=s,this.awaitPos=a,this.inFunction=o,this.finishNode(n,"FunctionExpression")},X.parseArrowExpression=function(t,e,n){var i=this.inGenerator,r=this.inAsync,s=this.yieldPos,a=this.awaitPos,o=this.inFunction;return this.enterFunctionScope(),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.inGenerator=!1,this.inAsync=t.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0),this.inGenerator=i,this.inAsync=r,this.yieldPos=s,this.awaitPos=a,this.inFunction=o,this.finishNode(t,"ArrowFunctionExpression")},X.parseFunctionBody=function(t,e){var n=this.strict,i=!1;if(e&&this.type!==x.braceL)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);n&&!r||(i=this.strictDirective(this.end))&&r&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(t,!n&&!i&&!e&&this.isSimpleParamList(t.params)),t.body=this.parseBlock(!1),t.expression=!1,this.labels=s}this.exitFunctionScope(),this.strict&&t.id&&this.checkLVal(t.id,"none"),this.strict=n},X.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1)if("Identifier"!==n[e].type)return!1;return!0},X.checkParams=function(t,e){for(var n={},i=0,r=t.params;i<r.length;i+=1)this.checkLVal(r[i],"var",e?null:n)},X.parseExprList=function(t,e,n,i){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(x.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===x.comma?a=null:this.type===x.ellipsis?(a=this.parseSpread(i),i&&this.type===x.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),r.push(a)}return r},X.checkUnreserved=function(t){var e=t.start,n=t.end,i=t.name;this.inGenerator&&"yield"===i&&this.raiseRecoverable(e,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(e,"Can not use 'await' as identifier inside an async function"),this.isKeyword(i)&&this.raise(e,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!=this.input.slice(e,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&this.raiseRecoverable(e,"The keyword '"+i+"' is reserved")},X.parseIdent=function(t,e){var n=this.startNode();return t&&"never"==this.options.allowReserved&&(t=!1),this.type===x.name?n.name=this.value:this.type.keyword?n.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(n,"Identifier"),t||this.checkUnreserved(n),n},X.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type==x.semi||this.canInsertSemicolon()||this.type!=x.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(x.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")},X.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")};var J=M.prototype;J.raise=function(t,e){var n=R(this.input,t),i=new SyntaxError(e+=" ("+n.line+":"+n.column+")");throw i.pos=t,i.loc=n,i.raisedAt=this.pos,i},J.raiseRecoverable=J.raise,J.curPosition=function(){if(this.options.locations)return new N(this.curLine,this.pos-this.lineStart)};var H=M.prototype,Z=Object.assign||function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var s=r[i];for(var a in s)F(s,a)&&(t[a]=s[a])}return t};H.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})},H.exitFunctionScope=function(){this.scopeStack.pop()},H.enterLexicalScope=function(){var t=this.scopeStack[this.scopeStack.length-1],e={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(e),Z(e.parentLexical,t.lexical,t.parentLexical)},H.exitLexicalScope=function(){var t=this.scopeStack.pop();Z(this.scopeStack[this.scopeStack.length-1].childVar,t.var,t.childVar)},H.canDeclareVarName=function(t){var e=this.scopeStack[this.scopeStack.length-1];return!F(e.lexical,t)&&!F(e.parentLexical,t)},H.canDeclareLexicalName=function(t){var e=this.scopeStack[this.scopeStack.length-1];return!F(e.lexical,t)&&!F(e.var,t)&&!F(e.childVar,t)},H.declareVarName=function(t){this.scopeStack[this.scopeStack.length-1].var[t]=!0},H.declareLexicalName=function(t){this.scopeStack[this.scopeStack.length-1].lexical[t]=!0};var Q=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new L(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},$=M.prototype;function tt(t,e,n,i){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=n),t}$.startNode=function(){return new Q(this,this.start,this.startLoc)},$.startNodeAt=function(t,e){return new Q(this,t,e)},$.finishNode=function(t,e){return tt.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},$.finishNodeAt=function(t,e,n,i){return tt.call(this,t,e,n,i)};var et=function(t,e,n,i,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=i,this.generator=!!r},nt={b_stat:new et("{",!1),b_expr:new et("{",!0),b_tmpl:new et("${",!1),p_stat:new et("(",!1),p_expr:new et("(",!0),q_tmpl:new et("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new et("function",!1),f_expr:new et("function",!0),f_expr_gen:new et("function",!0,!1,null,!0),f_gen:new et("function",!1,!1,null,!0)},it=M.prototype;it.initialContext=function(){return[nt.b_stat]},it.braceIsBlock=function(t){var e=this.curContext();return e===nt.f_expr||e===nt.f_stat||(t!==x.colon||e!==nt.b_stat&&e!==nt.b_expr?t===x._return||t==x.name&&this.exprAllowed?k.test(this.input.slice(this.lastTokEnd,this.start)):t===x._else||t===x.semi||t===x.eof||t===x.parenR||t==x.arrow||(t==x.braceL?e===nt.b_stat:t!=x._var&&t!=x.name&&!this.exprAllowed):!e.isExpr)},it.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},it.updateContext=function(t){var e,n=this.type;n.keyword&&t==x.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},x.parenR.updateContext=x.braceR.updateContext=function(){if(1!=this.context.length){var t=this.context.pop();t===nt.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},x.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?nt.b_stat:nt.b_expr),this.exprAllowed=!0},x.dollarBraceL.updateContext=function(){this.context.push(nt.b_tmpl),this.exprAllowed=!0},x.parenL.updateContext=function(t){this.context.push(t===x._if||t===x._for||t===x._with||t===x._while?nt.p_stat:nt.p_expr),this.exprAllowed=!0},x.incDec.updateContext=function(){},x._function.updateContext=x._class.updateContext=function(t){t.beforeExpr&&t!==x.semi&&t!==x._else&&(t!==x.colon&&t!==x.braceL||this.curContext()!==nt.b_stat)?this.context.push(nt.f_expr):this.context.push(nt.f_stat),this.exprAllowed=!1},x.backQuote.updateContext=function(){this.curContext()===nt.q_tmpl?this.context.pop():this.context.push(nt.q_tmpl),this.exprAllowed=!1},x.star.updateContext=function(t){if(t==x._function){var e=this.context.length-1;this.context[e]=this.context[e]===nt.f_expr?nt.f_expr_gen:nt.f_gen}this.exprAllowed=!0},x.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&("of"==this.value&&!this.exprAllowed||"yield"==this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var rt=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new L(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},st=M.prototype,at="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);function ot(t,e,n,i){try{return new RegExp(t,e)}catch(t){if(void 0!==n)throw t instanceof SyntaxError&&i.raise(n,"Error parsing regular expression: "+t.message),t}}st.next=function(){this.options.onToken&&this.options.onToken(new rt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},st.getToken=function(){return this.next(),new rt(this)},"undefined"!=typeof Symbol&&(st[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===x.eof,value:e}}}}),st.curContext=function(){return this.context[this.context.length-1]},st.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(x.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},st.readToken=function(t){return d(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},st.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||t>=57344?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},st.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),n=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(S.lastIndex=n;(t=S.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,i),n,this.pos,e,this.curPosition())},st.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!w(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())},st.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&E.test(String.fromCharCode(t))))break t;++this.pos}}},st.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},st.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(x.ellipsis)):(++this.pos,this.finishToken(x.dot))},st.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(x.assign,2):this.finishOp(x.slash,1)},st.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,i=42===t?x.star:x.modulo;return this.options.ecmaVersion>=7&&42===e&&(++n,i=x.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(x.assign,n+1):this.finishOp(i,n)},st.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?x.logicalOR:x.logicalAND,2):61===e?this.finishOp(x.assign,2):this.finishOp(124===t?x.bitwiseOR:x.bitwiseAND,1)},st.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(x.assign,2):this.finishOp(x.bitwiseXOR,1)},st.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!=e||62!=this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!k.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(x.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(x.assign,2):this.finishOp(x.plusMin,1)},st.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(x.assign,n+1):this.finishOp(x.bitShift,n)):33==e&&60==t&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===e&&(n=2),this.finishOp(x.relational,n))},st.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(x.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(x.arrow)):this.finishOp(61===t?x.eq:x.prefix,1)},st.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(x.parenL);case 41:return++this.pos,this.finishToken(x.parenR);case 59:return++this.pos,this.finishToken(x.semi);case 44:return++this.pos,this.finishToken(x.comma);case 91:return++this.pos,this.finishToken(x.bracketL);case 93:return++this.pos,this.finishToken(x.bracketR);case 123:return++this.pos,this.finishToken(x.braceL);case 125:return++this.pos,this.finishToken(x.braceR);case 58:return++this.pos,this.finishToken(x.colon);case 63:return++this.pos,this.finishToken(x.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(x.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(x.prefix,1)}this.raise(this.pos,"Unexpected character '"+ut(t)+"'")},st.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};var lt=!!ot("\uffff","u");function ut(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}st.readRegexp=function(){for(var t,e,n=this,i=this.pos;;){n.pos>=n.input.length&&n.raise(i,"Unterminated regular expression");var r=n.input.charAt(n.pos);if(k.test(r)&&n.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++n.pos}var s=this.input.slice(i,this.pos);++this.pos;var a=this.readWord1(),o=s,l="";if(a){var u=/^[gim]*$/;this.options.ecmaVersion>=6&&(u=/^[gimuy]*$/),u.test(a)||this.raise(i,"Invalid regular expression flag"),a.indexOf("u")>=0&&(lt?l="u":(o=(o=o.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e,r){return(e=Number("0x"+e))>1114111&&n.raise(i+r+3,"Code point out of bounds"),"x"})).replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),l=l.replace("u","")))}var h=null;return at||(ot(o,l,i,this),h=ot(s,a)),this.finishToken(x.regexp,{pattern:s,flags:a,value:h})},st.readInt=function(t,e){for(var n=this.pos,i=0,r=0,s=null==e?1/0:e;r<s;++r){var a,o=this.input.charCodeAt(this.pos);if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=t)break;++this.pos,i=i*t+a}return this.pos===n||null!=e&&this.pos-n!==e?null:i},st.readRadixNumber=function(t){this.pos+=2;var e=this.readInt(t);return null==e&&this.raise(this.start+2,"Expected number in radix "+t),d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,e)},st.readNumber=function(t){var e=this.pos,n=!1,i=48===this.input.charCodeAt(this.pos);t||null!==this.readInt(10)||this.raise(e,"Invalid number"),i&&this.pos==e+1&&(i=!1);var r=this.input.charCodeAt(this.pos);46!==r||i||(++this.pos,this.readInt(10),n=!0,r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||i||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number"),n=!0),d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s,a=this.input.slice(e,this.pos);return n?s=parseFloat(a):i&&1!==a.length?this.strict?this.raise(e,"Invalid number"):s=/[89]/.test(a)?parseInt(a,10):parseInt(a,8):s=parseInt(a,10),this.finishToken(x.num,s)},st.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},st.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===t)break;92===i?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):(w(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(x.string,e)};var ht={};st.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==ht)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},st.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ht;this.raise(t,e)},st.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==x.template&&this.type!==x.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(x.template,t)):36===n?(this.pos+=2,this.finishToken(x.dollarBraceL)):(++this.pos,this.finishToken(x.backQuote));if(92===n)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(w(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},st.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(x.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},st.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ut(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),"0"!==n&&(this.strict||t)&&this.invalidStringToken(this.pos-2,"Octal literal in strict mode"),this.pos+=n.length-1,String.fromCharCode(i)}return String.fromCharCode(e)}},st.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},st.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(f(r,i))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;117!=this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?d:f)(a,i)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=ut(a),n=this.pos}e=!1}return t+this.input.slice(n,this.pos)},st.readWord=function(){var t=this.readWord1(),e=x.name;return this.keywords.test(t)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+t),e=v[t]),this.finishToken(e,t)};var ct,pt,dt,ft="5.1.1";function mt(t,e){return new M(e,t).parse()}function gt(t,e,n){var i=new M(n,t,e);return i.nextToken(),i.parseExpression()}function bt(t,e){return new M(e,t)}function yt(t,e,n){ct=t,pt=e,dt=n}},SYVJ:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n("8Nae"),a=n("Hj5S"),o=n("Yt3q"),l=/function ([^(]*)/,u=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,h=/([^\s,]+)/g,c=function(){var t=new ArrayBuffer(4),e=new Uint32Array(t),n=new Uint8Array(t);if(e[0]=3735928559,239===n[0])return"LE";if(222===n[0])return"BE";throw new Error("unknown endianness")}(),p=null,d=function(){try{return new Function("let i = 1; const j = 1;")(),!0}catch(t){return!1}}(),f=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),r(e,null,[{key:"systemEndianness",value:function(){return c}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isFunctionString",value:function(t){return null!==t&&"function"===t.toString().slice(0,"function".length).toLowerCase()}},{key:"getFunctionNameFromString",value:function(t){return l.exec(t)[1]}},{key:"getFunctionBodyFromString",value:function(t){return t.substring(t.indexOf("{")+1,t.lastIndexOf("}"))}},{key:"getParamNamesFromString",value:function(t){var e=t.toString().replace(u,""),n=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(h);return null===n&&(n=[]),n}},{key:"clone",value:function(t){if(null===t||"object"!==("undefined"==typeof t?"undefined":i(t))||t.hasOwnProperty("isActiveClone"))return t;var n=t.constructor();for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t.isActiveClone=null,n[r]=e.clone(t[r]),delete t.isActiveClone);return n}},{key:"newPromise",value:function(t){var e=Promise||small_promise;if(null===e)throw TypeError("Browser is missing Promise implementation. Consider adding small_promise.js polyfill");return new e(t)}},{key:"functionBinder",value:function(t,e){return t.bind?t.bind(e):function(){var n=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);return t.apply(e,n)}}},{key:"isArray",value:function(t){return!isNaN(t.length)}},{key:"getArgumentType",value:function(t){return e.isArray(t)?"Array":"number"==typeof t?"Number":t instanceof o?"Texture":t instanceof a?"Input":"Unknown"}},{key:"isFloatReadPixelsSupported",value:function(){if(null!==p)return p;var t=new(n("2/uh"))({mode:"webgl-validator"}).createKernel(function(){return 1},{output:[2],floatTextures:!0,floatOutput:!0,floatOutputForce:!0})();return p=1===t[0]}},{key:"isMixedIdentifiersSupported",value:function(){return d}},{key:"dimToTexSize",value:function(t,e,n){for(var i=e[0],r=1;r<e.length;r++)i*=e[r];!t.floatTextures||n&&!t.floatOutput||(i=Math.ceil(i/4));var s=Math.ceil(Math.sqrt(i));return[s,s]}},{key:"getDimensions",value:function(t,n){var i=void 0;if(e.isArray(t)){for(var r=[],s=t;e.isArray(s);)r.push(s.length),s=s[0];i=r.reverse()}else if(t instanceof o)i=t.output;else{if(!(t instanceof a))throw"Unknown dimensions of "+t;i=t.size}if(n)for(i=e.clone(i);i.length<3;)i.push(1);return i}},{key:"pad",value:function(t,e){function n(t){return Array.apply(null,new Array(t)).map(Number.prototype.valueOf,0)}for(var i=t.length+2*e,r=t.map(function(t){return[].concat(n(e),t,n(e))}),s=0;s<e;s++)r=[].concat([n(i)],r,[n(i)]);return r}},{key:"flatten2dArrayTo",value:function(t,e){for(var n=0,i=0;i<t.length;i++)e.set(t[i],n),n+=t[i].length}},{key:"flatten3dArrayTo",value:function(t,e){for(var n=0,i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)e.set(t[i][r],n),n+=t[i][r].length}},{key:"flattenTo",value:function(t,n){e.isArray(t[0])?e.isArray(t[0][0])?e.flatten3dArrayTo(t,n):e.flatten2dArrayTo(t,n):n.set(t)}},{key:"splitArray",value:function(t,e){for(var n=[],i=0;i<t.length;i+=e)n.push(Array.prototype.slice.call(t,i,i+e));return n}},{key:"getAstString",value:function(t,e){var n=Array.isArray(t)?t:t.split(/\r?\n/g),i=e.loc.start,r=e.loc.end,s=[];s.push(n[i.line-1].slice(i.column));for(var a=i.line;a<r.line-1;a++)s.push(n[a]);return s.push(n[r.line-1].slice(0,r.column)),s.join("\n")}},{key:"allPropertiesOf",value:function(t){var e=[];do{e.push.apply(e,Object.getOwnPropertyNames(t))}while(t=Object.getPrototypeOf(t));return e}}]),e}();Object.assign(f,s),t.exports=f},Y9HF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("LMZF"),r=function(){},s=n("911F"),a=n("pvRN"),o=n("Ioj9"),l=n("NmKZ"),u=n("0nO6"),h=n("kMVV"),c=n("Un6q"),p=n("l6RC"),d=n("V8+5"),f=n("8Xfy"),m=n("RyBE"),g=n("j5BN"),b=i._1({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-keyboard-focused .mat-slider-focus-ring,.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}"],data:{}});function y(t){return i._25(2,[i._21(402653184,1,{_sliderWrapper:0}),(t()(),i._3(1,0,[[1,0],["sliderWrapper",1]],null,16,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(t()(),i._3(2,0,null,null,4,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(t()(),i._3(3,0,null,null,1,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),i._2(4,278528,null,0,c.n,[i.r,i.k,i.B],{ngStyle:[0,"ngStyle"]},null),(t()(),i._3(5,0,null,null,1,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),i._2(6,278528,null,0,c.n,[i.r,i.k,i.B],{ngStyle:[0,"ngStyle"]},null),(t()(),i._3(7,0,null,null,3,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),i._2(8,278528,null,0,c.n,[i.r,i.k,i.B],{ngStyle:[0,"ngStyle"]},null),(t()(),i._3(9,0,null,null,1,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),i._2(10,278528,null,0,c.n,[i.r,i.k,i.B],{ngStyle:[0,"ngStyle"]},null),(t()(),i._3(11,0,null,null,6,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),i._2(12,278528,null,0,c.n,[i.r,i.k,i.B],{ngStyle:[0,"ngStyle"]},null),(t()(),i._3(13,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(t()(),i._3(14,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(t()(),i._3(15,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(t()(),i._3(16,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(t()(),i._23(17,null,["",""]))],function(t,e){var n=e.component;t(e,4,0,n._trackBackgroundStyles),t(e,6,0,n._trackFillStyles),t(e,8,0,n._ticksContainerStyles),t(e,10,0,n._ticksStyles),t(e,12,0,n._thumbContainerStyles)},function(t,e){t(e,17,0,e.component.displayValue)})}var v=n("ZYB1"),_=n("2/uh"),x=n("GROE"),k=n("1HA4"),S=n("6Xbx"),w=n("GTlS"),E=new function(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}(n("xIGM").a),T=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Object(S.b)(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=E.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(E.cancelAnimationFrame(n),e.scheduled=void 0)},e}(w.a),A=new(function(t){function e(){t.apply(this,arguments)}return Object(S.b)(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(n("wclm").a))(T),O=n("V+ke"),C=n("GZB0"),F=function(){function t(t){this.fb=t,this.gpu=new _,this.createGPUColorizer(),this.createForm(),this.calculationTime$=Object(O.a)(1e3).pipe(Object(x.f)(function(t){return Object(C.a)(performance.getEntriesByName("createCanvasWithGPU"))}),Object(x.e)(function(t){return 0===t.length?0:t.reduce(function(e,n){return e+n.duration/t.length},0)}))}return t.prototype.createForm=function(){this.additionForm=this.fb.group({r:[255,[u.q.required,u.q.min(0),u.q.max(255)]],g:[255,[u.q.required,u.q.min(0),u.q.max(255)]],b:[255,[u.q.required,u.q.min(0),u.q.max(255)]],sinDivider:[100,[u.q.required,u.q.min(1),u.q.max(200)]],speed:[20,[u.q.required,u.q.min(1),u.q.max(100)]]})},t.prototype.ngAfterViewInit=function(){var t=this;this.subscription=k.a.create(Math.floor(1e3/30),A).pipe(Object(x.o)(),Object(x.h)(function(t,e){return t+e.interval},0),Object(x.a)(this.additionForm.get("r").valueChanges.pipe(Object(x.j)(255)),this.additionForm.get("g").valueChanges.pipe(Object(x.j)(255)),this.additionForm.get("b").valueChanges.pipe(Object(x.j)(255)),this.additionForm.get("sinDivider").valueChanges.pipe(Object(x.j)(100)),this.additionForm.get("speed").valueChanges.pipe(Object(x.j)(20),Object(x.e)(function(t){return t/100})))).subscribe(function(e){return t.createCanvasWithGPU(e[0],e[1],e[2],e[3],e[4],e[5])})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.createGPUColorizer=function(){this.gpuColorizer=this.gpu.createKernel(function(t,e,n,i,r,s){var a=t*s,o=this.thread.x,l=this.thread.y,u=(a+l)/r,h=(a+l+o)/r;this.color(e*Math.sin((a+o+.5*l)/r),n*Math.cos(u),i*Math.tan(h),1)}).setGraphical(!0)},t.prototype.createCanvasWithGPU=function(t,e,n,i,r,s){performance.mark("createCanvasWithGPU-start");var a=this.gpuResult.nativeElement,o=a.getContext("2d");this.gpuColorizer.setOutput([a.clientWidth,a.clientHeight]),this.gpuColorizer(t,e/255,n/255,i/255,r,s);var l=this.gpuColorizer.getCanvas();o.drawImage(l,0,0),performance.mark("createCanvasWithGPU-end"),performance.measure("createCanvasWithGPU","createCanvasWithGPU-start","createCanvasWithGPU-end")},t}(),P=i._1({encapsulation:0,styles:[[".gpu-card[_ngcontent-%COMP%]   .gpu-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.gpu-card[_ngcontent-%COMP%]   .gpu-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.gpu-card[_ngcontent-%COMP%]   .full-height[_ngcontent-%COMP%]{min-height:100px;height:100%;max-height:500px}.gpu-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.gpu-card[_ngcontent-%COMP%]   .number-input-width[_ngcontent-%COMP%]{width:80px}  .red-color-slider .mat-slider-thumb,   .red-color-slider .mat-slider-thumb-label,   .red-color-slider .mat-slider-track-wrapper .mat-slider-track-fill{background-color:red}  .green-color-slider .mat-slider-thumb,   .green-color-slider .mat-slider-thumb-label,   .green-color-slider .mat-slider-track-wrapper .mat-slider-track-fill{background-color:#0f0}  .blue-color-slider .mat-slider-thumb,   .blue-color-slider .mat-slider-thumb-label,   .blue-color-slider .mat-slider-track-wrapper .mat-slider-track-fill{background-color:blue}"]],data:{}});function N(t){return i._25(0,[i._21(402653184,1,{gpuResult:0}),(t()(),i._3(1,0,null,null,125,"mat-card",[["appRaiseCard",""],["class","gpu-card mat-card"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==i._15(t,3).addRaisedClass()&&r),"mouseleave"===e&&(r=!1!==i._15(t,3).unraise()&&r),r},a.d,a.a)),i._2(2,49152,null,0,o.a,[],null,null),i._2(3,540672,null,0,l.a,[i.k],null,null),(t()(),i._23(-1,0,["\n  "])),(t()(),i._3(5,0,null,0,13,"mat-card-header",[["class","mat-card-header"]],null,null,null,a.c,a.b)),i._2(6,49152,null,0,o.e,[],null,null),(t()(),i._23(-1,2,["\n    "])),(t()(),i._3(8,0,null,0,1,"div",[["class","gpu-header-image mat-card-avatar"],["mat-card-avatar",""]],null,null,null,null,null)),i._2(9,16384,null,0,o.c,[],null,null),(t()(),i._23(-1,2,["\n    "])),(t()(),i._3(11,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),i._2(12,16384,null,0,o.i,[],null,null),(t()(),i._23(-1,null,["Some GPU Accelerated Calculations"])),(t()(),i._23(-1,2,["\n    "])),(t()(),i._3(15,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),i._2(16,16384,null,0,o.h,[],null,null),(t()(),i._23(-1,null,["using gpu.js"])),(t()(),i._23(-1,2,["\n  "])),(t()(),i._23(-1,0,["\n  "])),(t()(),i._3(20,0,[[1,0],["gpuResult",1]],0,0,"canvas",[["class","mat-card-image full-height"]],null,null,null,null,null)),(t()(),i._23(-1,0,["\n  "])),(t()(),i._3(22,0,null,0,103,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),i._2(23,16384,null,0,o.d,[],null,null),(t()(),i._23(-1,null,["\n    "])),(t()(),i._3(25,0,null,null,95,"form",[["class","gpu-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==i._15(t,27).onSubmit(n)&&r),"reset"===e&&(r=!1!==i._15(t,27).onReset()&&r),r},null,null)),i._2(26,16384,null,0,u.t,[],null,null),i._2(27,540672,null,0,u.g,[[8,null],[8,null]],{form:[0,"form"]},null),i._19(2048,null,u.c,null,[u.g]),i._2(29,16384,null,0,u.m,[u.c],null,null),(t()(),i._23(-1,null,["\n      "])),(t()(),i._3(31,0,null,null,16,"div",[["class","full-width"]],null,null,null,null,null)),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(33,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i._23(-1,null,["Red"])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(36,0,null,null,6,"mat-slider",[["class","red-color-slider mat-slider"],["color","warn"],["formControlName","r"],["max","255"],["min","0"],["role","slider"],["thumb-label","true"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==i._15(t,37)._onFocus()&&r),"blur"===e&&(r=!1!==i._15(t,37)._onBlur()&&r),"click"===e&&(r=!1!==i._15(t,37)._onClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,37)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==i._15(t,37)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==i._15(t,37)._onMouseenter()&&r),"slide"===e&&(r=!1!==i._15(t,37)._onSlide(n)&&r),"slideend"===e&&(r=!1!==i._15(t,37)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==i._15(t,37)._onSlideStart(n)&&r),r},y,b)),i._2(37,245760,null,0,h.a,[i.k,f.g,i.h,[2,p.c],[8,null]],{color:[0,"color"],max:[1,"max"],min:[2,"min"],_thumbLabelDeprecated:[3,"_thumbLabelDeprecated"]},null),i._19(1024,null,u.j,function(t){return[t]},[h.a]),i._2(39,671744,null,0,u.f,[[3,u.c],[8,null],[8,null],[2,u.j]],{name:[0,"name"]},null),i._19(2048,null,u.k,null,[u.f]),i._2(41,16384,null,0,u.l,[u.k],null,null),(t()(),i._23(-1,null,["\n        "])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(44,0,null,null,2,"mat-chip",[["class","mat-chip"],["color","warn"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._15(t,45)._handleClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,45)._handleKeydown(n)&&r),"focus"===e&&(r=0!=(i._15(t,45)._hasFocus=!0)&&r),"blur"===e&&(r=!1!==i._15(t,45)._blur()&&r),r},null,null)),i._2(45,147456,null,0,v.a,[i.k],{color:[0,"color"]},null),(t()(),i._23(46,null,["",""])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._3(49,0,null,null,16,"div",[["class","full-width"]],null,null,null,null,null)),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(51,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i._23(-1,null,["Green"])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(54,0,null,null,6,"mat-slider",[["class","green-color-slider mat-slider"],["color","accent"],["formControlName","g"],["max","255"],["min","0"],["role","slider"],["thumb-label","true"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==i._15(t,55)._onFocus()&&r),"blur"===e&&(r=!1!==i._15(t,55)._onBlur()&&r),"click"===e&&(r=!1!==i._15(t,55)._onClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,55)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==i._15(t,55)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==i._15(t,55)._onMouseenter()&&r),"slide"===e&&(r=!1!==i._15(t,55)._onSlide(n)&&r),"slideend"===e&&(r=!1!==i._15(t,55)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==i._15(t,55)._onSlideStart(n)&&r),r},y,b)),i._2(55,245760,null,0,h.a,[i.k,f.g,i.h,[2,p.c],[8,null]],{color:[0,"color"],max:[1,"max"],min:[2,"min"],_thumbLabelDeprecated:[3,"_thumbLabelDeprecated"]},null),i._19(1024,null,u.j,function(t){return[t]},[h.a]),i._2(57,671744,null,0,u.f,[[3,u.c],[8,null],[8,null],[2,u.j]],{name:[0,"name"]},null),i._19(2048,null,u.k,null,[u.f]),i._2(59,16384,null,0,u.l,[u.k],null,null),(t()(),i._23(-1,null,["\n        "])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(62,0,null,null,2,"mat-chip",[["class","mat-chip"],["color","warn"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._15(t,63)._handleClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,63)._handleKeydown(n)&&r),"focus"===e&&(r=0!=(i._15(t,63)._hasFocus=!0)&&r),"blur"===e&&(r=!1!==i._15(t,63)._blur()&&r),r},null,null)),i._2(63,147456,null,0,v.a,[i.k],{color:[0,"color"]},null),(t()(),i._23(64,null,["",""])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._3(67,0,null,null,16,"div",[["class","full-width"]],null,null,null,null,null)),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(69,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i._23(-1,null,["Blue"])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(72,0,null,null,6,"mat-slider",[["class","blue-color-slider mat-slider"],["formControlName","b"],["max","255"],["min","0"],["role","slider"],["thumb-label","true"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==i._15(t,73)._onFocus()&&r),"blur"===e&&(r=!1!==i._15(t,73)._onBlur()&&r),"click"===e&&(r=!1!==i._15(t,73)._onClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,73)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==i._15(t,73)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==i._15(t,73)._onMouseenter()&&r),"slide"===e&&(r=!1!==i._15(t,73)._onSlide(n)&&r),"slideend"===e&&(r=!1!==i._15(t,73)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==i._15(t,73)._onSlideStart(n)&&r),r},y,b)),i._2(73,245760,null,0,h.a,[i.k,f.g,i.h,[2,p.c],[8,null]],{max:[0,"max"],min:[1,"min"],_thumbLabelDeprecated:[2,"_thumbLabelDeprecated"]},null),i._19(1024,null,u.j,function(t){return[t]},[h.a]),i._2(75,671744,null,0,u.f,[[3,u.c],[8,null],[8,null],[2,u.j]],{name:[0,"name"]},null),i._19(2048,null,u.k,null,[u.f]),i._2(77,16384,null,0,u.l,[u.k],null,null),(t()(),i._23(-1,null,["\n        "])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(80,0,null,null,2,"mat-chip",[["class","mat-chip"],["color","warn"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._15(t,81)._handleClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,81)._handleKeydown(n)&&r),"focus"===e&&(r=0!=(i._15(t,81)._hasFocus=!0)&&r),"blur"===e&&(r=!1!==i._15(t,81)._blur()&&r),r},null,null)),i._2(81,147456,null,0,v.a,[i.k],{color:[0,"color"]},null),(t()(),i._23(82,null,["",""])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._3(85,0,null,null,16,"div",[["class","full-width"]],null,null,null,null,null)),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(87,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i._23(-1,null,["Repeativness"])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(90,0,null,null,6,"mat-slider",[["class","blue-color-slider mat-slider"],["formControlName","sinDivider"],["invert","true"],["max","200"],["min","1"],["role","slider"],["thumb-label","true"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==i._15(t,91)._onFocus()&&r),"blur"===e&&(r=!1!==i._15(t,91)._onBlur()&&r),"click"===e&&(r=!1!==i._15(t,91)._onClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,91)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==i._15(t,91)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==i._15(t,91)._onMouseenter()&&r),"slide"===e&&(r=!1!==i._15(t,91)._onSlide(n)&&r),"slideend"===e&&(r=!1!==i._15(t,91)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==i._15(t,91)._onSlideStart(n)&&r),r},y,b)),i._2(91,245760,null,0,h.a,[i.k,f.g,i.h,[2,p.c],[8,null]],{invert:[0,"invert"],max:[1,"max"],min:[2,"min"],_thumbLabelDeprecated:[3,"_thumbLabelDeprecated"]},null),i._19(1024,null,u.j,function(t){return[t]},[h.a]),i._2(93,671744,null,0,u.f,[[3,u.c],[8,null],[8,null],[2,u.j]],{name:[0,"name"]},null),i._19(2048,null,u.k,null,[u.f]),i._2(95,16384,null,0,u.l,[u.k],null,null),(t()(),i._23(-1,null,["\n        "])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(98,0,null,null,2,"mat-chip",[["class","mat-chip"],["color","accent"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._15(t,99)._handleClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,99)._handleKeydown(n)&&r),"focus"===e&&(r=0!=(i._15(t,99)._hasFocus=!0)&&r),"blur"===e&&(r=!1!==i._15(t,99)._blur()&&r),r},null,null)),i._2(99,147456,null,0,v.a,[i.k],{color:[0,"color"]},null),(t()(),i._23(100,null,["",""])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._3(103,0,null,null,16,"div",[["class","full-width"]],null,null,null,null,null)),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(105,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i._23(-1,null,["Speed"])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(108,0,null,null,6,"mat-slider",[["class","blue-color-slider mat-slider"],["formControlName","speed"],["max","100"],["min","1"],["role","slider"],["thumb-label","true"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==i._15(t,109)._onFocus()&&r),"blur"===e&&(r=!1!==i._15(t,109)._onBlur()&&r),"click"===e&&(r=!1!==i._15(t,109)._onClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,109)._onKeydown(n)&&r),"keyup"===e&&(r=!1!==i._15(t,109)._onKeyup()&&r),"mouseenter"===e&&(r=!1!==i._15(t,109)._onMouseenter()&&r),"slide"===e&&(r=!1!==i._15(t,109)._onSlide(n)&&r),"slideend"===e&&(r=!1!==i._15(t,109)._onSlideEnd()&&r),"slidestart"===e&&(r=!1!==i._15(t,109)._onSlideStart(n)&&r),r},y,b)),i._2(109,245760,null,0,h.a,[i.k,f.g,i.h,[2,p.c],[8,null]],{max:[0,"max"],min:[1,"min"],_thumbLabelDeprecated:[2,"_thumbLabelDeprecated"]},null),i._19(1024,null,u.j,function(t){return[t]},[h.a]),i._2(111,671744,null,0,u.f,[[3,u.c],[8,null],[8,null],[2,u.j]],{name:[0,"name"]},null),i._19(2048,null,u.k,null,[u.f]),i._2(113,16384,null,0,u.l,[u.k],null,null),(t()(),i._23(-1,null,["\n        "])),(t()(),i._23(-1,null,["\n        "])),(t()(),i._3(116,0,null,null,2,"mat-chip",[["class","mat-chip"],["color","accent"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==i._15(t,117)._handleClick(n)&&r),"keydown"===e&&(r=!1!==i._15(t,117)._handleKeydown(n)&&r),"focus"===e&&(r=0!=(i._15(t,117)._hasFocus=!0)&&r),"blur"===e&&(r=!1!==i._15(t,117)._blur()&&r),r},null,null)),i._2(117,147456,null,0,v.a,[i.k],{color:[0,"color"]},null),(t()(),i._23(118,null,["","%"])),(t()(),i._23(-1,null,["\n      "])),(t()(),i._23(-1,null,["\n    "])),(t()(),i._23(-1,null,["\n    "])),(t()(),i._3(122,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i._23(123,null,["Calculation time with GPU: ","ms"])),i._17(131072,c.b,[i.h]),(t()(),i._23(-1,null,["\n  "])),(t()(),i._23(-1,0,["\n"])),(t()(),i._23(-1,null,["\n\n"]))],function(t,e){t(e,27,0,e.component.additionForm),t(e,37,0,"warn","255","0","true"),t(e,39,0,"r"),t(e,45,0,"warn"),t(e,55,0,"accent","255","0","true"),t(e,57,0,"g"),t(e,63,0,"warn"),t(e,73,0,"255","0","true"),t(e,75,0,"b"),t(e,81,0,"warn"),t(e,91,0,"true","200","1","true"),t(e,93,0,"sinDivider"),t(e,99,0,"accent"),t(e,109,0,"100","1","true"),t(e,111,0,"speed"),t(e,117,0,"accent")},function(t,e){var n=e.component;t(e,25,0,i._15(e,29).ngClassUntouched,i._15(e,29).ngClassTouched,i._15(e,29).ngClassPristine,i._15(e,29).ngClassDirty,i._15(e,29).ngClassValid,i._15(e,29).ngClassInvalid,i._15(e,29).ngClassPending),t(e,36,1,[i._15(e,37).tabIndex,i._15(e,37).disabled,i._15(e,37).max,i._15(e,37).min,i._15(e,37).value,i._15(e,37).vertical?"vertical":"horizontal",i._15(e,37).disabled,i._15(e,37).tickInterval,!i._15(e,37).vertical,i._15(e,37)._invertAxis,i._15(e,37)._isSliding,i._15(e,37).thumbLabel,i._15(e,37).vertical,i._15(e,37)._isMinValue,i._15(e,37).disabled||i._15(e,37)._isMinValue&&i._15(e,37)._thumbGap&&i._15(e,37)._invertAxis,i._15(e,41).ngClassUntouched,i._15(e,41).ngClassTouched,i._15(e,41).ngClassPristine,i._15(e,41).ngClassDirty,i._15(e,41).ngClassValid,i._15(e,41).ngClassInvalid,i._15(e,41).ngClassPending]),t(e,44,0,i._15(e,45).disabled?null:-1,i._15(e,45).selected,i._15(e,45).disabled||null,i._15(e,45).disabled.toString(),i._15(e,45).ariaSelected),t(e,46,0,n.additionForm.get("r").value),t(e,54,1,[i._15(e,55).tabIndex,i._15(e,55).disabled,i._15(e,55).max,i._15(e,55).min,i._15(e,55).value,i._15(e,55).vertical?"vertical":"horizontal",i._15(e,55).disabled,i._15(e,55).tickInterval,!i._15(e,55).vertical,i._15(e,55)._invertAxis,i._15(e,55)._isSliding,i._15(e,55).thumbLabel,i._15(e,55).vertical,i._15(e,55)._isMinValue,i._15(e,55).disabled||i._15(e,55)._isMinValue&&i._15(e,55)._thumbGap&&i._15(e,55)._invertAxis,i._15(e,59).ngClassUntouched,i._15(e,59).ngClassTouched,i._15(e,59).ngClassPristine,i._15(e,59).ngClassDirty,i._15(e,59).ngClassValid,i._15(e,59).ngClassInvalid,i._15(e,59).ngClassPending]),t(e,62,0,i._15(e,63).disabled?null:-1,i._15(e,63).selected,i._15(e,63).disabled||null,i._15(e,63).disabled.toString(),i._15(e,63).ariaSelected),t(e,64,0,n.additionForm.get("g").value),t(e,72,1,[i._15(e,73).tabIndex,i._15(e,73).disabled,i._15(e,73).max,i._15(e,73).min,i._15(e,73).value,i._15(e,73).vertical?"vertical":"horizontal",i._15(e,73).disabled,i._15(e,73).tickInterval,!i._15(e,73).vertical,i._15(e,73)._invertAxis,i._15(e,73)._isSliding,i._15(e,73).thumbLabel,i._15(e,73).vertical,i._15(e,73)._isMinValue,i._15(e,73).disabled||i._15(e,73)._isMinValue&&i._15(e,73)._thumbGap&&i._15(e,73)._invertAxis,i._15(e,77).ngClassUntouched,i._15(e,77).ngClassTouched,i._15(e,77).ngClassPristine,i._15(e,77).ngClassDirty,i._15(e,77).ngClassValid,i._15(e,77).ngClassInvalid,i._15(e,77).ngClassPending]),t(e,80,0,i._15(e,81).disabled?null:-1,i._15(e,81).selected,i._15(e,81).disabled||null,i._15(e,81).disabled.toString(),i._15(e,81).ariaSelected),t(e,82,0,n.additionForm.get("b").value),t(e,90,1,[i._15(e,91).tabIndex,i._15(e,91).disabled,i._15(e,91).max,i._15(e,91).min,i._15(e,91).value,i._15(e,91).vertical?"vertical":"horizontal",i._15(e,91).disabled,i._15(e,91).tickInterval,!i._15(e,91).vertical,i._15(e,91)._invertAxis,i._15(e,91)._isSliding,i._15(e,91).thumbLabel,i._15(e,91).vertical,i._15(e,91)._isMinValue,i._15(e,91).disabled||i._15(e,91)._isMinValue&&i._15(e,91)._thumbGap&&i._15(e,91)._invertAxis,i._15(e,95).ngClassUntouched,i._15(e,95).ngClassTouched,i._15(e,95).ngClassPristine,i._15(e,95).ngClassDirty,i._15(e,95).ngClassValid,i._15(e,95).ngClassInvalid,i._15(e,95).ngClassPending]),t(e,98,0,i._15(e,99).disabled?null:-1,i._15(e,99).selected,i._15(e,99).disabled||null,i._15(e,99).disabled.toString(),i._15(e,99).ariaSelected),t(e,100,0,n.additionForm.get("sinDivider").value),t(e,108,1,[i._15(e,109).tabIndex,i._15(e,109).disabled,i._15(e,109).max,i._15(e,109).min,i._15(e,109).value,i._15(e,109).vertical?"vertical":"horizontal",i._15(e,109).disabled,i._15(e,109).tickInterval,!i._15(e,109).vertical,i._15(e,109)._invertAxis,i._15(e,109)._isSliding,i._15(e,109).thumbLabel,i._15(e,109).vertical,i._15(e,109)._isMinValue,i._15(e,109).disabled||i._15(e,109)._isMinValue&&i._15(e,109)._thumbGap&&i._15(e,109)._invertAxis,i._15(e,113).ngClassUntouched,i._15(e,113).ngClassTouched,i._15(e,113).ngClassPristine,i._15(e,113).ngClassDirty,i._15(e,113).ngClassValid,i._15(e,113).ngClassInvalid,i._15(e,113).ngClassPending]),t(e,116,0,i._15(e,117).disabled?null:-1,i._15(e,117).selected,i._15(e,117).disabled||null,i._15(e,117).disabled.toString(),i._15(e,117).ariaSelected),t(e,118,0,n.additionForm.get("speed").value),t(e,123,0,i._24(e,123,0,i._15(e,124).transform(n.calculationTime$)))})}var L=i.Z("app-some-gpu-calculation",F,function(t){return i._25(0,[(t()(),i._3(0,0,null,null,1,"app-some-gpu-calculation",[],null,null,null,N,P)),i._2(1,4374528,null,0,F,[u.e],null,null)],null,null)},{},{},[]),R=n("ppgG"),I=n("4jwp"),G=n("OFGE"),D=n("3Czw"),M=n("jk5D"),j=n("vgc3"),V=n("9iV4"),U=n("gOiy"),z=n("UHIZ"),B=n("ghl+"),K=n("0cZJ"),W=n("Lpd/"),q=n("SlD5"),X=n("YXpL"),Y=n("CZgk"),J=n("ki1d"),H=n("dYU3"),Z=n("e0rv"),Q=n("4+t2"),$=n("3uJi"),tt=n("ZFRd"),et=n("T2Au");n.d(e,"SomeGpuCalculationModuleNgFactory",function(){return nt});var nt=i._0(r,[],function(t){return i._11([i._12(512,i.j,i.W,[[8,[s.a,L]],[3,i.j],i.v]),i._12(4608,c.m,c.l,[i.s,[2,c.u]]),i._12(4608,u.u,u.u,[]),i._12(6144,p.b,null,[c.d]),i._12(4608,p.c,p.c,[[2,p.b]]),i._12(4608,d.a,d.a,[]),i._12(4608,f.i,f.i,[d.a]),i._12(4608,f.h,f.h,[f.i,i.x,c.d]),i._12(136192,f.d,f.b,[[3,f.d],c.d]),i._12(5120,f.l,f.k,[[3,f.l],[2,f.j],c.d]),i._12(5120,f.g,f.e,[[3,f.g],i.x,d.a]),i._12(4608,R.b,R.b,[]),i._12(4608,g.b,g.b,[]),i._12(5120,I.d,I.b,[[3,I.d],i.x,d.a]),i._12(5120,I.g,I.f,[[3,I.g],d.a,i.x]),i._12(4608,G.i,G.i,[I.d,I.g,i.x,c.d]),i._12(5120,G.e,G.j,[[3,G.e],c.d]),i._12(4608,G.h,G.h,[I.g,c.d]),i._12(5120,G.f,G.m,[[3,G.f],c.d]),i._12(4608,G.c,G.c,[G.i,G.e,i.j,G.h,G.f,i.g,i.p,i.x,c.d]),i._12(5120,G.k,G.l,[G.c]),i._12(4608,D.d,D.d,[d.a]),i._12(135680,D.a,D.a,[D.d,i.x]),i._12(5120,M.b,M.c,[G.c]),i._12(5120,j.d,j.a,[[3,j.d],[2,V.a],m.c,[2,c.d]]),i._12(5120,U.a,U.b,[G.c]),i._12(4608,m.f,g.c,[[2,g.g],[2,g.l]]),i._12(4608,u.e,u.e,[]),i._12(512,z.o,z.o,[[2,z.t],[2,z.l]]),i._12(512,c.c,c.c,[]),i._12(512,u.r,u.r,[]),i._12(512,u.h,u.h,[]),i._12(512,p.a,p.a,[]),i._12(256,g.d,!0,[]),i._12(512,g.l,g.l,[[2,g.d]]),i._12(512,d.b,d.b,[]),i._12(512,g.v,g.v,[]),i._12(512,f.a,f.a,[]),i._12(512,B.c,B.c,[]),i._12(512,R.c,R.c,[]),i._12(512,K.c,K.c,[]),i._12(512,W.c,W.c,[]),i._12(512,q.b,q.b,[]),i._12(512,X.b,X.b,[]),i._12(512,Y.e,Y.e,[]),i._12(512,I.c,I.c,[]),i._12(512,G.g,G.g,[]),i._12(512,D.c,D.c,[]),i._12(512,M.e,M.e,[]),i._12(512,j.c,j.c,[]),i._12(512,o.g,o.g,[]),i._12(512,g.m,g.m,[]),i._12(512,g.t,g.t,[]),i._12(512,J.a,J.a,[]),i._12(512,H.c,H.c,[]),i._12(512,g.r,g.r,[]),i._12(512,U.d,U.d,[]),i._12(512,Z.h,Z.h,[]),i._12(512,Q.a,Q.a,[]),i._12(512,$.b,$.b,[]),i._12(512,tt.j,tt.j,[]),i._12(512,h.b,h.b,[]),i._12(512,v.b,v.b,[]),i._12(512,et.a,et.a,[]),i._12(512,u.p,u.p,[]),i._12(512,r,r,[]),i._12(256,M.a,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[]),i._12(256,Z.a,!1,[]),i._12(1024,z.j,function(){return[[{path:"",component:F}]]},[])])})},YBLF:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("IoVc"),s=n("cUbN"),a=(n("SYVJ"),n("kEol"));t.exports=function(t){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new a,t));return n.Kernel=s,n.kernel=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"getMode",value:function(){return"gpu"}}]),e}()},Yt3q:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.exports=function(){function t(e,n,i,r){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.texture=e,this.size=n,this.output=i,this.webGl=r,this.kernel=null}return i(t,[{key:"toArray",value:function(t){if(!t)throw new Error("You need to pass the GPU object for toArray to work.");return this.kernel?this.kernel(this):(this.kernel=t.createKernel(function(t){return t[this.thread.z][this.thread.y][this.thread.x]}).setOutput(this.output),this.kernel(this))}},{key:"delete",value:function(){return this.webGl.deleteTexture(this.texture)}}]),t}()},cUbN:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("lvn5"),s=n("SYVJ"),a=n("Yt3q"),o=n("dd6g"),l=n("3XFn"),u=n("KVNd"),h=[],c={};t.exports=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textureCache={},i.threadDim={},i.programUniformLocationCache={},i.framebuffer=null,i.buffer=null,i.program=null,i.outputToTexture=n.outputToTexture,i.endianness=s.systemEndianness(),i.subKernelOutputTextures=null,i.subKernelOutputVariableNames=null,i.argumentsLength=0,i.ext=null,i.compiledFragShaderString=null,i.compiledVertShaderString=null,i.extDrawBuffersMap=null,i.outputTexture=null,i.maxTexSize=null,i._webGl||(i._webGl=s.initWebGl(i.getCanvas())),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"validateOptions",value:function(){var t=s.isFloatReadPixelsSupported();if(!0===this.floatTextures&&!s.OES_texture_float)throw new Error("Float textures are not supported on this browser");if(!0===this.floatOutput&&!0!==this.floatOutputForce&&!t)throw new Error("Float texture outputs are not supported on this browser");if(void 0===this.floatTextures&&s.OES_texture_float&&(this.floatTextures=!0,this.floatOutput=t),!this.output||0===this.output.length){if(1!==arguments.length)throw new Error("Auto output only supported for kernels with only one input");var e=s.getArgumentType(arguments[0]);if("Array"===e)this.output=s.getDimensions(e);else{if("Texture"!==e)throw new Error("Auto output not supported for input type: "+e);this.output=arguments[0].output}}if(this.texSize=s.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0),this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");this.floatOutput&&(this.floatOutput=!1,console.warn("Cannot use graphical mode and float output at the same time")),this.texSize=s.clone(this.output)}else void 0===this.floatOutput&&s.OES_texture_float&&(this.floatOutput=!0)}},{key:"updateMaxTexSize",value:function(){var t=this.texSize,e=this._canvas;if(null===this.maxTexSize){var n=h.indexOf(e);-1===n&&(n=h.length,h.push(e),c[n]=[t[0],t[1]]),this.maxTexSize=c[n]}this.maxTexSize[0]<t[0]&&(this.maxTexSize[0]=t[0]),this.maxTexSize[1]<t[1]&&(this.maxTexSize[1]=t[1])}},{key:"build",value:function(){this.validateOptions(),this.setupParams(arguments),this.updateMaxTexSize();var t=this.texSize,e=this._webGl,n=this._canvas;e.enable(e.SCISSOR_TEST),e.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),n.width=this.maxTexSize[0],n.height=this.maxTexSize[1];for(var i=this.threadDim=s.clone(this.output);i.length<3;)i.push(1);this.functionBuilder&&this._addKernels();var r=this._getVertShaderString(arguments),a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,r),e.compileShader(a);var o=this._getFragShaderString(arguments),l=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(l,o),e.compileShader(l),!e.getShaderParameter(a,e.COMPILE_STATUS))throw console.log(r),console.error("An error occurred compiling the shaders: "+e.getShaderInfoLog(a)),new Error("Error compiling vertex shader");if(!e.getShaderParameter(l,e.COMPILE_STATUS))throw console.log(o),console.error("An error occurred compiling the shaders: "+e.getShaderInfoLog(l)),new Error("Error compiling fragment shader");this.debug&&(console.log("Options:"),console.dir(this),console.log("GLSL Shader Output:"),console.log(o));var u=this.program=e.createProgram();e.attachShader(u,a),e.attachShader(u,l),e.linkProgram(u),this.framebuffer=e.createFramebuffer(),this.framebuffer.width=t[0],this.framebuffer.height=t[1];var h=new Float32Array([-1,-1,1,-1,-1,1,1,1]),c=new Float32Array([0,0,1,0,0,1,1,1]),p=h.byteLength,d=this.buffer;d?e.bindBuffer(e.ARRAY_BUFFER,d):(d=this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,h.byteLength+c.byteLength,e.STATIC_DRAW)),e.bufferSubData(e.ARRAY_BUFFER,0,h),e.bufferSubData(e.ARRAY_BUFFER,p,c);var f=e.getAttribLocation(this.program,"aPos");e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,e.FALSE,0,0);var m=e.getAttribLocation(this.program,"aTexCoord");if(e.enableVertexAttribArray(m),e.vertexAttribPointer(m,2,e.FLOAT,e.FALSE,0,p),this.setupOutputTexture(),null!==this.subKernelOutputTextures)for(var g=this.extDrawBuffersMap=[e.COLOR_ATTACHMENT0],b=0;b<this.subKernelOutputTextures.length;b++){var y=this.subKernelOutputTextures[b];g.push(e.COLOR_ATTACHMENT0+b+1),e.activeTexture(e.TEXTURE0+arguments.length+b),e.bindTexture(e.TEXTURE_2D,y),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,this.floatOutput?e.FLOAT:e.UNSIGNED_BYTE,null)}}},{key:"run",value:function(){null===this.program&&this.build.apply(this,arguments);var t=this.paramNames,e=this.paramTypes,n=this.texSize,i=this._webGl;if(i.useProgram(this.program),i.scissor(0,0,n[0],n[1]),!this.hardcodeConstants){var r=this.getUniformLocation("uOutputDim");i.uniform3fv(r,this.threadDim);var s=this.getUniformLocation("uTexSize");i.uniform2fv(s,n)}var o=this.getUniformLocation("ratio");i.uniform2f(o,n[0]/this.maxTexSize[0],n[1]/this.maxTexSize[1]),this.argumentsLength=0;for(var l=0;l<t.length;l++)this._addArgument(arguments[l],e[l],t[l]);if(this.graphical)return i.bindRenderbuffer(i.RENDERBUFFER,null),i.bindFramebuffer(i.FRAMEBUFFER,null),void i.drawArrays(i.TRIANGLE_STRIP,0,4);i.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer);var u=this.outputTexture;if(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u,0),null!==this.subKernelOutputTextures){for(var h=0;h<this.subKernelOutputTextures.length;h++)i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+h+1,i.TEXTURE_2D,this.subKernelOutputTextures[h],0);this.ext.drawBuffersWEBGL(this.extDrawBuffersMap)}if(i.drawArrays(i.TRIANGLE_STRIP,0,4),null!==this.subKernelOutputTextures){if(null!==this.subKernels){var c=[];c.result=this.renderOutput(u);for(var p=0;p<this.subKernels.length;p++)c.push(new a(this.subKernelOutputTextures[p],n,this.output,this._webGl));return c}if(null!==this.subKernelProperties){var d={result:this.renderOutput(u)},f=0;for(var m in this.subKernelProperties)this.subKernelProperties.hasOwnProperty(m)&&(d[m]=new a(this.subKernelOutputTextures[f],n,this.output,this._webGl),f++);return d}}return this.renderOutput(u)}},{key:"renderOutput",value:function(t){var e=this.texSize,n=this._webGl,i=this.threadDim,r=this.output;if(this.outputToTexture)return new a(t,e,r,this._webGl);var o=void 0;if(this.floatOutput)o=new Float32Array(e[0]*e[1]*4),n.readPixels(0,0,e[0],e[1],n.RGBA,n.FLOAT,o);else{var l=new Uint8Array(e[0]*e[1]*4);n.readPixels(0,0,e[0],e[1],n.RGBA,n.UNSIGNED_BYTE,l),o=new Float32Array(l.buffer)}return o=o.subarray(0,i[0]*i[1]*i[2]),1===r.length?o:2===r.length?s.splitArray(o,r[0]):3===r.length?s.splitArray(o,r[0]*r[1]).map(function(t){return s.splitArray(t,r[0])}):void 0}},{key:"getOutputTexture",value:function(){return this.getTextureCache("OUTPUT")}},{key:"detachOutputTexture",value:function(){this.detachTextureCache("OUTPUT")}},{key:"setupOutputTexture",value:function(){var t=this._webGl,e=this.texSize;this.detachOutputTexture(),this.outputTexture=this.getOutputTexture(),t.activeTexture(t.TEXTURE0+this.paramNames.length),t.bindTexture(t.TEXTURE_2D,this.outputTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e[0],e[1],0,t.RGBA,this.floatOutput?t.FLOAT:t.UNSIGNED_BYTE,null)}},{key:"getArgumentTexture",value:function(t){return this.getTextureCache("ARGUMENT_"+t)}},{key:"getSubKernelTexture",value:function(t){return this.getTextureCache("SUB_KERNEL_"+t)}},{key:"getTextureCache",value:function(t){return this.outputToTexture?this._webGl.createTexture():this.textureCache.hasOwnProperty(t)?this.textureCache[t]:this.textureCache[t]=this._webGl.createTexture()}},{key:"detachTextureCache",value:function(t){delete this.textureCache[t]}},{key:"getUniformLocation",value:function(t){var e=this.programUniformLocationCache[t];return e||(e=this._webGl.getUniformLocation(this.program,t),this.programUniformLocationCache[t]=e),e}},{key:"_getFragShaderArtifactMap",value:function(t){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),GET_WRAPAROUND:this._getGetWraparoundString(),GET_TEXTURE_CHANNEL:this._getGetTextureChannelString(),GET_TEXTURE_INDEX:this._getGetTextureIndexString(),GET_RESULT:this._getGetResultString(),MAIN_PARAMS:this._getMainParamsString(t),MAIN_CONSTANTS:this._getMainConstantsString(),KERNEL:this._getKernelString(),MAIN_RESULT:this._getMainResultString()}}},{key:"_addArgument",value:function(t,e,n){var i=this._webGl,r=this.getArgumentTexture(n);switch(t instanceof a&&(e="Texture"),e){case"Array":var o=s.getDimensions(t,!0),l=s.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},o);i.activeTexture(i.TEXTURE0+this.argumentsLength),i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);var u=l[0]*l[1];this.floatTextures&&(u*=4);var h=new Float32Array(u);s.flattenTo(t,h);var c=void 0;this.floatTextures?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,l[0],l[1],0,i.RGBA,i.FLOAT,h):(c=new Uint8Array(h.buffer),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,l[0],l[1],0,i.RGBA,i.UNSIGNED_BYTE,c));var p=this.getUniformLocation("user_"+n),d=this.getUniformLocation("user_"+n+"Size"),f=this.getUniformLocation("user_"+n+"Dim");this.hardcodeConstants||(i.uniform3fv(f,o),i.uniform2fv(d,l)),i.uniform1i(p,this.argumentsLength);break;case"Number":var m=this.getUniformLocation("user_"+n);i.uniform1f(m,t);break;case"Input":var g=t,b=g.size,y=s.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},b);i.activeTexture(i.TEXTURE0+this.argumentsLength),i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);var v=y[0]*y[1],_=void 0;if(this.floatTextures?(_=new Float32Array(v*=4)).set(g.value):_=g.value,this.floatTextures)i.texImage2D(i.TEXTURE_2D,0,i.RGBA,y[0],y[1],0,i.RGBA,i.FLOAT,_);else{var x=new Uint8Array(_.buffer);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,y[0],y[1],0,i.RGBA,i.UNSIGNED_BYTE,x)}var k=this.getUniformLocation("user_"+n),S=this.getUniformLocation("user_"+n+"Size"),w=this.getUniformLocation("user_"+n+"Dim");this.hardcodeConstants||(i.uniform3fv(w,b),i.uniform2fv(S,y)),i.uniform1i(k,this.argumentsLength);break;case"Texture":var E=t,T=s.getDimensions(E,!0),A=E.size;E.texture===this.outputTexture&&this.setupOutputTexture(),i.activeTexture(i.TEXTURE0+this.argumentsLength),i.bindTexture(i.TEXTURE_2D,E.texture);var O=this.getUniformLocation("user_"+n),C=this.getUniformLocation("user_"+n+"Size"),F=this.getUniformLocation("user_"+n+"Dim");i.uniform3fv(F,T),i.uniform2fv(C,A),i.uniform1i(O,this.argumentsLength);break;default:throw new Error("Input type not supported (WebGL): "+t)}this.argumentsLength++}},{key:"_getHeaderString",value:function(){return null!==this.subKernels||null!==this.subKernelProperties?"#extension GL_EXT_draw_buffers : require\n":""}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" "+parseInt(this.loopMaxIterations)+".0;\n":" 1000.0;\n"}},{key:"_getConstantsString",value:function(){var t=[],e=this.threadDim,n=this.texSize;return this.hardcodeConstants?t.push("highp vec3 uOutputDim = vec3("+e[0]+","+e[1]+", "+e[2]+")","highp vec2 uTexSize = vec2("+n[0]+", "+n[1]+")"):t.push("uniform highp vec3 uOutputDim","uniform highp vec2 uTexSize"),this._linesToString(t)}},{key:"_getTextureCoordinate",value:function(){var t=this.subKernelOutputVariableNames;return null===t||t.length<1?"varying highp vec2 vTexCoord;\n":"out highp vec2 vTexCoord;\n"}},{key:"_getDecode32EndiannessString",value:function(){return"LE"===this.endianness?"":"  rgba.rgba = rgba.abgr;\n"}},{key:"_getEncode32EndiannessString",value:function(){return"LE"===this.endianness?"":"  rgba.rgba = rgba.abgr;\n"}},{key:"_getGetWraparoundString",value:function(){return this.wraparound?"  xyz = mod(xyz, texDim);\n":""}},{key:"_getGetTextureChannelString",value:function(){return this.floatTextures?this._linesToString(["  int channel = int(integerMod(index, 4.0))","  index = float(int(index) / 4)"]):""}},{key:"_getGetTextureIndexString",value:function(){return this.floatTextures?"  index = float(int(index)/4);\n":""}},{key:"_getGetResultString",value:function(){return this.floatTextures?this._linesToString(["  if (channel == 0) return texel.r","  if (channel == 1) return texel.g","  if (channel == 2) return texel.b","  if (channel == 3) return texel.a"]):"  return decode32(texel);\n"}},{key:"_getMainParamsString",value:function(t){for(var e=[],n=this.paramTypes,i=this.paramNames,r=0;r<i.length;r++){var a=t[r],o=i[r],l=n[r];if(this.hardcodeConstants)if("Array"===l||"Texture"===l){var u=s.getDimensions(a,!0),h=s.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},u);e.push("uniform highp sampler2D user_"+o,"highp vec2 user_"+o+"Size = vec2("+h[0]+".0, "+h[1]+".0)","highp vec3 user_"+o+"Dim = vec3("+u[0]+".0, "+u[1]+".0, "+u[2]+".0)")}else"Number"===l&&Number.isInteger(a)?e.push("highp float user_"+o+" = "+a+".0"):"Number"===l&&e.push("highp float user_"+o+" = "+a);else"Array"===l||"Texture"===l||"Input"===l?e.push("uniform highp sampler2D user_"+o,"uniform highp vec2 user_"+o+"Size","uniform highp vec3 user_"+o+"Dim"):"Number"===l&&e.push("uniform highp float user_"+o)}return this._linesToString(e)}},{key:"_getMainConstantsString",value:function(){var t=[];if(this.constants)for(var e in this.constants)if(this.constants.hasOwnProperty(e)){var n=parseFloat(this.constants[e]);Number.isInteger(n)?t.push("const float constants_"+e+" = "+parseInt(n)+".0"):t.push("const float constants_"+e+" = "+parseFloat(n))}return this._linesToString(t)}},{key:"_getKernelString",value:function(){var t=[],e=this.subKernelOutputVariableNames;if(null!==e){t.push("highp float kernelResult = 0.0");for(var n=0;n<e.length;n++)t.push("highp float "+e[n]+" = 0.0")}else t.push("highp float kernelResult = 0.0");return this._linesToString(t)+this.functionBuilder.getPrototypeString("kernel")}},{key:"_getMainResultString",value:function(){var t=this.subKernelOutputVariableNames,e=[];if(this.floatOutput&&e.push("  index *= 4.0"),this.graphical)e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor");else if(this.floatOutput)for(var n=["r","g","b","a"],i=0;i<n.length;++i){if(e.push("  threadId = indexTo3D(index, uOutputDim)"),e.push("  kernel()"),t){e.push("  gl_FragData[0]."+n[i]+" = kernelResult");for(var r=0;r<t.length;++r)e.push("  gl_FragData["+(r+1)+"]."+n[i]+" = "+t[r])}else e.push("  gl_FragColor."+n[i]+" = kernelResult");i<n.length-1&&e.push("  index += 1.0")}else if(null!==t){e.push("  threadId = indexTo3D(index, uOutputDim)"),e.push("  kernel()"),e.push("  gl_FragData[0] = encode32(kernelResult)");for(var s=0;s<t.length;s++)e.push("  gl_FragData["+(s+1)+"] = encode32("+t[s]+")")}else e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = encode32(kernelResult)");return this._linesToString(e)}},{key:"_linesToString",value:function(t){return t.length>0?t.join(";\n")+";\n":"\n"}},{key:"_replaceArtifacts",value:function(t,e){return t.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z])*)__;\n/g,function(t,n){if(e.hasOwnProperty(n))return e[n];throw"unhandled artifact "+n})}},{key:"_addKernels",value:function(){var t=this.functionBuilder,e=this._webGl;if(t.addFunctions(this.functions,{constants:this.constants,output:this.output}),t.addNativeFunctions(this.nativeFunctions),t.addKernel(this.fnString,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations},this.paramNames,this.paramTypes),null!==this.subKernels){if(!(this.ext=e.getExtension("WEBGL_draw_buffers")))throw new Error("could not instantiate draw buffers extension");this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[];for(var n=0;n<this.subKernels.length;n++){var i=this.subKernels[n];t.addSubKernel(i,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations}),this.subKernelOutputTextures.push(this.getSubKernelTexture(n)),this.subKernelOutputVariableNames.push(i.name+"Result")}}else if(null!==this.subKernelProperties){if(!(this.ext=e.getExtension("WEBGL_draw_buffers")))throw new Error("could not instantiate draw buffers extension");for(var r in this.subKernelOutputTextures=[],this.subKernelOutputVariableNames=[],this.subKernelProperties)if(this.subKernelProperties.hasOwnProperty(r)){var s=this.subKernelProperties[r];t.addSubKernel(s,{prototypeOnly:!1,constants:this.constants,output:this.output,debug:this.debug,loopMaxIterations:this.loopMaxIterations}),this.subKernelOutputTextures.push(this.getSubKernelTexture(r)),this.subKernelOutputVariableNames.push(s.name+"Result")}}}},{key:"_getFragShaderString",value:function(t){return null!==this.compiledFragShaderString?this.compiledFragShaderString:this.compiledFragShaderString=this._replaceArtifacts(o,this._getFragShaderArtifactMap(t))}},{key:"_getVertShaderString",value:function(t){return null!==this.compiledVertShaderString?this.compiledVertShaderString:this.compiledVertShaderString=l}},{key:"toString",value:function(){return u(this)}},{key:"addFunction",value:function(t){this.functionBuilder.addFunction(null,t)}}]),e}()},dd6g:function(t,e,n){"use strict";t.exports="__HEADER__;\nprecision highp float;\nprecision highp int;\nprecision highp sampler2D;\n\nconst float LOOP_MAX = __LOOP_MAX__;\n#define EPSILON 0.0000001;\n\n__CONSTANTS__;\n\nvarying highp vec2 vTexCoord;\n\nvec4 round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nhighp float round(highp float x) {\n  return floor(x + 0.5);\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nhighp float integerMod(highp float x, highp float y) {\n  highp float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nhighp int integerMod(highp int x, highp int y) {\n  return int(integerMod(float(x), float(y)));\n}\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nhighp float decode32(highp vec4 rgba) {\n  __DECODE32_ENDIANNESS__;\n  rgba *= 255.0;\n  vec2 gte128;\n  gte128.x = rgba.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = rgba.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * rgba.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  rgba.b = rgba.b - 128.0 * gte128.x;\n  res = dot(rgba, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nhighp vec4 encode32(highp float f) {\n  highp float F = abs(f);\n  highp float sign = f < 0.0 ? 1.0 : 0.0;\n  highp float exponent = floor(log2(F));\n  highp float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 rgba = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  rgba.rg = integerMod(rgba.rg, 256.0);\n  rgba.b = integerMod(rgba.b, 128.0);\n  rgba.a = exponent*0.5 + 63.5;\n  rgba.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  rgba = floor(rgba);\n  rgba *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return rgba;\n}\n// Dragons end here\n\nhighp float index;\nhighp vec3 threadId;\n\nhighp vec3 indexTo3D(highp float idx, highp vec3 texDim) {\n  highp float z = floor(idx / (texDim.x * texDim.y));\n  idx -= z * texDim.x * texDim.y;\n  highp float y = floor(idx / texDim.x);\n  highp float x = integerMod(idx, texDim.x);\n  return vec3(x, y, z);\n}\n\nhighp float get(highp sampler2D tex, highp vec2 texSize, highp vec3 texDim, highp float z, highp float y, highp float x) {\n  highp vec3 xyz = vec3(x, y, z);\n  xyz = floor(xyz + 0.5);\n  __GET_WRAPAROUND__;\n  highp float index = round(xyz.x + texDim.x * (xyz.y + texDim.y * xyz.z));\n  __GET_TEXTURE_CHANNEL__;\n  highp float w = round(texSize.x);\n  vec2 st = vec2(integerMod(index, w), float(int(index) / int(w))) + 0.5;\n  __GET_TEXTURE_INDEX__;\n  highp vec4 texel = texture2D(tex, st / texSize);\n  __GET_RESULT__;\n}\n\nhighp float get(highp sampler2D tex, highp vec2 texSize, highp vec3 texDim, highp float y, highp float x) {\n  return get(tex, texSize, texDim, 0.0, y, x);\n}\n\nhighp float get(highp sampler2D tex, highp vec2 texSize, highp vec3 texDim, highp float x) {\n  return get(tex, texSize, texDim, 0.0, 0.0, x);\n}\n\nhighp vec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\n__MAIN_PARAMS__;\n__MAIN_CONSTANTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = floor(vTexCoord.s * float(uTexSize.x)) + floor(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}"},gNeC:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("cUbN"),s=n("SYVJ");t.exports=function(t){function e(){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"validateOptions",value:function(){this.texSize=s.dimToTexSize({floatTextures:this.floatTextures,floatOutput:this.floatOutput},this.output,!0)}}]),e}()},jqjZ:function(t,e,n){"use strict";var i=n("SYVJ");t.exports=function(t,e){var n=e.toString();return new Function("return function "+t+" ("+i.getParamNamesFromString(n).join(", ")+") {"+i.getFunctionBodyFromString(n)+"}")()}},kEol:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("0LW3"),s=n("9ebt");function a(t){return Math.floor(t+.5)}t.exports=function(t){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.Node=s,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r),i(e,[{key:"polyfillStandardFunctions",value:function(){this.addFunction("round",a)}}],[{key:"round",value:function(t){return a(t)}}]),e}()},lvn5:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n("SYVJ");t.exports=function(){function t(e,n){for(var i in function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.paramNames=r.getParamNamesFromString(e),this.fnString=e,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.wraparound=null,this.hardcodeConstants=null,this.outputToTexture=null,this.texSize=null,this._canvas=null,this._webGl=null,this.threadDim=null,this.floatTextures=null,this.floatOutput=null,this.floatOutputForce=null,this.addFunction=null,this.functions=null,this.nativeFunctions=null,this.copyData=!0,this.subKernels=null,this.subKernelProperties=null,this.subKernelNames=null,this.subKernelOutputVariableNames=null,this.functionBuilder=null,this.paramTypes=null,n)n.hasOwnProperty(i)&&this.hasOwnProperty(i)&&(this[i]=n[i]);n.hasOwnProperty("canvas")&&(this._canvas=n.canvas),n.hasOwnProperty("output")&&this.setOutput(n.output),this._canvas||(this._canvas=r.initCanvas())}return i(t,[{key:"build",value:function(){throw new Error('"build" not defined on Base')}},{key:"setupParams",value:function(t){for(var e=this.paramTypes=[],n=0;n<t.length;n++){var i=r.getArgumentType(t[n]);e.push(i)}}},{key:"setAddFunction",value:function(t){return this.addFunction=t,this}},{key:"setFunctions",value:function(t){return this.functions=t,this}},{key:"setOutput",value:function(t){return this.output=t.hasOwnProperty("x")?t.hasOwnProperty("y")?t.hasOwnProperty("z")?[t.x,t.y,t.z]:[t.x,t.y]:[t.x]:t,this}},{key:"setDebug",value:function(t){return this.debug=t,this}},{key:"setGraphical",value:function(t){return this.graphical=t,this}},{key:"setLoopMaxIterations",value:function(t){return this.loopMaxIterations=t,this}},{key:"setConstants",value:function(t){return this.constants=t,this}},{key:"setWraparound",value:function(t){return console.warn("Wraparound mode is not supported and undocumented."),this.wraparound=t,this}},{key:"setHardcodeConstants",value:function(t){return this.hardcodeConstants=t,this}},{key:"setOutputToTexture",value:function(t){return this.outputToTexture=t,this}},{key:"setFloatTextures",value:function(t){return this.floatTextures=t,this}},{key:"setFloatOutput",value:function(t){return this.floatOutput=t,this}},{key:"setFloatOutputForce",value:function(t){return this.floatOutputForce=t,this}},{key:"setCanvas",value:function(t){return this._canvas=t,this}},{key:"setWebGl",value:function(t){return this._webGl=t,this}},{key:"setCopyData",value:function(t){return this.copyData=t,this}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getWebGl",value:function(){return this._webGl}},{key:"validateOptions",value:function(){throw new Error("validateOptions not defined")}},{key:"exec",value:function(){return this.execute.apply(this,arguments)}},{key:"execute",value:function(){var t=this,e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);return r.newPromise(function(n,i){try{n(t.run.apply(t,e))}catch(t){i(t)}})}},{key:"addSubKernel",value:function(t){return null===this.subKernels&&(this.subKernels=[],this.subKernelNames=[]),this.subKernels.push(t),this.subKernelNames.push(r.getFunctionNameFromString(t)),this}},{key:"addSubKernelProperty",value:function(t,e){if(null===this.subKernelProperties&&(this.subKernelProperties={},this.subKernelNames=[]),this.subKernelProperties.hasOwnProperty(t))throw new Error("cannot add sub kernel "+t+", already defined");return this.subKernelProperties[t]=e,this.subKernelNames.push(r.getFunctionNameFromString(e)),this}},{key:"addNativeFunction",value:function(t,e){this.functionBuilder.addNativeFunction(t,e)}}]),t}()}});