webpackJsonp(["web-gl.module"],{PJNL:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("WT6e"),o=function(){},r=e("INQx"),s=e("mu/C"),c=e("1OzB"),h=e("voZO"),u=e("YaPU"),d=e("Ml+6"),p=e("l5y7"),_=Math.PI/2,g=function(){function n(n){this.zone=n,this.mouseup$=new l.n,this.mousedown$=new l.n}return n.prototype.ngOnInit=function(){this.activateLook$=u.a.merge(this.mousedown$.pipe(Object(p.map)(function(n){return n.stopPropagation(),n.preventDefault(),!0})),this.mouseup$.pipe(Object(p.map)(function(n){return n.stopPropagation(),n.preventDefault(),!1})))},n.prototype.ngOnDestroy=function(){this.renderer.dispose()},n.prototype.ngAfterContentInit=function(){this.clock=new d.d,this.scene=new d.o,this.scene.fog=new d.f(13421772,.002);var n=this.webGlCanvas.nativeElement;this.width=n.clientWidth,this.height=n.clientHeight,this.camera=new d.k(75,this.width/this.height,.1,1e3),this.camera.rotation.x=-Math.PI/5,this.camera.position.z=-.6,this.camera.position.y=1.86,this.camera.position.x=10,this.renderer=new d.v({canvas:n,antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.BasicShadowMap,this.renderer.setSize(this.width,this.height),this.controls=new THREE.OrbitControls(this.camera,n);var t=new d.a(16777215);this.scene.add(t);var e=new d.r(11184810,.75,200,.79,2);e.position.x=3,e.position.y=2,this.scene.add(e);var l=this.createLight(16716049);l.position.y=3,this.pointLight=l;var o=new d.g(new d.q(.2,8,8));new d.h({color:16716049}),o.name="sphere",o.position.set(l.position.x,l.position.y,l.position.z),this.pointLightSphere=o,this.pointLight.add(o),this.scene.add(l);var r=new d.b(1,1,1),s=new d.i({color:6689245,specular:39168,shininess:30,flatShading:!0});this.cube=new d.g(r,s),this.cube.castShadow=!0,this.cube.receiveShadow=!0,this.cube.position.y=.75,this.scene.add(this.cube),this.plane=this.createMandlebrotPlane(),this.plane.rotation.x=-_,this.plane.rotation.z=-.85*Math.PI,this.plane.translateX(7.5),this.plane.translateY(.5),this.plane.scale.setLength(.7),this.plane.receiveShadow=!0,this.scene.add(this.plane),this.lastFrameTime=0,this.camera.lookAt(this.cube.position),this.animate(0)},n.prototype.createLight=function(n){var t=new d.n(n);return t.castShadow=!0,t.shadow.camera.near=1,t.shadow.camera.far=60,t.shadow.bias=-.005,t},n.prototype.animate=function(n){var t=this;this.zone.runOutsideAngular(function(){t.resize();var e=t.clock.getDelta();t.cube.rotation.x+=.5*e,t.cube.rotation.y+=.5*e,t.pointLight.position.x=3*Math.sin(7e-4*n),t.pointLight.position.y=3+2*Math.cos(5e-4*n),t.pointLight.position.z=3*Math.cos(3e-4*n);var l=new d.e(.5*(Math.cos(3e-4*n)+1),.5*(Math.sin(5e-4*n)+1),.5*(Math.cos(7e-4*n)+1));t.pointLight.color.set(l),t.pointLightSphere.material.color.set(l),t.renderer.render(t.scene,t.camera),requestAnimationFrame(function(n){return t.animate(n)})})},n.prototype.createCheckerBoard=function(n){void 0===n&&(n=20);for(var t=new d.m(100,100,n,n),e=[new d.i({color:13421820,specular:39168,shininess:15,flatShading:!0}),new d.i({color:4473956,specular:39168,shininess:10,flatShading:!0})],x=0;x<n;x++)for(var y=0;y<n;y++){var j=2*(x*n+y);t.faces[j].materialIndex=t.faces[j+1].materialIndex=(x+y)%2}return new d.g(t,e)},n.prototype.createMandlebrotPlane=function(){return new d.g(new d.m(100,100,1,1),this.createMandelbrotMaterial())},n.prototype.createMandelbrotMaterial=function(){var n=d.t.merge([d.s.lights,{zoom:{type:"f",value:.05}}]);return new d.p({uniforms:n,vertexShader:"\n  precision highp float;\n  varying vec3 vPos;\n  varying vec2 vMandelbrotPos;\n  varying vec3 vNormal;\n  uniform float zoom;\n  void main () {\n    vPos = (modelViewMatrix * vec4(position, 1.0)).xyz;\n \n    vNormal = vec3(0.,1.,0.);\n    vMandelbrotPos = position.xy * zoom; \n        \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n  }\n",fragmentShader:'\n  struct PointLight {\n    vec3 color;\n    vec3 position; // light position, in camera coordinates\n    float distance; // used for attenuation purposes. Since\n                  // we\'re writing our own shader, it can\n                  // really be anything we want (as long as\n                  // we assign it to our light in its\n                  // "distance" field\n    float decay;\n  };\n  uniform PointLight pointLights[NUM_POINT_LIGHTS];\n  precision highp float;\n  varying vec3 vPos;\n  varying vec3 vNormal;\n  varying vec2 vMandelbrotPos;\n   \n  void main () {\n   \n    vec2 fractal = vMandelbrotPos.xy;\n    for (int i = 0; i < 35; i++) {\n      fractal = vMandelbrotPos.xy + vec2(\n        fractal.x * fractal.x - fractal.y * fractal.y,\n          2.0 * fractal.x * fractal.y\n        );\n      // interpolate fractal color over position\n       gl_FragColor = vec4(fractal, 0, 1);\n      // if outside of fractal, use greyish\n      if (length(fractal) > 2.5) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.);\n      }\n    }\n    \n    vec4 addedLights = vec4(0.0,0.0,0.0, 1.0);\n    for(int l = 0; l < NUM_POINT_LIGHTS; l++) {\n      vec3 lightDirection = normalize(vPos - pointLights[l].position);\n      addedLights.rgb += clamp(dot(-lightDirection, vNormal), 0.0, 1.0) * pointLights[l].color;\n    }\n    gl_FragColor = mix(gl_FragColor, addedLights, addedLights);\n  }\n',lights:!0})},n.prototype.resize=function(){var n=this.webGlCanvas.nativeElement,t=Math.min(n.parentElement.clientWidth,1024),e=n.parentElement.clientHeight;t===this.width&&e===this.height||(this.renderer.setSize(t,e,!0),this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.width=t,this.height=e)},n}(),m=l._2({encapsulation:0,styles:[["mat-card-content[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:calc(100vh - 250px)}canvas[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;max-width:1024px}"]],data:{}});function v(n){return l._27(0,[l._23(402653184,1,{webGlCanvas:0}),(n()(),l._4(1,0,null,null,21,"mat-card",[["appRaiseCard",""],["class","mat-card"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(n,t,e){var o=!0;return"mouseenter"===t&&(o=!1!==l._16(n,3).addRaisedClass()&&o),"mouseleave"===t&&(o=!1!==l._16(n,3).unraise()&&o),o},s.b,s.a)),l._3(2,49152,null,0,c.a,[],null,null),l._3(3,540672,null,0,h.a,[l.k],null,null),(n()(),l._25(-1,0,["\n  "])),(n()(),l._4(5,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),l._3(6,16384,null,0,c.j,[],null,null),(n()(),l._25(-1,null,["\n    Example for three.js.\n  "])),(n()(),l._25(-1,0,["\n  "])),(n()(),l._4(9,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),l._3(10,16384,null,0,c.i,[],null,null),(n()(),l._25(-1,null,["\n    Just some objects, lights and a plane with a custom mandelbrot shader.\n  "])),(n()(),l._25(-1,0,["\n  "])),(n()(),l._4(13,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l._3(14,16384,null,0,c.d,[],null,null),(n()(),l._25(-1,null,["\n    "])),(n()(),l._4(16,0,[[1,0],["webGlCanvas",1]],null,1,"canvas",[],null,[[null,"mouseup"],[null,"mousedown"]],function(n,t,e){var l=!0,o=n.component;return"mouseup"===t&&(l=!1!==o.mouseup$.emit(e)&&l),"mousedown"===t&&(l=!1!==o.mousedown$.emit(e)&&l),l},null,null)),(n()(),l._25(-1,null,["\n    "])),(n()(),l._25(-1,null,["\n  "])),(n()(),l._25(-1,0,["\n  "])),(n()(),l._4(20,0,null,1,1,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),l._3(21,16384,null,0,c.e,[],null,null),(n()(),l._25(-1,0,["\n"])),(n()(),l._25(-1,null,["\n\n"]))],null,null)}var w=l._0("app-web-gl",g,function(n){return l._27(0,[(n()(),l._4(0,0,null,null,1,"app-web-gl",[],null,null,null,v,m)),l._3(1,1294336,null,0,g,[l.y],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),M=e("Xjw4"),P=e("7DMc"),L=e("9Sd6"),S=e("XHgV"),z=e("U/+3"),C=e("6sdf"),O=e("Uo70"),I=e("1T37"),D=e("+j5Y"),E=e("Mcof"),N=e("7u3n"),T=e("z7Rf"),H=e("ItHS"),F=e("OE0E"),G=e("NwsS"),$=e("fTri"),A=e("gsbp"),q=e("AP/s"),B=e("TBIh"),J=e("704W"),R=e("j06o"),U=e("bkcK"),W=e("ZuzD"),X=e("sqmn"),V=e("kJ/S"),Y=e("4rwD"),Z=e("86rF"),K=e("6GVX"),Q=e("JkvL"),nn=e("+76Z"),tn=e("Bp8q"),en=e("fAE3"),an=e("bfOx");e.d(t,"WebGlModuleNgFactory",function(){return ln});var ln=l._1(o,[],function(n){return l._12([l._13(512,l.j,l.X,[[8,[r.a,w]],[3,l.j],l.w]),l._13(4608,M.m,M.l,[l.t,[2,M.v]]),l._13(4608,P.v,P.v,[]),l._13(6144,L.b,null,[M.d]),l._13(4608,L.c,L.c,[[2,L.b]]),l._13(4608,S.a,S.a,[]),l._13(4608,z.i,z.i,[S.a]),l._13(4608,z.h,z.h,[z.i,l.y,M.d]),l._13(136192,z.d,z.b,[[3,z.d],M.d]),l._13(5120,z.l,z.k,[[3,z.l],[2,z.j],M.d]),l._13(5120,z.g,z.e,[[3,z.g],l.y,S.a]),l._13(4608,C.b,C.b,[]),l._13(4608,O.d,O.d,[]),l._13(5120,I.d,I.b,[[3,I.d],l.y,S.a]),l._13(5120,I.g,I.f,[[3,I.g],S.a,l.y]),l._13(4608,D.i,D.i,[I.d,I.g,l.y,M.d]),l._13(5120,D.e,D.j,[[3,D.e],M.d]),l._13(4608,D.h,D.h,[I.g,M.d]),l._13(5120,D.f,D.m,[[3,D.f],M.d]),l._13(4608,D.c,D.c,[D.i,D.e,l.j,D.h,D.f,l.g,l.q,l.y,M.d]),l._13(5120,D.k,D.l,[D.c]),l._13(4608,E.d,E.d,[S.a]),l._13(135680,E.a,E.a,[E.d,l.y]),l._13(5120,N.b,N.c,[D.c]),l._13(5120,T.d,T.a,[[3,T.d],[2,H.a],F.c,[2,M.d]]),l._13(5120,G.a,G.b,[D.c]),l._13(4608,F.f,O.e,[[2,O.i],[2,O.n]]),l._13(512,M.c,M.c,[]),l._13(512,$.a,$.a,[]),l._13(512,P.s,P.s,[]),l._13(512,P.h,P.h,[]),l._13(512,L.a,L.a,[]),l._13(256,O.f,!0,[]),l._13(512,O.n,O.n,[[2,O.f]]),l._13(512,S.b,S.b,[]),l._13(512,O.x,O.x,[]),l._13(512,z.a,z.a,[]),l._13(512,A.c,A.c,[]),l._13(512,C.c,C.c,[]),l._13(512,q.c,q.c,[]),l._13(512,B.c,B.c,[]),l._13(512,J.b,J.b,[]),l._13(512,R.b,R.b,[]),l._13(512,U.g,U.g,[]),l._13(512,I.c,I.c,[]),l._13(512,D.g,D.g,[]),l._13(512,E.c,E.c,[]),l._13(512,N.e,N.e,[]),l._13(512,T.c,T.c,[]),l._13(512,c.h,c.h,[]),l._13(512,O.o,O.o,[]),l._13(512,O.v,O.v,[]),l._13(512,W.a,W.a,[]),l._13(512,X.c,X.c,[]),l._13(512,O.t,O.t,[]),l._13(512,G.d,G.d,[]),l._13(512,V.h,V.h,[]),l._13(512,Y.b,Y.b,[]),l._13(512,Z.b,Z.b,[]),l._13(512,K.j,K.j,[]),l._13(512,Q.b,Q.b,[]),l._13(512,nn.b,nn.b,[]),l._13(512,tn.b,tn.b,[]),l._13(512,en.a,en.a,[]),l._13(512,an.o,an.o,[[2,an.t],[2,an.l]]),l._13(512,o,o,[]),l._13(256,N.a,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[]),l._13(256,V.a,!1,[]),l._13(1024,an.j,function(){return[[{path:"",component:g}]]},[])])})}});