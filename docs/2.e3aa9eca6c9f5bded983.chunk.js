webpackJsonp([2],{PJNL:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("WT6e"),i=function(){},o=t("INQx"),l=t("mu/C"),r=t("1OzB"),s=t("voZO"),c=t("YaPU"),u=t("Ml+6"),h=t("l5y7"),d=Math.PI/2,p=function(){function n(n){this.zone=n,this.mouseup$=new a.n,this.mousedown$=new a.n}return n.prototype.ngOnInit=function(){this.activateLook$=c.a.merge(this.mousedown$.pipe(Object(h.map)(function(n){return n.stopPropagation(),n.preventDefault(),!0})),this.mouseup$.pipe(Object(h.map)(function(n){return n.stopPropagation(),n.preventDefault(),!1})))},n.prototype.ngOnDestroy=function(){this.renderer.dispose()},n.prototype.ngAfterContentInit=function(){this.clock=new u.d,this.scene=new u.o,this.scene.fog=new u.f(13421772,.002);var n=this.webGlCanvas.nativeElement;this.width=n.clientWidth,this.height=n.clientHeight,this.camera=new u.k(75,this.width/this.height,.1,1e3),this.camera.rotation.x=-Math.PI/5,this.camera.position.z=-.6,this.camera.position.y=1.86,this.camera.position.x=10,this.renderer=new u.v({canvas:n,antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.BasicShadowMap,this.renderer.setSize(this.width,this.height),this.controls=new THREE.OrbitControls(this.camera,n);var e=new u.a(16777215);this.scene.add(e);var t=new u.r(11184810,.75,200,.79,2);t.position.x=3,t.position.y=2,this.scene.add(t);var a=this.createLight(16716049);a.position.y=3,this.pointLight=a;var i=new u.g(new u.q(.2,8,8));new u.h({color:16716049}),i.name="sphere",i.position.set(a.position.x,a.position.y,a.position.z),this.pointLightSphere=i,this.pointLight.add(i),this.scene.add(a);var o=new u.b(1,1,1),l=new u.i({color:6689245,specular:39168,shininess:30,flatShading:!0});this.cube=new u.g(o,l),this.cube.castShadow=!0,this.cube.receiveShadow=!0,this.cube.position.y=.75,this.scene.add(this.cube),this.checkerBoard=this.createMandlebrotPlane(),this.checkerBoard.rotation.x=-d,this.checkerBoard.receiveShadow=!0,this.scene.add(this.checkerBoard),this.lastFrameTime=0,this.camera.lookAt(this.cube.position),this.animate(0)},n.prototype.createLight=function(n){var e=new u.n(n);return e.castShadow=!0,e.shadow.camera.near=1,e.shadow.camera.far=60,e.shadow.bias=-.005,e},n.prototype.animate=function(n){var e=this;this.zone.runOutsideAngular(function(){e.resize();var t=e.clock.getDelta();e.cube.rotation.x+=.5*t,e.cube.rotation.y+=.5*t,e.pointLight.position.x=3*Math.sin(7e-4*n),e.pointLight.position.y=3+2*Math.cos(5e-4*n),e.pointLight.position.z=3*Math.cos(3e-4*n);var a=new u.e(.5*(Math.cos(3e-4*n)+1),.5*(Math.sin(5e-4*n)+1),.5*(Math.cos(7e-4*n)+1));e.pointLight.color.set(a),e.pointLightSphere.material.color.set(a),e.renderer.render(e.scene,e.camera),requestAnimationFrame(function(n){return e.animate(n)})})},n.prototype.createCheckerBoard=function(n){void 0===n&&(n=20);for(var e=new u.m(100,100,n,n),t=[new u.i({color:13421820,specular:39168,shininess:15,flatShading:!0}),new u.i({color:4473956,specular:39168,shininess:10,flatShading:!0})],a=0;a<n;a++)for(var i=0;i<n;i++){var o=2*(a*n+i);e.faces[o].materialIndex=e.faces[o+1].materialIndex=(a+i)%2}return new u.g(e,t)},n.prototype.createMandlebrotPlane=function(){return new u.g(new u.m(100,100,1,1),this.createMandelbrotMaterial())},n.prototype.createMandelbrotMaterial=function(){var n=u.t.merge([u.s.lights,{zoom:{type:"f",value:.05}}]);return new u.p({uniforms:n,vertexShader:"\n  precision highp float;\n  varying vec3 vPos;\n  varying vec2 vMandelbrotPos;\n  varying vec3 vNormal;\n  uniform float zoom;\n  void main () {\n    vPos = (modelViewMatrix * vec4(position, 1.0)).xyz;\n \n    vNormal = vec3(0.,1.,0.);\n    vMandelbrotPos = position.xy * zoom; \n        \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n  }\n",fragmentShader:'\n  struct PointLight {\n    vec3 color;\n    vec3 position; // light position, in camera coordinates\n    float distance; // used for attenuation purposes. Since\n                  // we\'re writing our own shader, it can\n                  // really be anything we want (as long as\n                  // we assign it to our light in its\n                  // "distance" field\n    float decay;\n  };\n  uniform PointLight pointLights[NUM_POINT_LIGHTS];\n  precision highp float;\n  varying vec3 vPos;\n  varying vec3 vNormal;\n  varying vec2 vMandelbrotPos;\n   \n  void main () {\n   \n    vec2 fractal = vMandelbrotPos.xy;\n    for (int i = 0; i < 35; i++) {\n      fractal = vMandelbrotPos.xy + vec2(\n        fractal.x * fractal.x - fractal.y * fractal.y,\n          2.0 * fractal.x * fractal.y\n        );\n      // interpolate fractal color over position\n       gl_FragColor = vec4(fractal, 0, 1);\n      // if outside of fractal, use greyish\n      if (length(fractal) > 2.5) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.);\n      }\n    }\n    \n    vec4 addedLights = vec4(0.0,0.0,0.0, 1.0);\n    for(int l = 0; l < NUM_POINT_LIGHTS; l++) {\n      vec3 lightDirection = normalize(vPos - pointLights[l].position);\n      addedLights.rgb += clamp(dot(-lightDirection, vNormal), 0.0, 1.0) * pointLights[l].color;\n    }\n    gl_FragColor = mix(gl_FragColor, addedLights, addedLights);\n  }\n',lights:!0})},n.prototype.resize=function(){var n=this.webGlCanvas.nativeElement,e=n.parentElement.clientWidth,t=n.parentElement.clientHeight;e===this.width&&t===this.height||(this.renderer.setSize(e,t,!0),this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.width=e,this.height=t)},n}(),_=a._2({encapsulation:0,styles:[["mat-card-content[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:calc(100vh - 250px)}canvas[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;max-width:1024px}"]],data:{}});function g(n){return a._27(0,[a._23(402653184,1,{webGlCanvas:0}),(n()(),a._4(1,0,null,null,21,"mat-card",[["appRaiseCard",""],["class","mat-card"]],null,[[null,"mouseenter"],[null,"mouseleave"]],function(n,e,t){var i=!0;return"mouseenter"===e&&(i=!1!==a._16(n,3).addRaisedClass()&&i),"mouseleave"===e&&(i=!1!==a._16(n,3).unraise()&&i),i},l.b,l.a)),a._3(2,49152,null,0,r.a,[],null,null),a._3(3,540672,null,0,s.a,[a.k],null,null),(n()(),a._25(-1,0,["\n  "])),(n()(),a._4(5,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),a._3(6,16384,null,0,r.j,[],null,null),(n()(),a._25(-1,null,["\n    Example for three.js.\n  "])),(n()(),a._25(-1,0,["\n  "])),(n()(),a._4(9,0,null,0,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),a._3(10,16384,null,0,r.i,[],null,null),(n()(),a._25(-1,null,["\n    Just some objects, lights and a plane with a custom mandelbrot shader.\n  "])),(n()(),a._25(-1,0,["\n  "])),(n()(),a._4(13,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),a._3(14,16384,null,0,r.d,[],null,null),(n()(),a._25(-1,null,["\n    "])),(n()(),a._4(16,0,[[1,0],["webGlCanvas",1]],null,1,"canvas",[],null,[[null,"mouseup"],[null,"mousedown"]],function(n,e,t){var a=!0,i=n.component;return"mouseup"===e&&(a=!1!==i.mouseup$.emit(t)&&a),"mousedown"===e&&(a=!1!==i.mousedown$.emit(t)&&a),a},null,null)),(n()(),a._25(-1,null,["\n    "])),(n()(),a._25(-1,null,["\n  "])),(n()(),a._25(-1,0,["\n  "])),(n()(),a._4(20,0,null,1,1,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),a._3(21,16384,null,0,r.e,[],null,null),(n()(),a._25(-1,0,["\n"])),(n()(),a._25(-1,null,["\n\n"]))],null,null)}var m=a._0("app-web-gl",p,function(n){return a._27(0,[(n()(),a._4(0,0,null,null,1,"app-web-gl",[],null,null,null,g,_)),a._3(1,1294336,null,0,p,[a.y],null,null)],function(n,e){n(e,1,0)},null)},{},{},[]),f=t("Xjw4"),v=t("7DMc"),b=t("9Sd6"),w=t("XHgV"),y=t("U/+3"),x=t("6sdf"),M=t("Uo70"),P=t("1T37"),L=t("+j5Y"),k=t("Mcof"),S=t("7u3n"),j=t("z7Rf"),z=t("ItHS"),C=t("OE0E"),O=t("NwsS"),I=t("fTri"),D=t("gsbp"),E=t("AP/s"),N=t("TBIh"),T=t("704W"),B=t("j06o"),H=t("bkcK"),F=t("ZuzD"),G=t("sqmn"),$=t("kJ/S"),A=t("4rwD"),q=t("86rF"),J=t("6GVX"),R=t("JkvL"),U=t("+76Z"),W=t("Bp8q"),V=t("fAE3"),X=t("bfOx");t.d(e,"WebGlModuleNgFactory",function(){return Z});var Z=a._1(i,[],function(n){return a._12([a._13(512,a.j,a.X,[[8,[o.a,m]],[3,a.j],a.w]),a._13(4608,f.m,f.l,[a.t,[2,f.v]]),a._13(4608,v.u,v.u,[]),a._13(6144,b.b,null,[f.d]),a._13(4608,b.c,b.c,[[2,b.b]]),a._13(4608,w.a,w.a,[]),a._13(4608,y.i,y.i,[w.a]),a._13(4608,y.h,y.h,[y.i,a.y,f.d]),a._13(136192,y.d,y.b,[[3,y.d],f.d]),a._13(5120,y.l,y.k,[[3,y.l],[2,y.j],f.d]),a._13(5120,y.g,y.e,[[3,y.g],a.y,w.a]),a._13(4608,x.b,x.b,[]),a._13(4608,M.d,M.d,[]),a._13(5120,P.d,P.b,[[3,P.d],a.y,w.a]),a._13(5120,P.g,P.f,[[3,P.g],w.a,a.y]),a._13(4608,L.i,L.i,[P.d,P.g,a.y,f.d]),a._13(5120,L.e,L.j,[[3,L.e],f.d]),a._13(4608,L.h,L.h,[P.g,f.d]),a._13(5120,L.f,L.m,[[3,L.f],f.d]),a._13(4608,L.c,L.c,[L.i,L.e,a.j,L.h,L.f,a.g,a.q,a.y,f.d]),a._13(5120,L.k,L.l,[L.c]),a._13(4608,k.d,k.d,[w.a]),a._13(135680,k.a,k.a,[k.d,a.y]),a._13(5120,S.b,S.c,[L.c]),a._13(5120,j.d,j.a,[[3,j.d],[2,z.a],C.c,[2,f.d]]),a._13(5120,O.a,O.b,[L.c]),a._13(4608,C.f,M.e,[[2,M.i],[2,M.n]]),a._13(512,I.a,I.a,[]),a._13(512,f.c,f.c,[]),a._13(512,v.r,v.r,[]),a._13(512,v.h,v.h,[]),a._13(512,b.a,b.a,[]),a._13(256,M.f,!0,[]),a._13(512,M.n,M.n,[[2,M.f]]),a._13(512,w.b,w.b,[]),a._13(512,M.x,M.x,[]),a._13(512,y.a,y.a,[]),a._13(512,D.c,D.c,[]),a._13(512,x.c,x.c,[]),a._13(512,E.c,E.c,[]),a._13(512,N.c,N.c,[]),a._13(512,T.b,T.b,[]),a._13(512,B.b,B.b,[]),a._13(512,H.g,H.g,[]),a._13(512,P.c,P.c,[]),a._13(512,L.g,L.g,[]),a._13(512,k.c,k.c,[]),a._13(512,S.e,S.e,[]),a._13(512,j.c,j.c,[]),a._13(512,r.h,r.h,[]),a._13(512,M.o,M.o,[]),a._13(512,M.v,M.v,[]),a._13(512,F.a,F.a,[]),a._13(512,G.c,G.c,[]),a._13(512,M.t,M.t,[]),a._13(512,O.d,O.d,[]),a._13(512,$.h,$.h,[]),a._13(512,A.b,A.b,[]),a._13(512,q.b,q.b,[]),a._13(512,J.j,J.j,[]),a._13(512,R.b,R.b,[]),a._13(512,U.b,U.b,[]),a._13(512,W.b,W.b,[]),a._13(512,V.a,V.a,[]),a._13(512,X.o,X.o,[[2,X.t],[2,X.l]]),a._13(512,i,i,[]),a._13(256,S.a,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[]),a._13(256,$.a,!1,[]),a._13(1024,X.j,function(){return[[{path:"",component:p}]]},[])])})}});